<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>Dictionary of Plotscripting Commands</title>
<style type="text/css">

					body,p,h1,h2,h3,h4,h5,h6 {
						color: white;
						background-color: black;
					}

					h2 {
						font-style: italic;
					}

					h3 {
						color: #f06060;
					}

					h4 {
						color: yellow;
					}

					pre {
						background-color:#FFFFFF;
						color:#000000;
						border-width:3px;
						border-style:ridge;
						padding:10px;
						padding-left:20px;
						/*font-family:fixedsys,monospace;*/
					}

					a {
						color:#00ff00;
					}
					a:active {
						color: #d0d000;
					}
					a:visited {
						color: #009090;
					}

					a.undef {
						font-weight:bold;
						color:red;
					}

					a.ref:after {
						/*content: " ?";*/
					}

					.key, .param {
						font-weight: bold;
						color: yellow;
					}

					/*.param {
						color: yellow;
					}*/

					.seealso {
						display: inline;
						margin:0;
						padding:0;
					}

					.seealso li {
						display: inline;

					}

					div.note {
					  border:thin black solid;
					  padding:5px;
					  color:black;
					  margin:3px;
					  min-height: 48 px;
					  height: 48 px;
					}

					div.note a {
					  color: #008800;
					}

					div.note .param, div.note .key {
					  color: #888800;
					}
					
					.icon {
						float:left;
						padding-right: 5px;
					}

				</style>
</head>
<body>
<h1>Plotscripting Dictionary</h1>
<p>This is a listing of all the plotscripting commands implemented as of right now.</p>
<p>In addition to reading this document, I also recommend you check out Plotscripting Tutorial and the HamsterSpeak Specification</p>
<hr>
<h2>Commands by Category</h2>
<p>
		<a href="#Declarations">Declarations</a><br>
	
		<a href="#Wait%20Commands">Wait Commands</a><br>
	
		<a href="#Suspend%20and%20Resume">Suspend and Resume</a><br>
	
		<a href="#Moving%20Heroes">Moving Heroes</a><br>
	
		<a href="#Moving%20NPCs">Moving NPCs</a><br>
	
		<a href="#Moving%20the%20Camera">Moving the Camera</a><br>
	
		<a href="#Text%20Boxes">Text Boxes</a><br>
	
		<a href="#Triggering%20and%20Showing%20Stuff">Triggering and Showing Stuff</a><br>
	
		<a href="#Adding%20and%20Removing">Adding and Removing</a><br>
	
		<a href="#Effects">Effects</a><br>
	
		<a href="#Hero's%20Spells">Hero's Spells</a><br>
	
		<a href="#Mouse%20Functions">Mouse Functions</a><br>
	
		<a href="#String%20Functions">String Functions</a><br>
	
		<a href="#Menu%20Functions">Menu Functions</a><br>
	
		<a href="#Sprite%20Functions">Sprite Functions</a><br>
	
		<a href="#Slice%20Functions">Slice Functions</a><br>
	
		<a href="#Misc%20Functions">Misc Functions</a><br>
	
		<a href="#Enemy%20and%20Formation%20Functions">Enemy and Formation Functions</a><br>
	
		<a href="#Tweaking%20Maps">Tweaking Maps</a><br>
	
		<a href="#Working%20with%20Tags">Working with Tags</a><br>
	
		<a href="#Working%20with%20Variables">Working with Variables</a><br>
	
		<a href="#Math,%20Comparison,%20and%20Logic%20Operators">Math, Comparison, and Logic Operators</a><br>
	
		<a href="#Flow%20Control">Flow Control</a><br>
	
		<a href="#Advanced%20Commands">Advanced Commands</a><br>
	
		<a href="#Predefined%20Constants">Predefined Constants</a><br>
	</p>
<hr>
<h2>Alphabetical Index</h2>
<p>
		<a href="#about-activatemenuitem">use menu item(menu item handle)</a><br>
		
	
		<a href="#about-add">number + number</a><br>
		
	
		<a href="#about-addenemytoformation">add enemy to formation (formation, enemy id, x, y, slot)</a><br>
		
	
		<a href="#about-addhero">add hero (who)</a><br>
		
	
		<a href="#about-addmenuitem">add menu item(menu handle)</a><br>
		
	
		<a href="#about-advancetextbox">advance text box</a><br>
		
	
		<a href="#about-allowminimap">allow minimap (setting)</a><br>
		
	
		<a href="#about-allowsaveanywhere">allow save anywhere (setting)</a><br>
		
	
		<a href="#about-alternpc">alter NPC (who,NPCstat,value)</a><br>
		
	
		<a href="#about-and">value,and,value</a><br>
		
	
		<a href="#about-animationstarttile">animation start tile (tile number, layer)</a><br>
		
	
		
		<a href="#about-keyconstants">any key</a><br>
	
		<a href="#about-appendascii">append ascii (ID, char)</a><br>
		
	
		<a href="#about-appendnumber">append number (ID, number)</a><br>
		
	
		<a href="#about-asciifromstring">ascii from string (ID, position)</a><br>
		
	
		<a href="#about-autonumber">autonumber</a><br>
		
	
		<a href="#about-autosave">autosave</a><br>
		
	
		<a href="#about-begin">begin,other commands,end</a><br>
		
	
		<a href="#about-booleanconstants">Boolean Constants</a><br>
		
	
		<a href="#about-bottommenu">bottom menu</a><br>
		
	
		<a href="#about-break">break</a><br>
		
	
		<a href="#about-bringmenuforward">bring menu forward(menu handle)</a><br>
		
	
		<a href="#about-camerafollowshero">camera follows hero (who)</a><br>
		
	
		<a href="#about-camerafollowsnpc">camera follows NPC (who)</a><br>
		
	
		<a href="#about-camerapixelx">camera pixel X</a><br>
		
	
		<a href="#about-camerapixely">camera pixel Y</a><br>
		
	
		
		<a href="#about-keyconstants">cancel key</a><br>
	
		<a href="#about-cancelmapnamedisplay">cancel map name display</a><br>
		
	
		<a href="#about-canlearnspell">can learn spell (hero,attack)</a><br>
		
	
		<a href="#about-case">case(value)</a><br>
		
	
		<a href="#about-centerslice">center slice (handle)</a><br>
		
	
		<a href="#about-centerstringat">center string at (ID, x, y)</a><br>
		
	
		<a href="#about-changenpcid">change NPC ID (reference,new ID)</a><br>
		
	
		<a href="#about-changetileset">change tileset (tileset, layer)</a><br>
		
	
		<a href="#about-checkequipment">check equipment (hero,slot)</a><br>
		
	
		<a href="#about-checkherowall">check hero wall (who,direction)</a><br>
		
	
		<a href="#about-checknpcwall">check NPC wall (who, direction)</a><br>
		
	
		<a href="#about-checkparentage">check parentage (handle, parent handle)</a><br>
		
	
		<a href="#about-checktag">check tag (tag)</a><br>
		
	
		<a href="#about-childcount">child count (handle)</a><br>
		
	
		<a href="#about-clampslice">clamp slice (handle1, handle2)</a><br>
		
	
		<a href="#about-clearstring">clear string(ID)</a><br>
		
	
		<a href="#about-clonesprite">clone sprite (handle)</a><br>
		
	
		<a href="#about-closemenu">close menu(menu handle)</a><br>
		
	
		
		<a href="#about-colorconstants">color:blue</a><br>
	
		<a href="#about-colorconstants">Color Constants</a><br>
		
	
		
		<a href="#about-colorconstants">color:green</a><br>
	
		
		<a href="#about-colorconstants">color:red</a><br>
	
		<a href="#about-concatenatestrings">concatenate strings (dest, source)</a><br>
		
	
		<a href="#about-continue">continue</a><br>
		
	
		<a href="#about-copystring">copy string (dest, source)</a><br>
		
	
		<a href="#about-createcontainer">create container (width, height)</a><br>
		
	
		<a href="#about-creategrid">create grid (width, height, rows, columns)</a><br>
		
	
		<a href="#about-createmenu">create menu</a><br>
		
	
		<a href="#about-createnpc">create NPC (ID,X,Y,direction)</a><br>
		
	
		<a href="#about-createrect">create rect (width, height, style)</a><br>
		
	
		<a href="#about-createtext">create text</a><br>
		
	
		<a href="#about-crop">crop</a><br>
		
	
		<a href="#about-currentdisplaytile">current display tile (tile number, layer)</a><br>
		
	
		<a href="#about-currentmap">current map</a><br>
		
	
		<a href="#about-currentsong">current song</a><br>
		
	
		<a href="#about-currentstat">current stat</a><br>
		
	
		<a href="#about-currenttextbox">current text box</a><br>
		
	
		<a href="#about-daysofplay">days of play</a><br>
		
	
		<a href="#about-decrement">decrement (variable,amount)</a><br>
		
	
		<a href="#about-defaulttile">default tile</a><br>
		
	
		<a href="#about-defineconstant">define constant (number,name)</a><br>
		
	
		<a href="#about-definescript">define script (id,name,arguments)</a><br>
		
	
		<a href="#about-deletechar">delete char (ID, position)</a><br>
		
	
		<a href="#about-deleteenemyfromformation">delete enemy from formation (formation, slot)</a><br>
		
	
		<a href="#about-deletehero">delete hero (who)</a><br>
		
	
		<a href="#about-deleteitem">delete item (item,number)</a><br>
		
	
		<a href="#about-deletemapstate">delete map state (whichdata)</a><br>
		
	
		<a href="#about-deletemenuitem">delete menu item(menu item handle)</a><br>
		
	
		<a href="#about-deletesave">delete save (slot)</a><br>
		
	
		<a href="#about-destroynpc">destroy NPC (reference)</a><br>
		
	
		<a href="#about-directionconstants">Direction Constants</a><br>
		
	
		<a href="#about-dismountvehicle">dismount vehicle</a><br>
		
	
		<a href="#about-divide">number / number</a><br>
		
	
		<a href="#about-do">do</a><br>
		
	
		
		<a href="#about-directionconstants">down</a><br>
	
		
		<a href="#about-keyconstants">down key</a><br>
	
		<a href="#about-drawnpcsaboveheroes">draw NPCs above heroes (setting)</a><br>
		
	
		
		<a href="#about-directionconstants">east</a><br>
	
		
		<a href="#about-tileconstants">east wall</a><br>
	
		
		<a href="#about-numericconstants">eight</a><br>
	
		
		<a href="#about-if">else</a><br>
	
		
		<a href="#about-begin">end</a><br>
	
		<a href="#about-equal">number == number</a><br>
		
	
		<a href="#about-equipmenu">equip menu (who)</a><br>
		
	
		<a href="#about-equipwhere">equip where (hero,item)</a><br>
		
	
		<a href="#about-exitreturning">exit returning(value)</a><br>
		
	
		<a href="#about-exitscript">exit script</a><br>
		
	
		<a href="#about-expandstring">expand string(ID)</a><br>
		
	
		<a href="#about-experiencetolevel">experience to level (level)</a><br>
		
	
		<a href="#about-experiencetonextlevel">experience to next level (who)</a><br>
		
	
		<a href="#about-exponent">number ^ power</a><br>
		
	
		<a href="#about-exportglobals">export globals (slot, first, last)</a><br>
		
	
		<a href="#about-extractcolor">extract color(color, component)</a><br>
		
	
		<a href="#about-fadescreenin">fade screen in</a><br>
		
	
		<a href="#about-fadescreenout">fade screen out (red,green,blue)</a><br>
		
	
		
		<a href="#about-booleanconstants">false</a><br>
	
		<a href="#about-fightformation">fight formation (number)</a><br>
		
	
		<a href="#about-fillparent">fill parent (handle, true_or_false)</a><br>
		
	
		<a href="#about-findcollidingslice">find colliding slice (parent, slice, number, check descendants)</a><br>
		
	
		<a href="#about-findenemyinformation">find enemy in formation (formation, enemy id, copy number)</a><br>
		
	
		<a href="#about-findhero">find hero (who)</a><br>
		
	
		<a href="#about-findmenuid">find menu ID(menu ID)</a><br>
		
	
		<a href="#about-findmenuitemcaption">find menu item caption(menu handle, string ID, search after handle, visible only)</a><br>
		
	
		<a href="#about-firstchild">first child(handle)</a><br>
		
	
		<a href="#about-firstcontainerchild">first container child(handle)</a><br>
		
	
		<a href="#about-firstmenuitem">first menu item(menu handle)</a><br>
		
	
		<a href="#about-firstrectchild">first rect child(handle)</a><br>
		
	
		<a href="#about-firstspritechild">first sprite child(handle)</a><br>
		
	
		
		<a href="#about-numericconstants">five</a><br>
	
		<a href="#about-focuscamera">focus camera (x,y,speed)</a><br>
		
	
		<a href="#about-for">for(counter,start,finish,step) do(commands)</a><br>
		
	
		<a href="#about-forceequip">force equip (hero,slot,item)</a><br>
		
	
		<a href="#about-forgetspell">forget spell (hero,attack)</a><br>
		
	
		<a href="#about-formationprobability">formation probability (formation set, formation)</a><br>
		
	
		<a href="#about-formationsetfrequency">formation set frequency (formation set)</a><br>
		
	
		<a href="#about-formationslotenemy">formation slot enemy (formation, slot)</a><br>
		
	
		<a href="#about-formationslotx">formation slot x (formation, slot)</a><br>
		
	
		<a href="#about-formationsloty">formation slot y (formation, slot)</a><br>
		
	
		
		<a href="#about-numericconstants">four</a><br>
	
		<a href="#about-freeslice">free slice (handle)</a><br>
		
	
		<a href="#about-freeslicechildren">free slice children (handle)</a><br>
		
	
		<a href="#about-freesprite">free sprite (handle)</a><br>
		
	
		<a href="#about-gameover">game over</a><br>
		
	
		<a href="#about-getambientmusic">get ambient music</a><br>
		
	
		<a href="#about-getattackname">get attack name (ID, attack)</a><br>
		
	
		<a href="#about-getbottompadding">get bottom padding (handle)</a><br>
		
	
		<a href="#about-getcolor">get color(index)</a><br>
		
	
		<a href="#about-getcount">get count</a><br>
		
	
		<a href="#about-getdamagecap">get damage cap</a><br>
		
	
		<a href="#about-getdeathscript">get death script</a><br>
		
	
		<a href="#about-getdefaultweapon">get default weapon (hero)</a><br>
		
	
		<a href="#about-geteachstepscript">get each step script</a><br>
		
	
		<a href="#about-getenemyappearance">get enemy appearance (enemyid, appearance)</a><br>
		
	
		<a href="#about-getenemyname">get enemy name (enemyid, stringid)</a><br>
		
	
		<a href="#about-getenemystat">get enemy stat(enemy, stat)</a><br>
		
	
		<a href="#about-getfootoffset">get foot offset</a><br>
		
	
		<a href="#about-getformationbackground">get formation background (formation, background)</a><br>
		
	
		<a href="#about-getformationsong">get formation song (formation)</a><br>
		
	
		<a href="#about-getglobalstring">get global string (ID, global)</a><br>
		
	
		<a href="#about-getgridcolumns">get grid columns (handle)</a><br>
		
	
		<a href="#about-getgridrows">get grid rows (handle)</a><br>
		
	
		<a href="#about-getherolevel">get hero level (who)</a><br>
		
	
		<a href="#about-getheroname">get hero name (ID, hero)</a><br>
		
	
		<a href="#about-getheropalette">get hero palette (who,type)</a><br>
		
	
		<a href="#about-getheropicture">get hero picture (who,type)</a><br>
		
	
		<a href="#about-getherospeed">get hero speed (who)</a><br>
		
	
		<a href="#about-getherostat">get hero stat (who,stat,type)</a><br>
		
	
		<a href="#about-getherostatcap">get hero stat cap (stat)</a><br>
		
	
		<a href="#about-getinsteadofbattlescript">get instead of battle script</a><br>
		
	
		<a href="#about-getinventorysize">get inventory size</a><br>
		
	
		<a href="#about-getitem">get item (item,number)</a><br>
		
	
		<a href="#about-getitemname">get item name (ID, item)</a><br>
		
	
		<a href="#about-getleftpadding">get left padding (handle)</a><br>
		
	
		<a href="#about-getlevelmp">get level MP (who, mp level slot)</a><br>
		
	
		<a href="#about-getloadscript">get load script</a><br>
		
	
		<a href="#about-getmapedgemode">get map edge mode</a><br>
		
	
		<a href="#about-getmapname">get map name (ID, map)</a><br>
		
	
		<a href="#about-getmaptileset">get map tileset</a><br>
		
	
		<a href="#about-getmenuanchorx">get menu anchor x(menu handle)</a><br>
		
	
		<a href="#about-getmenuanchory">get menu anchor y(menu handle)</a><br>
		
	
		<a href="#about-getmenubit">get menu bit(menu handle, bit)</a><br>
		
	
		<a href="#about-getmenuborder">get menu border(menu handle)</a><br>
		
	
		<a href="#about-getmenuboxstyle">get menu boxstyle(menu handle)</a><br>
		
	
		<a href="#about-getmenuid">get menu ID(menu handle)</a><br>
		
	
		<a href="#about-getmenuitembit">get menu item bit(menu item handle, bit)</a><br>
		
	
		<a href="#about-getmenuitemcaption">get menu item caption(menu item handle, string ID)</a><br>
		
	
		<a href="#about-getmenuitemextra">get menu item extra(menu item handle, extra)</a><br>
		
	
		<a href="#about-getmenuitemsettag">get menu item settag(menu item handle)</a><br>
		
	
		<a href="#about-getmenuitemsubtype">get menu item subtype(menu item handle)</a><br>
		
	
		<a href="#about-getmenuitemtag">get menu item tag(menu item handle, whichtag)</a><br>
		
	
		<a href="#about-getmenuitemtogtag">get menu item togtag(menu item handle)</a><br>
		
	
		<a href="#about-getmenuitemtype">get menu item type(menu item handle)</a><br>
		
	
		<a href="#about-getmenumaxchars">get menu max chars(menu handle)</a><br>
		
	
		<a href="#about-getmenumaxrows">get menu max rows(menu handle)</a><br>
		
	
		<a href="#about-getmenuminchars">get menu min chars(menu handle)</a><br>
		
	
		<a href="#about-getmenuoffsetx">get menu offset x(menu handle)</a><br>
		
	
		<a href="#about-getmenuoffsety">get menu offset y(menu handle)</a><br>
		
	
		<a href="#about-getmenutextalign">get menu text align(menu handle)</a><br>
		
	
		<a href="#about-getmenutextcolor">get menu textcolor(menu handle)</a><br>
		
	
		<a href="#about-getmoney">get money (amount)</a><br>
		
	
		<a href="#about-getmusicvolume">get music volume</a><br>
		
	
		<a href="#about-getnpcid">get NPC ID (reference)</a><br>
		
	
		<a href="#about-getonkeypressscript">get on keypress script</a><br>
		
	
		<a href="#about-getoutline">get outline(handle)</a><br>
		
	
		<a href="#about-getrectbgcol">get rect bgcol (handle)</a><br>
		
	
		<a href="#about-getrectborder">get rect border (handle)</a><br>
		
	
		<a href="#about-getrectfgcol">get rect fgcol (handle)</a><br>
		
	
		<a href="#about-getrectstyle">get rect style (handle)</a><br>
		
	
		<a href="#about-getrecttrans">get rect trans (handle)</a><br>
		
	
		<a href="#about-getrightpadding">get right padding (handle)</a><br>
		
	
		<a href="#about-getsliceclipping">get slice clipping (handle)</a><br>
		
	
		<a href="#about-getsliceextra">get slice extra (handle, extra)</a><br>
		
	
		<a href="#about-getslicevisible">get slice visible (handle)</a><br>
		
	
		<a href="#about-getsongname">get song name (ID, song)</a><br>
		
	
		<a href="#about-getsortorder">get sort order (handle)</a><br>
		
	
		<a href="#about-getspriteframe">get sprite frame (handle)</a><br>
		
	
		<a href="#about-getspritepalette">get sprite palette (handle)</a><br>
		
	
		<a href="#about-getspritesetnumber">get sprite set number (handle)</a><br>
		
	
		<a href="#about-getspritetype">get sprite type (handle)</a><br>
		
	
		<a href="#about-gettextbg">get text bg(handle)</a><br>
		
	
		<a href="#about-gettextcolor">get text color(handle)</a><br>
		
	
		<a href="#about-gettileanimationoffset">get tile animation offset (animation pattern, layer)</a><br>
		
	
		<a href="#about-gettoppadding">get top padding (handle)</a><br>
		
	
		<a href="#about-getvictorymusic">get victory music</a><br>
		
	
		<a href="#about-getwrap">get wrap(handle)</a><br>
		
	
		<a href="#about-giveexperience">give experience (hero,amount)</a><br>
		
	
		<a href="#about-globalstostring">globals to string(ID, starting global, length)</a><br>
		
	
		<a href="#about-globalvariable">global variable (id,name)</a><br>
		
	
		<a href="#about-greaterthan">number &gt;&gt; number</a><br>
		
	
		<a href="#about-greaterthanorequalto">number &gt;= number</a><br>
		
	
		<a href="#about-greyscalepalette">greyscale palette (first, last)</a><br>
		
	
		<a href="#about-gridisshown">grid is shown (handle)</a><br>
		
	
		
		<a href="#about-tileconstants">harm tile</a><br>
	
		<a href="#about-herobyrank">hero by rank (where)</a><br>
		
	
		<a href="#about-herobyslot">hero by slot (where)</a><br>
		
	
		<a href="#about-herodirection">hero direction (who)</a><br>
		
	
		<a href="#about-heroframe">hero frame (who)</a><br>
		
	
		<a href="#about-heroiswalking">hero is walking (who)</a><br>
		
	
		<a href="#about-herolevelled">hero levelled (who)</a><br>
		
	
		<a href="#about-heropixelx">hero pixel X (who)</a><br>
		
	
		<a href="#about-heropixely">hero pixel Y (who)</a><br>
		
	
		<a href="#about-herox">hero X (who)</a><br>
		
	
		<a href="#about-heroy">hero Y (who)</a><br>
		
	
		<a href="#about-hidebattlehealthmeter">hide battle health meter (state)</a><br>
		
	
		<a href="#about-hidebattlereadymeter">hide battle ready meter (state)</a><br>
		
	
		<a href="#about-hidestring">hide string (ID)</a><br>
		
	
		<a href="#about-horizflipsprite">horiz flip sprite (handle, flip)</a><br>
		
	
		<a href="#about-hoursofplay">hours of play</a><br>
		
	
		<a href="#about-if">if(condition) then(commands) else(commands)</a><br>
		
	
		<a href="#about-importglobals">import globals (slot, first, last)</a><br>
		
	
		<a href="#about-include">include, filename</a><br>
		
	
		<a href="#about-increment">increment (variable,amount)</a><br>
		
	
		<a href="#about-initmouse">init mouse</a><br>
		
	
		<a href="#about-inputstring">input string (ID, maxlength, use current, center, position x, position y)</a><br>
		
	
		<a href="#about-insidebattle">inside battle</a><br>
		
	
		<a href="#about-inventory">inventory (item)</a><br>
		
	
		<a href="#about-isfillingparent">is filling parent (handle)</a><br>
		
	
		<a href="#about-itemcountinslot">item count in slot (slot)</a><br>
		
	
		<a href="#about-iteminslot">item in slot (slot)</a><br>
		
	
		<a href="#about-itemsmenu">items menu</a><br>
		
	
		<a href="#about-joystickaxis">joystick axis (axis,multiplier,joystick)</a><br>
		
	
		<a href="#about-joystickbutton">joystick button (button,joystick)</a><br>
		
	
		<a href="#about-keyconstants">Key Constants</a><br>
		
	
		<a href="#about-keyispressed">key is pressed (scancode)</a><br>
		
	
		<a href="#about-keyval">keyval (scancode)</a><br>
		
	
		<a href="#about-knowsspell">knows spell (hero,attack)</a><br>
		
	
		<a href="#about-lastascii">last ascii</a><br>
		
	
		<a href="#about-lastchild">last child(handle)</a><br>
		
	
		<a href="#about-lastformation">last formation</a><br>
		
	
		<a href="#about-lastsaveslot">last save slot</a><br>
		
	
		<a href="#about-layertileset">layer tileset (layer)</a><br>
		
	
		<a href="#about-leader">leader</a><br>
		
	
		
		<a href="#about-directionconstants">left</a><br>
	
		
		<a href="#about-mouseconstants">left button</a><br>
	
		
		<a href="#about-keyconstants">left key</a><br>
	
		<a href="#about-lessthan">number &lt;&lt; number</a><br>
		
	
		<a href="#about-lessthanorequalto">number &lt;= number</a><br>
		
	
		<a href="#about-loadattacksprite">load attack sprite (num, palette)</a><br>
		
	
		<a href="#about-loadbordersprite">load border sprite (num, palette)</a><br>
		
	
		<a href="#about-loadfromslot">load from slot (slot)</a><br>
		
	
		<a href="#about-loadherosprite">load hero sprite (num, palette)</a><br>
		
	
		<a href="#about-loadlargeenemysprite">load large enemy sprite (num, palette)</a><br>
		
	
		<a href="#about-loadmapstate">load map state (whichdata, customid)</a><br>
		
	
		<a href="#about-loadmediumenemysprite">load medium enemy sprite (num, palette)</a><br>
		
	
		<a href="#about-loadmenu">load menu (reallyload)</a><br>
		
	
		<a href="#about-loadpalette">load palette (palette number)</a><br>
		
	
		<a href="#about-loadportraitsprite">load portrait sprite (num, palette)</a><br>
		
	
		<a href="#about-loadslicecollection">load slice collection (id)</a><br>
		
	
		<a href="#about-loadsmallenemysprite">load small enemy sprite (num, palette)</a><br>
		
	
		<a href="#about-loadtileset">load tileset (tileset, layer)</a><br>
		
	
		<a href="#about-loadwalkaboutsprite">load walkabout sprite (num, palette)</a><br>
		
	
		<a href="#about-loadweaponsprite">load weapon sprite (num, palette)</a><br>
		
	
		<a href="#about-lockhero">lock hero (who)</a><br>
		
	
		<a href="#about-logicaland">value &amp;&amp; value</a><br>
		
	
		<a href="#about-logicalor">value || value</a><br>
		
	
		<a href="#about-logicalxor">value ^^ value</a><br>
		
	
		<a href="#about-lookupslice">lookup slice (lookup code, start slice)</a><br>
		
	
		<a href="#about-losemoney">lose money (amount)</a><br>
		
	
		<a href="#about-mainmenu">main menu</a><br>
		
	
		<a href="#about-mapheight">map height</a><br>
		
	
		<a href="#about-mapwidth">map width</a><br>
		
	
		<a href="#about-maximumstat">maximum stat</a><br>
		
	
		<a href="#about-me">me</a><br>
		
	
		<a href="#about-menuisopen">menu is open(menu handle)</a><br>
		
	
		<a href="#about-menuitembyslot">menu item by slot(menu handle, slot, visible only)</a><br>
		
	
		<a href="#about-menuitemslot">menu item slot(menu item handle)</a><br>
		
	
		
		<a href="#about-keyconstants">menu key</a><br>
	
		<a href="#about-milliseconds">milliseconds</a><br>
		
	
		<a href="#about-minutesofplay">minutes of play</a><br>
		
	
		<a href="#about-modulus">number,mod,number</a><br>
		
	
		<a href="#about-mousebutton">mouse button (which)</a><br>
		
	
		<a href="#about-mouseconstants">Mouse Constants</a><br>
		
	
		<a href="#about-mousepixelx">mouse pixel X</a><br>
		
	
		<a href="#about-mousepixely">mouse pixel Y</a><br>
		
	
		<a href="#about-mouseregion">mouse region (x min, x max, y min, y max)</a><br>
		
	
		<a href="#about-movesliceabove">move slice above (handle, above what handle)</a><br>
		
	
		<a href="#about-moveslicebelow">move slice below (handle, below what handle)</a><br>
		
	
		<a href="#about-multiply">number * number</a><br>
		
	
		<a href="#about-nextcontainersibling">next container sibling(handle)</a><br>
		
	
		<a href="#about-nextmenu">next menu(menu handle)</a><br>
		
	
		<a href="#about-nextmenuitem">next menu item(menu item handle, visible only)</a><br>
		
	
		<a href="#about-nextrectsibling">next rect sibling(handle)</a><br>
		
	
		<a href="#about-nextsibling">next sibling(handle)</a><br>
		
	
		<a href="#about-nextspritesibling">next sprite sibling(handle)</a><br>
		
	
		
		<a href="#about-numericconstants">nine</a><br>
	
		<a href="#about-none">none</a><br>
		
	
		
		<a href="#about-directionconstants">north</a><br>
	
		
		<a href="#about-tileconstants">north wall</a><br>
	
		<a href="#about-not">not (value)</a><br>
		
	
		<a href="#about-notequal">number &lt;&gt; number</a><br>
		
	
		<a href="#about-npcatpixel">NPC at pixel (x, y, number)</a><br>
		
	
		<a href="#about-npcatspot">NPC at spot (x, y, number)</a><br>
		
	
		<a href="#about-npccopycount">NPC copy count (ID)</a><br>
		
	
		<a href="#about-npcdirection">NPC direction (who)</a><br>
		
	
		<a href="#about-npcextra">NPC extra (who, which)</a><br>
		
	
		<a href="#about-npcframe">NPC frame (who)</a><br>
		
	
		<a href="#about-npciswalking">NPC is walking (who)</a><br>
		
	
		<a href="#about-npcpixelx">NPC pixel X (who)</a><br>
		
	
		<a href="#about-npcpixely">NPC pixel Y (who)</a><br>
		
	
		<a href="#about-npcreference">NPC reference (ID, copy)</a><br>
		
	
		<a href="#about-npcx">NPC X (who)</a><br>
		
	
		<a href="#about-npcy">NPC Y (who)</a><br>
		
	
		<a href="#about-numberfromstring">number from string (ID, default)</a><br>
		
	
		<a href="#about-numericconstants">Numeric Constants</a><br>
		
	
		
		<a href="#about-booleanconstants">off</a><br>
	
		
		<a href="#about-booleanconstants">on</a><br>
	
		
		<a href="#about-numericconstants">one</a><br>
	
		<a href="#about-openmenu">open menu (ID, allow duplicate)</a><br>
		
	
		<a href="#about-or">value,or,value</a><br>
		
	
		<a href="#about-ordermenu">order menu</a><br>
		
	
		<a href="#about-outsidebattle">outside battle</a><br>
		
	
		<a href="#about-outsidebattlecure">outside battle cure (attack, target, attacker)</a><br>
		
	
		
		<a href="#about-tileconstants">overhead tile</a><br>
	
		<a href="#about-pancamera">pan camera (direction,distance,pixelstep)</a><br>
		
	
		<a href="#about-parentmenu">parent menu(menu item handle)</a><br>
		
	
		<a href="#about-parentslice">parent slice (handle)</a><br>
		
	
		<a href="#about-party">party</a><br>
		
	
		<a href="#about-partymoney">party money</a><br>
		
	
		<a href="#about-pausesound">pause sound (num)</a><br>
		
	
		<a href="#about-paymoney">pay money (amount)</a><br>
		
	
		<a href="#about-pickhero">pick hero</a><br>
		
	
		
		<a href="#about-putsprite">place sprite</a><br>
	
		<a href="#about-playsong">play song (song)</a><br>
		
	
		<a href="#about-playsound">play sound (num,loop,preempt)</a><br>
		
	
		<a href="#about-plotscript">plotscript, name, argumentnames (statements)</a><br>
		
	
		<a href="#about-positionstring">positionstring (ID, x, y)</a><br>
		
	
		<a href="#about-previousmenu">previous menu(menu handle)</a><br>
		
	
		<a href="#about-previousmenuitem">previous menu item(menu item handle, visible only)</a><br>
		
	
		<a href="#about-previoussibling">previous sibling(handle)</a><br>
		
	
		<a href="#about-putcamera">put camera (x,y)</a><br>
		
	
		<a href="#about-puthero">put hero (who, x, y)</a><br>
		
	
		<a href="#about-putmouse">put mouse (X, Y)</a><br>
		
	
		<a href="#about-putnpc">put npc (who,x,y)</a><br>
		
	
		<a href="#about-putslice">put slice (handle, X, Y)</a><br>
		
	
		<a href="#about-putslicescreen">put slice screen (handle, x, y)</a><br>
		
	
		<a href="#about-putsprite">put sprite (handle, x, y)</a><br>
		
	
		<a href="#about-random">random (lownumber, highnumber)</a><br>
		
	
		<a href="#about-randomformation">random formation (formation set)</a><br>
		
	
		<a href="#about-rankincaterpillar">rank in caterpillar (who)</a><br>
		
	
		<a href="#about-readcolor">read color (index, element)</a><br>
		
	
		<a href="#about-readenemydata">read enemy data (enemyid, data)</a><br>
		
	
		<a href="#about-readglobal">read global (id)</a><br>
		
	
		<a href="#about-readmapblock">read map block (x,y,layer)</a><br>
		
	
		<a href="#about-readnpc">read NPC (who,NPCstat)</a><br>
		
	
		<a href="#about-readpassblock">read pass block (x,y)</a><br>
		
	
		<a href="#about-readspell">read spell (hero,list,slot)</a><br>
		
	
		<a href="#about-readtimer">read timer (id)</a><br>
		
	
		<a href="#about-realignslice">realign slice (handle, horiz align, vert align, horiz anchor, vert anchor)</a><br>
		
	
		<a href="#about-renamehero">rename hero(who)</a><br>
		
	
		<a href="#about-renameherobyslot">rename hero by slot(who)</a><br>
		
	
		<a href="#about-replaceattacksprite">replace attack sprite (handle, num, palette)</a><br>
		
	
		<a href="#about-replacebordersprite">replace border sprite (handle, num, palette)</a><br>
		
	
		<a href="#about-replacechar">replace char (ID, position, char)</a><br>
		
	
		<a href="#about-replaceherosprite">replace hero sprite (handle, num, palette)</a><br>
		
	
		<a href="#about-replacelargeenemysprite">replace large enemy sprite (handle, num, palette)</a><br>
		
	
		<a href="#about-replacemediumenemysprite">replace medium enemy sprite (handle, num, palette)</a><br>
		
	
		<a href="#about-replaceportraitsprite">replace portrait sprite (handle, num, palette)</a><br>
		
	
		<a href="#about-replacesmallenemysprite">replace small enemy sprite (handle, num, palette)</a><br>
		
	
		<a href="#about-replacewalkaboutsprite">replace walkabout sprite (handle, num, palette)</a><br>
		
	
		<a href="#about-replaceweaponsprite">replace weapon sprite (handle, num, palette)</a><br>
		
	
		<a href="#about-resetgame">reset game</a><br>
		
	
		<a href="#about-resetheropalette">reset hero palette (who,type)</a><br>
		
	
		<a href="#about-resetheropicture">reset hero picture (who,type)</a><br>
		
	
		<a href="#about-resetmapstate">reset map state (whichdata)</a><br>
		
	
		<a href="#about-resetpalette">reset palette</a><br>
		
	
		<a href="#about-resumeboxadvance">resume box advance</a><br>
		
	
		
		<a href="#about-resumecaterpillar">resume catapillar</a><br>
	
		<a href="#about-resumecaterpillar">resume caterpillar</a><br>
		
	
		<a href="#about-resumeherowalls">resume hero walls</a><br>
		
	
		<a href="#about-resumemapmusic">resume map music</a><br>
		
	
		<a href="#about-resumenpcs">resume NPCs</a><br>
		
	
		<a href="#about-resumenpcwalls">resume NPC walls</a><br>
		
	
		<a href="#about-resumeobstruction">resume obstruction</a><br>
		
	
		<a href="#about-resumeoverlay">resume overlay</a><br>
		
	
		<a href="#about-resumeplayer">resume player</a><br>
		
	
		<a href="#about-resumerandomenemies">resume random enemies</a><br>
		
	
		
		<a href="#about-resumerandomenemies">resume random enemys</a><br>
	
		<a href="#about-resumetimers">resume timers</a><br>
		
	
		<a href="#about-return">return(value)</a><br>
		
	
		<a href="#about-rgb">RGB(red, green, blue)</a><br>
		
	
		
		<a href="#about-directionconstants">right</a><br>
	
		
		<a href="#about-mouseconstants">right button</a><br>
	
		
		<a href="#about-keyconstants">right key</a><br>
	
		<a href="#about-roominactiveparty">room in active party</a><br>
		
	
		<a href="#about-runscriptbyid">run script by ID (id, argument1, argument2, argument3...)</a><br>
		
	
		<a href="#about-saveinslot">save in slot (slot)</a><br>
		
	
		<a href="#about-savemapstate">save map state (whichdata, customid)</a><br>
		
	
		<a href="#about-savemenu">save menu (reallysave)</a><br>
		
	
		<a href="#about-saveslotused">save slot used (slot)</a><br>
		
	
		<a href="#about-script">script, name, argumentnames (statements)</a><br>
		
	
		<a href="#about-searchstring">search string (ID1, ID2, start)</a><br>
		
	
		<a href="#about-secondsofplay">seconds of play</a><br>
		
	
		<a href="#about-seedrandom">seed random (new seed)</a><br>
		
	
		<a href="#about-selectedmenuitem">selected menu item(menu handle)</a><br>
		
	
		<a href="#about-selectmenuitem">select menu item(menu item handle)</a><br>
		
	
		<a href="#about-setambientmusic">set ambient music (song)</a><br>
		
	
		<a href="#about-setbattlewaitmode">set battle wait mode (state)</a><br>
		
	
		<a href="#about-setbottompadding">set bottom padding (handle, pixels)</a><br>
		
	
		<a href="#about-setcappedherostat">set capped hero stat (who,stat,value,type)</a><br>
		
	
		<a href="#about-setcaterpillarmode">set caterpillar mode (state)</a><br>
		
	
		<a href="#about-setcolor">set color(index, value)</a><br>
		
	
		<a href="#about-setdamagecap">set damage cap (cap)</a><br>
		
	
		<a href="#about-setdaysofplay">set days of play (days)</a><br>
		
	
		<a href="#about-setdeadheroesgainexperience">set dead heroes gain experience (state)</a><br>
		
	
		<a href="#about-setdeathscript">set death script (id)</a><br>
		
	
		<a href="#about-setdebugkeysdisable">set debug keys disable (state)</a><br>
		
	
		<a href="#about-setdefaultweapon">set default weapon (hero,item)</a><br>
		
	
		<a href="#about-seteachstepscript">set each step script (id)</a><br>
		
	
		<a href="#about-setenemyappearance">set enemy appearance (enemyid, appearance,value)</a><br>
		
	
		<a href="#about-setenemyname">set enemy name (enemyid, stringid)</a><br>
		
	
		<a href="#about-setenemystat">set enemy stat(enemy, stat, value)</a><br>
		
	
		<a href="#about-setexperience">set experience (who, experience, allowforget)</a><br>
		
	
		<a href="#about-setfootoffset">set foot offset (offset)</a><br>
		
	
		<a href="#about-setformationbackground">set formation background (formation, background, animation frames, animation ticks)</a><br>
		
	
		<a href="#about-setformationsong">set formation song (formation, song)</a><br>
		
	
		<a href="#about-setfullheroswapmode">set full hero swap mode (state)</a><br>
		
	
		<a href="#about-setgridcolumns">set grid columns (handle, columns)</a><br>
		
	
		<a href="#about-setgridrows">set grid rows (handle, rows)</a><br>
		
	
		<a href="#about-setharmtiledamage">set harm tile damage (amount)</a><br>
		
	
		<a href="#about-setharmtileflash">set harm tile flash (color)</a><br>
		
	
		<a href="#about-setherodirection">set hero direction (who, direction)</a><br>
		
	
		<a href="#about-setheroframe">set hero frame (who, frame)</a><br>
		
	
		<a href="#about-setherolevel">set hero level (who, level, forgetspells)</a><br>
		
	
		<a href="#about-setheroname">set hero name (ID, hero)</a><br>
		
	
		<a href="#about-setheropalette">set hero palette (who,palette,type)</a><br>
		
	
		<a href="#about-setheropicture">set hero picture (who,picture,type)</a><br>
		
	
		<a href="#about-setheroposition">set hero position (who, x, y)</a><br>
		
	
		<a href="#about-setherospeed">set hero speed (who, speed)</a><br>
		
	
		<a href="#about-setherostat">set hero stat (who,stat,value,type)</a><br>
		
	
		<a href="#about-setheroz">set hero z (who, z)</a><br>
		
	
		<a href="#about-sethorizalign">set horiz align (handle, edge)</a><br>
		
	
		<a href="#about-sethorizanchor">set horiz anchor (handle, edge)</a><br>
		
	
		<a href="#about-sethoursofplay">set hours of play (hours)</a><br>
		
	
		<a href="#about-setinnnorevivemode">set inn no revive mode (state)</a><br>
		
	
		<a href="#about-setinsteadofbattlescript">set instead of battle script (id)</a><br>
		
	
		<a href="#about-setinventorysize">set inventory size (new size)</a><br>
		
	
		<a href="#about-setitemcountinslot">set item count in slot (slot, count)</a><br>
		
	
		<a href="#about-setiteminslot">set item in slot (slot, item)</a><br>
		
	
		<a href="#about-setleftpadding">set left padding (handle, pixels)</a><br>
		
	
		<a href="#about-setlevelmp">set level MP (who, mp level slot, new value)</a><br>
		
	
		<a href="#about-setloadscript">set load script (id)</a><br>
		
	
		<a href="#about-setmapedgemode">set map edge mode (mode, default tile)</a><br>
		
	
		<a href="#about-setmenuanchorx">set menu anchor x(menu handle, new anchor)</a><br>
		
	
		<a href="#about-setmenuanchory">set menu anchor y(menu handle, new anchor)</a><br>
		
	
		<a href="#about-setmenubit">set menu bit(menu handle, bit, value)</a><br>
		
	
		<a href="#about-setmenuborder">set menu border(menu handle, new border)</a><br>
		
	
		<a href="#about-setmenuboxstyle">set menu boxstyle(menu handle, new box style)</a><br>
		
	
		<a href="#about-setmenuitembit">set menu item bit(menu item handle, bit, value)</a><br>
		
	
		<a href="#about-setmenuitemcaption">set menu item caption(menu item handle, string ID)</a><br>
		
	
		<a href="#about-setmenuitemextra">set menu item extra(menu item handle, extra, num)</a><br>
		
	
		<a href="#about-setmenuitemsettag">set menu item settag(menu item handle, new settag)</a><br>
		
	
		<a href="#about-setmenuitemsubtype">set menu item subtype(menu item handle, new subtype)</a><br>
		
	
		<a href="#about-setmenuitemtag">set menu item tag(menu item handle, new tag, whichtag)</a><br>
		
	
		<a href="#about-setmenuitemtogtag">set menu item togtag(menu item handle, new settag)</a><br>
		
	
		<a href="#about-setmenuitemtype">set menu item type(menu item handle, new type)</a><br>
		
	
		<a href="#about-setmenumaxchars">set menu max chars(menu handle, new max)</a><br>
		
	
		<a href="#about-setmenumaxrows">set menu max rows(menu handle, new max rows)</a><br>
		
	
		<a href="#about-setmenuminchars">set menu min chars(menu handle, new min)</a><br>
		
	
		<a href="#about-setmenuoffsetx">set menu offset x(menu handle, new x)</a><br>
		
	
		<a href="#about-setmenuoffsety">set menu offset y(menu handle, new y)</a><br>
		
	
		<a href="#about-setmenutextalign">set menu text align(menu handle, new align)</a><br>
		
	
		<a href="#about-setmenutextcolor">set menu textcolor(menu handle, new textcolor)</a><br>
		
	
		<a href="#about-setminutesofplay">set minutes of play (min)</a><br>
		
	
		<a href="#about-setmoney">set money (amount)</a><br>
		
	
		<a href="#about-setmusicvolume">set music volume (volume)</a><br>
		
	
		<a href="#about-setnohpleveluprestore">set no HP level up restore (state)</a><br>
		
	
		<a href="#about-setnompleveluprestore">set no MP level up restore (state)</a><br>
		
	
		<a href="#about-setnpcdirection">set NPC direction (who, direction)</a><br>
		
	
		<a href="#about-setnpcextra">set NPC extra (who, which, value)</a><br>
		
	
		<a href="#about-setnpcframe">set NPC frame (who, frame)</a><br>
		
	
		<a href="#about-setnpcposition">set NPC position (who, X, Y)</a><br>
		
	
		<a href="#about-setnpcspeed">set NPC speed (who, speed)</a><br>
		
	
		<a href="#about-setonkeypressscript">set on keypress script (id)</a><br>
		
	
		<a href="#about-setoutline">set outline(handle, outline)</a><br>
		
	
		<a href="#about-setpadding">set padding (handle, pixels)</a><br>
		
	
		<a href="#about-setparent">set parent (handle, parent handle)</a><br>
		
	
		<a href="#about-setrectbgcol">set rect bgcol (handle, color)</a><br>
		
	
		<a href="#about-setrectborder">set rect border (handle, border)</a><br>
		
	
		<a href="#about-setrectfgcol">set rect fgcol (handle, color)</a><br>
		
	
		<a href="#about-setrectstyle">set rect style (handle, style)</a><br>
		
	
		<a href="#about-setrecttrans">set rect trans (handle, transparency setting)</a><br>
		
	
		<a href="#about-setrightpadding">set right padding (handle, pixels)</a><br>
		
	
		<a href="#about-setsecondssofplay">set seconds of play (sec)</a><br>
		
	
		<a href="#about-setsliceclipping">set slice clipping (handle, clip)</a><br>
		
	
		<a href="#about-setsliceextra">set slice extra (handle, extra, value)</a><br>
		
	
		<a href="#about-setsliceheight">set slice height (handle, height)</a><br>
		
	
		<a href="#about-setslicescreenx">set slice screen x (handle, x)</a><br>
		
	
		<a href="#about-setslicescreeny">set slice screen y (handle, y)</a><br>
		
	
		<a href="#about-setslicetext">set slice text(handle, string id)</a><br>
		
	
		<a href="#about-setslicevisible">set slice visible (handle, vis)</a><br>
		
	
		<a href="#about-setslicewidth">set slice width (handle, width)</a><br>
		
	
		<a href="#about-setslicex">set slice x (handle, X)</a><br>
		
	
		<a href="#about-setslicey">set slice y (handle, Y)</a><br>
		
	
		<a href="#about-setsortorder">set sort order (handle, order)</a><br>
		
	
		<a href="#about-setspriteframe">set sprite frame (handle, num)</a><br>
		
	
		<a href="#about-setspritepalette">set sprite palette (handle, num)</a><br>
		
	
		
		<a href="#about-setslicevisible">set sprite visible</a><br>
	
		<a href="#about-settag">set tag (tag,value)</a><br>
		
	
		<a href="#about-settextbg">set text bg(handle, color)</a><br>
		
	
		<a href="#about-settextcolor">set text color(handle, color)</a><br>
		
	
		<a href="#about-settileanimationoffset">set tile animation offset (animation pattern, offset, layer)</a><br>
		
	
		<a href="#about-settimer">set timer (id, count, speed, trigger, string, flags)</a><br>
		
	
		<a href="#about-settoppadding">set top padding (handle, pixels)</a><br>
		
	
		<a href="#about-setvariable">variable := value</a><br>
		
	
		<a href="#about-setvertalign">set vert align (handle, edge)</a><br>
		
	
		<a href="#about-setvertanchor">set vert anchor (handle, edge)</a><br>
		
	
		<a href="#about-setvictorymusic">set victory music (song)</a><br>
		
	
		<a href="#about-setwrap">set wrap(handle, wrap)</a><br>
		
	
		
		<a href="#about-numericconstants">seven</a><br>
	
		<a href="#about-showbackdrop">show backdrop (number)</a><br>
		
	
		<a href="#about-showgrid">show grid (handle, shown)</a><br>
		
	
		<a href="#about-showmap">show map</a><br>
		
	
		<a href="#about-showminimap">show mini map</a><br>
		
	
		<a href="#about-shownovalue">show no value</a><br>
		
	
		<a href="#about-showstring">show string (ID)</a><br>
		
	
		<a href="#about-showstringat">show string at (ID, x, y)</a><br>
		
	
		<a href="#about-showtextbox">show text box (number)</a><br>
		
	
		<a href="#about-showvalue">show value (number)</a><br>
		
	
		
		<a href="#about-numericconstants">six</a><br>
	
		<a href="#about-sliceatpixel">slice at pixel (parent, x, y, number, check descendants)</a><br>
		
	
		<a href="#about-slicechild">slice child (handle, number)</a><br>
		
	
		<a href="#about-slicecollide">slice collide (handle1, handle2)</a><br>
		
	
		<a href="#about-slicecollidepoint">slice collide point (handle, x, y)</a><br>
		
	
		<a href="#about-slicecontains">slice contains (handle1, handle2)</a><br>
		
	
		<a href="#about-sliceedgex">slice edge x (handle, edge)</a><br>
		
	
		<a href="#about-sliceedgey">slice edge y (handle, edge)</a><br>
		
	
		<a href="#about-sliceheight">slice height (handle)</a><br>
		
	
		<a href="#about-sliceiscontainer">slice is container (handle)</a><br>
		
	
		<a href="#about-sliceisgrid">slice is grid (handle)</a><br>
		
	
		<a href="#about-sliceisrect">slice is rect (handle)</a><br>
		
	
		<a href="#about-sliceissprite">slice is sprite (handle)</a><br>
		
	
		<a href="#about-sliceistext">slice is text (handle)</a><br>
		
	
		<a href="#about-sliceisvalid">slice is valid (id)</a><br>
		
	
		<a href="#about-slicescreenx">slice screen x (handle)</a><br>
		
	
		<a href="#about-slicescreeny">slice screen y (handle)</a><br>
		
	
		<a href="#about-slicetoback">slice to back (handle)</a><br>
		
	
		<a href="#about-slicetofront">slice to front (handle)</a><br>
		
	
		<a href="#about-slicewidth">slice width (handle)</a><br>
		
	
		<a href="#about-slicex">slice x (handle)</a><br>
		
	
		<a href="#about-slicey">slice y (handle)</a><br>
		
	
		<a href="#about-song:sameaslastmap">song: same as last map</a><br>
		
	
		
		<a href="#about-song:sameaslastmap">song: same as map</a><br>
	
		<a href="#about-song:silence">song: silence</a><br>
		
	
		<a href="#about-sortchildren">sort children (handle, wipe)</a><br>
		
	
		<a href="#about-soundisplaying">sound is playing (num)</a><br>
		
	
		
		<a href="#about-directionconstants">south</a><br>
	
		
		<a href="#about-tileconstants">south wall</a><br>
	
		<a href="#about-spellslearnt">spells learnt (hero,number)</a><br>
		
	
		<a href="#about-spellsmenu">spells menu (who)</a><br>
		
	
		<a href="#about-spriteframecount">sprite frame count (handle)</a><br>
		
	
		<a href="#about-spriteishorizflipped">sprite is horiz flipped (handle)</a><br>
		
	
		<a href="#about-spriteisvertflipped">sprite is vert flipped (handle)</a><br>
		
	
		<a href="#about-spritelayer">sprite layer</a><br>
		
	
		<a href="#about-statusscreen">status screen (who)</a><br>
		
	
		<a href="#about-stopsong">stop song</a><br>
		
	
		<a href="#about-stopsound">stop sound (num)</a><br>
		
	
		<a href="#about-stoptimer">stop timer (id)</a><br>
		
	
		<a href="#about-stringcolor">string color (ID, foreground color, background color)</a><br>
		
	
		<a href="#about-stringcompare">string compare (ID1, ID2)</a><br>
		
	
		<a href="#about-stringfromtextbox">string from textbox (ID, textbox, line, expand)</a><br>
		
	
		<a href="#about-stringisvisible">string is visible (ID)</a><br>
		
	
		<a href="#about-stringlength">string length (ID)</a><br>
		
	
		<a href="#about-stringstyle">string style (ID, style)</a><br>
		
	
		<a href="#about-stringtoglobals">string to globals (ID, starting global, length)</a><br>
		
	
		<a href="#about-stringx">string X (ID)</a><br>
		
	
		<a href="#about-stringy">string Y (ID)</a><br>
		
	
		<a href="#about-subtract">number -- number</a><br>
		
	
		<a href="#about-suspendboxadvance">suspend box advance</a><br>
		
	
		
		<a href="#about-suspendcaterpillar">suspend catapillar</a><br>
	
		<a href="#about-suspendcaterpillar">suspend caterpillar</a><br>
		
	
		<a href="#about-suspendherowalls">suspend hero walls</a><br>
		
	
		<a href="#about-suspendmapmusic">suspend map music</a><br>
		
	
		<a href="#about-suspendnpcs">suspend NPCs</a><br>
		
	
		<a href="#about-suspendnpcwalls">suspend NPC walls</a><br>
		
	
		<a href="#about-suspendobstruction">suspend obstruction</a><br>
		
	
		<a href="#about-suspendoverlay">suspend overlay</a><br>
		
	
		<a href="#about-suspendplayer">suspend player</a><br>
		
	
		<a href="#about-suspendrandomenemies">suspend random enemies</a><br>
		
	
		
		<a href="#about-suspendrandomenemies">suspend random enemys</a><br>
	
		<a href="#about-suspendtimers">suspend timers</a><br>
		
	
		<a href="#about-swapbyname">swap by name (name,name)</a><br>
		
	
		<a href="#about-swapbyposition">swap by position (position,position)</a><br>
		
	
		<a href="#about-swapinhero">swap in hero (who)</a><br>
		
	
		<a href="#about-swapmenuitems">swap menu items(handle1, handle2)</a><br>
		
	
		<a href="#about-swapouthero">swap out hero (who)</a><br>
		
	
		<a href="#about-switch">switch(expression)</a><br>
		
	
		<a href="#about-systemday">system day</a><br>
		
	
		<a href="#about-systemhour">system hour</a><br>
		
	
		<a href="#about-systemminute">system minute</a><br>
		
	
		<a href="#about-systemmonth">system month</a><br>
		
	
		<a href="#about-systemsecond">system second</a><br>
		
	
		<a href="#about-systemyear">system year</a><br>
		
	
		<a href="#about-teachspell">teach spell (hero,attack)</a><br>
		
	
		<a href="#about-teammenu">team menu</a><br>
		
	
		<a href="#about-teleporttomap">teleport to map (map, x, y)</a><br>
		
	
		
		<a href="#about-numericconstants">nine</a><br>
	
		
		<a href="#about-if">then</a><br>
	
		
		<a href="#about-numericconstants">three</a><br>
	
		<a href="#about-tileconstants">Tile Constants</a><br>
		
	
		<a href="#about-timer:default">timer: default</a><br>
		
	
		<a href="#about-timer:gameover">timer: game over</a><br>
		
	
		<a href="#about-timerflag:battle">timer flag: battle</a><br>
		
	
		<a href="#about-timerflag:critical">timer flag: critical</a><br>
		
	
		<a href="#about-timerflag:menu">timer flag: menu</a><br>
		
	
		<a href="#about-topmenu">top menu</a><br>
		
	
		<a href="#about-totalexperience">total experience (who)</a><br>
		
	
		<a href="#about-trace">trace (string)</a><br>
		
	
		<a href="#about-trimstring">trim string (ID, start, length)</a><br>
		
	
		
		<a href="#about-booleanconstants">true</a><br>
	
		<a href="#about-tweakpalette">tweak palette (red, green, blue, first, last)</a><br>
		
	
		
		<a href="#about-numericconstants">two</a><br>
	
		<a href="#about-unequip">unequip (hero,slot)</a><br>
		
	
		<a href="#about-unlockhero">unlock hero (who)</a><br>
		
	
		
		<a href="#about-directionconstants">up</a><br>
	
		<a href="#about-updateleveluplearning">update level up learning(who, allowforget)</a><br>
		
	
		<a href="#about-updatepalette">update palette</a><br>
		
	
		
		<a href="#about-keyconstants">up key</a><br>
	
		<a href="#about-usedoor">use door (number)</a><br>
		
	
		
		<a href="#about-keyconstants">use key</a><br>
	
		<a href="#about-usenpc">Use NPC (who)</a><br>
		
	
		<a href="#about-useshop">use shop (shop)</a><br>
		
	
		<a href="#about-variable">variable (name)</a><br>
		
	
		
		<a href="#about-tileconstants">vehicle A</a><br>
	
		
		<a href="#about-tileconstants">vehicle B</a><br>
	
		<a href="#about-vertflipsprite">vert flip sprite (handle, flip)</a><br>
		
	
		<a href="#about-wait">wait (ticks)</a><br>
		
	
		<a href="#about-waitforall">wait for all</a><br>
		
	
		<a href="#about-waitforcamera">wait for camera</a><br>
		
	
		<a href="#about-waitforhero">wait for hero (who)</a><br>
		
	
		<a href="#about-waitforkey">wait for key (key)</a><br>
		
	
		<a href="#about-waitformenu">wait for menu (menu handle)</a><br>
		
	
		<a href="#about-waitfornpc">wait for NPC (who)</a><br>
		
	
		<a href="#about-waitforscancode">wait for scancode (key)</a><br>
		
	
		<a href="#about-waitfortextbox">wait for text box</a><br>
		
	
		<a href="#about-walkhero">walk hero (who, direction, distance)</a><br>
		
	
		<a href="#about-walkherotox">walk hero to x (who,x)</a><br>
		
	
		<a href="#about-walkherotoy">walk hero to y (who,x)</a><br>
		
	
		<a href="#about-walknpc">walk NPC (who, direction, distance)</a><br>
		
	
		<a href="#about-walknpctox">walk NPC to X (who, X)</a><br>
		
	
		<a href="#about-walknpctoy">walk NPC to Y (who, Y)</a><br>
		
	
		
		<a href="#about-directionconstants">west</a><br>
	
		
		<a href="#about-tileconstants">west wall</a><br>
	
		<a href="#about-while">while(condition) do(commands)</a><br>
		
	
		<a href="#about-wrap">wrap</a><br>
		
	
		<a href="#about-writecolor">write color (index, element, value)</a><br>
		
	
		<a href="#about-writeenemydata">write enemy data (enemyid, data, value)</a><br>
		
	
		<a href="#about-writeglobal">write global (id,value)</a><br>
		
	
		<a href="#about-writemapblock">write map block (x,y,value,layer)</a><br>
		
	
		<a href="#about-writepassblock">write pass block (x,y,value)</a><br>
		
	
		<a href="#about-writespell">write spell (hero,list,slot,attack)</a><br>
		
	
		<a href="#about-xaxis">x axis</a><br>
		
	
		<a href="#about-xor">value,xor,value</a><br>
		
	
		<a href="#about-yaxis">y axis</a><br>
		
	
		<a href="#about-ysortchildren">Y sort children (handle)</a><br>
		
	
		
		<a href="#about-numericconstants">zero</a><br>
	</p>
<hr>
		<a name="Declarations"></a>

		<font color="#f06060" size="4">Declarations</font>
		<p></p>
		
		<a name="about-plotscript"></a>
		<p>
		<tt>
		<b><font color="yellow">plotscript, name, argumentnames (statements)</font></b><br>
			The plotscript command contains a list of commands that can be triggered directly by an event in your game. Plotscript starts with the keyword plotscript, a comma, and then the name of the plotscript. If there are any arguments to the script, you list their names separated by commas after the name of the script with default values. Then comes the text of the script. It is enclosed in <a href="#about-begin" class="ref">begin</a> and <a href="#about-begin" class="ref">end</a> statements. Scripts that are defined as plotscripts can be called directly from events in your game, or by name within other scripts.<br>
			<pre># example of a simple script
plotscript,my first script,begin
	# commands go here
end</pre>
<pre># example of a script with arguments
plotscript,my fancy script,fe=0,fi=0,fo=0,begin
	# commands go here,
	# and they can use the aruments fe, fi, and fo
	# that where passed to the script
end</pre>
			
		</tt></p>
		<a name="about-script"></a>
		<p>
		<tt>
		<b><font color="yellow">script, name, argumentnames (statements)</font></b><br>
			The script command contains a list of commands. Script starts with the keyword script, a comma, and then the name of the script. If there are any arguments to the script, you list their names separated by commas after the name of the script with default values. Then comes the text of the script. It is enclosed in <a href="#about-begin" class="ref">begin</a> and <a href="#about-begin" class="ref">end</a> statements. Scripts that are defined as script cannot be called directly from events in your game. They can only be called by name within other scripts. To make a script that can be run directly from your game, use <a href="#about-plotscript" class="ref">plotscript</a>.<br>
			<pre># example of a simple script
script,my first script,begin
	# commands go here
end</pre>
<pre># example of a script with arguments
script,my fancy script,fe=0,fi=0,fo=0,begin
	# commands go here,
	# and they can use the aruments fe, fi, and fo
	# that where passed to the script
end</pre>
			
		</tt></p>
		<a name="about-globalvariable"></a>
		<p>
		<tt>
		<b><font color="yellow">global variable (id,name)</font></b><br>
			Creates a global variable that can be used in any script. The first argument to the global variable declaration is a unique ID number. The second argument is the name of the variable. The ID number for a global variable is a number from 0 to 4095. Each global variable must have a unique number, but this number will not conflict with the ID numbers you use for scripts. It is all right to have a script and a global variable with the same ID number. See also <a href="#about-variable" class="ref">variable</a><br>
			<pre># any script can read and set the value of a global
global variable(1,mini game score)</pre>
			
		</tt></p>
		<a name="about-variable"></a>
		<p>
		<tt>
		<b><font color="yellow">variable (name)</font></b><br>
			Creates a local variable that can only be used inside the script where it was created. The value of this variable is lost when the script ends. If you need a variable who's value persists between calls to a script, or that is automatically saved when the player saves their game, you will need to use a <a href="#about-globalvariable" class="ref">global variable</a> instead.<br>
			<pre>variable(points) # make a new variable
variable+=1 # add one to it</pre>
			
		</tt></p>
		<a name="about-defineconstant"></a>
		<p>
		<tt>
		<b><font color="yellow">define constant (number,name)</font></b><br>
			Creates a global constant. The first argument is the number that the constant will represent, and the second argument is the name of the constant. Use constants to replace commonly used numbers with friendly names. The following constants have been delacred for you in PLOTSRC.HSD:<br><a href="#about-numericconstants" class="ref">zero</a> <a href="#about-numericconstants" class="ref">one</a> <a href="#about-numericconstants" class="ref">two</a> <a href="#about-numericconstants" class="ref">three</a> <a href="#about-numericconstants" class="ref">four</a> <a href="#about-numericconstants" class="ref">five</a> <a href="#about-numericconstants" class="ref">six</a> <a href="#about-numericconstants" class="ref">seven</a> <a href="#about-numericconstants" class="ref">eight</a> <a href="#about-numericconstants" class="ref">nine</a> <a href="#about-numericconstants" class="ref">nine</a> <a href="#about-booleanconstants" class="ref">false</a> <a href="#about-booleanconstants" class="ref">true</a> <a href="#about-booleanconstants" class="ref">off</a> <a href="#about-booleanconstants" class="ref">on</a> <a href="#about-directionconstants" class="ref">north</a> <a href="#about-directionconstants" class="ref">east</a> <a href="#about-directionconstants" class="ref">south</a> <a href="#about-directionconstants" class="ref">west</a> <a href="#about-directionconstants" class="ref">up</a> <a href="#about-directionconstants" class="ref">down</a> <a href="#about-directionconstants" class="ref">left</a> <a href="#about-directionconstants" class="ref">right</a> <a href="#about-keyconstants" class="ref">up key</a> <a href="#about-keyconstants" class="ref">down key</a> <a href="#about-keyconstants" class="ref">left key</a> <a href="#about-keyconstants" class="ref">right key</a> <a href="#about-keyconstants" class="ref">use key</a> <a href="#about-keyconstants" class="ref">cancel key</a> <a href="#about-keyconstants" class="ref">menu key</a> <a href="#about-keyconstants" class="ref">any key</a> <a href="#about-me" class="ref">me</a> <a href="#about-none" class="ref">none</a> <a href="#about-autonumber" class="ref">autonumber</a> <a href="#about-currentstat" class="ref">current stat</a> <a href="#about-maximumstat" class="ref">maximum stat</a> <a href="#about-tileconstants" class="ref">north wall</a> <a href="#about-tileconstants" class="ref">east wall</a> <a href="#about-tileconstants" class="ref">south wall</a> <a href="#about-tileconstants" class="ref">west wall</a> <a href="#about-tileconstants" class="ref">vehicle A</a> <a href="#about-tileconstants" class="ref">vehicle A</a> <a href="#about-tileconstants" class="ref">harm tile</a> <a href="#about-tileconstants" class="ref">overhead tile</a><br>
			
			
		</tt></p>
		<a name="about-include"></a>
		<p>
		<tt>
		<b><font color="yellow">include, filename</font></b><br>
			The include command inserts another text file into your script. It is followed by a single filename that tells what file will be included. Windows long filenames are not supported. Every plotscript file should start with include, plotscr.hsd The PLOTSCR.HSD file contains definitions and constants for most of the other plotscripting commands.<br>
			<pre>include, plotscr.hsd # Plotscripting definitions
include, mygame.hsi # constants particular to my game</pre>
			
		</tt></p>
		<a name="about-definescript"></a>
		<p>
		<tt>
		<b><font color="yellow">define script (id,name,arguments)</font></b><br>
			<div style="background-color:#EFF;" class="note">
<img src="http://gilgamesh.hamsterrepublic.com/wiki/ohrrpgce-images/0/01/Plotnote.png" alt="[Note]" class="icon">This declaration is available for backwards compatability, but it is not required anymore. See <a href="#about-script" class="ref">script</a> and <a href="#about-plotscript" class="ref">plotscript</a> instead.<br clear="all">
</div> The define script command names an old-style script, and associates it with an ID number. Old scripts used to require a unique ID number. The first argument is the <span class="param">ID number</span>. It is a number between 1 and 16383. If you try to give two individual scripts the same <span class="param">ID number</span>, your script file will not compile. The next argument is the <span class="param">name</span> of the script. this is the same name that will used later in your script command. The third argument is the number of arguments that the script can accept. If it doesnt need any arguments (most scripts don't) then use <a href="#about-none" class="ref">none</a>. If there are arguments, you then follow the argument count with default values for each argument.<br>
			<pre># example of a simple script definition
define script (1,my first script,none)</pre>
<pre># example of a script definition with arguments. this script
# has three arguments, all of which default to zero if they
# are not specified
define script (2,my fancy script,3,0,0,0)</pre>
			
		</tt></p>

		<hr>
	
		<a name="Wait%20Commands"></a>

		<font color="#f06060" size="4">Wait Commands</font>
		<p></p>
		
		<a name="about-wait"></a>
		<p>
		<tt>
		<b><font color="yellow">wait (ticks)</font></b><br>
			Makes the script wait for the specified number of ticks. There are roughly 18 ticks to a second, but this can vary under some conditions. If you leave out the argument, it will wait for one tick.<br>
			<pre>show text box(2) # Show a text box
wait(50) # Wait about 3 seconds
advance text box # "hit spacebar"</pre>
			
		</tt></p>
		<a name="about-waitfortextbox"></a>
		<p>
		<tt>
		<b><font color="yellow">wait for text box</font></b><br>
			Makes the script wait until there is no text box displaying on the screen. Useful to know when to move on after using a <a href="#about-showtextbox" class="ref">show text box</a> command.<br>
			<pre>show text box(2) # Show a text box
wait for text box # wait until the player continues</pre>
			
		</tt></p>
		<a name="about-waitformenu"></a>
		<p>
		<tt>
		<b><font color="yellow">wait for menu (menu handle)</font></b><br>
			Given a <span class="param">menu handle</span> (for example, the one returned by <a href="#about-openmenu" class="ref">open menu</a>), causes the script to wait until that menu has been closed.<br>
			
			
		</tt></p>
		<a name="about-waitforhero"></a>
		<p>
		<tt>
		<b><font color="yellow">wait for hero (who)</font></b><br>
			Waits for the specified hero stop walking. Use the constant <a href="#about-me" class="ref">me</a> to refer to the leader, or use numbers 0,1,2,3 to refer to a specific hero. If you leave out the argument, the first hero will be assumed.<br>
			<pre>move hero to y (me, 10) # move hero to (x, 10)
wait for hero (me) # wait until he stops</pre>
			
		</tt></p>
		<a name="about-waitforkey"></a>
		<p>
		<tt>
		<b><font color="yellow">wait for key (key)</font></b><br>
			Waits for the player to press a key. You can use the following constants: <a href="#about-keyconstants" class="ref">any key</a>, <a href="#about-keyconstants" class="ref">up key</a>, <a href="#about-keyconstants" class="ref">down key</a>, <a href="#about-keyconstants" class="ref">left key</a>, <a href="#about-keyconstants" class="ref">right key</a>, <a href="#about-keyconstants" class="ref">use key</a>, <a href="#about-keyconstants" class="ref">cancel key</a>, or <a href="#about-keyconstants" class="ref">menu key</a>. If you do not specify, then <a href="#about-keyconstants" class="ref">any key</a> will be used. These are not scancodes, and can not be mixed with scancodes! Use <a href="#about-waitforscancode" class="ref">wait for scancode</a> if you want to use scancodes or wait for other keys. <span class="param">usekey</span> will wait for Space, Ctrl or Enter; and <span class="param">cancelkey</span> and <span class="param">menukey</span> both wait for Alt or Esc. If and only if anykey is used, waitforkey will return the scancode of the key that was pressed.<br>
			<pre>show text box(623) # "press cancel!"
wait for key(cancel key)</pre>
			
		</tt></p>
		<a name="about-waitforscancode"></a>
		<p>
		<tt>
		<b><font color="yellow">wait for scancode (key)</font></b><br>
			Waits for the player to press a specific key. You can use any of the constants from <a href="#about-keyispressed" class="ref">key is pressed</a> to specify the key. <div style="background-color:#EFF;" class="note">
<img src="http://gilgamesh.hamsterrepublic.com/wiki/ohrrpgce-images/0/01/Plotnote.png" alt="[Note]" class="icon">You must <a href="#about-include" class="ref">include</a> scancode.hsi to use these constants.<br clear="all">
</div>
<br>
			<pre>show text box(624) # "press P!"
wait for scancode(key:P)</pre>
			
		</tt></p>
		<a name="about-waitfornpc"></a>
		<p>
		<tt>
		<b><font color="yellow">wait for NPC (who)</font></b><br>
			Waits for the specified NPC to stop walking. The argument is the number of the NPC, 0 to 35. If more than one copy of the NPC exists on the map, it only checks the first one.<br>
			<pre>walk NPC (2,up,3) # make the NPC go up three spaces
wait for NPC (2) # wait until he's done</pre>
			
		</tt></p>
		<a name="about-waitforcamera"></a>
		<p>
		<tt>
		<b><font color="yellow">wait for camera</font></b><br>
			Wait for the camera to stop panning after a <a href="#about-pancamera" class="ref">pan camera</a> or <a href="#about-focuscamera" class="ref">focus camera</a> command.<br>
			<pre>pan camera (left,10) # show the villan 10 tiles off screen
wait for camera # wait until he's on screen</pre>
			
		</tt></p>
		<a name="about-waitforall"></a>
		<p>
		<tt>
		<b><font color="yellow">wait for all</font></b><br>
			Waits for any camera motion to stop, waits for all heroes to stop walking, and if <a href="#about-suspendnpcs" class="ref">suspend NPCs</a> is active, waits for all NPCs to stop walking.<br>
			<pre># do a bunch of things all at once
wait for all # wait until everything is done</pre>
			
		</tt></p>

		<hr>
	
		<a name="Suspend%20and%20Resume"></a>

		<font color="#f06060" size="4">Suspend and Resume</font>
		<p></p>
		
		<a name="about-suspendplayer"></a>
		<p>
		<tt>
		<b><font color="yellow">suspend player</font></b><br>
			Blocks the player from controlling the game, so the plotscript can have exclusive control. The one exception to this is text boxes. The player can advance text boxes no matter what, unless you use <a href="#about-suspendboxadvance" class="ref">suspend box advance</a>.<br>
			<pre>suspend player
# do stuff
resume player</pre>
			
		</tt></p>
		<a name="about-resumeplayer"></a>
		<p>
		<tt>
		<b><font color="yellow">resume player</font></b><br>
			Restores normal control after a <a href="#about-suspendplayer" class="ref">suspend player</a> command. This is very important. If you use <a href="#about-suspendplayer" class="ref">suspend player</a>, but forget resume player, the game will be stuck after the script ends.<br>
			<pre>suspend player
# do stuff
resume player</pre>
			
		</tt></p>
		<a name="about-suspendnpcs"></a>
		<p>
		<tt>
		<b><font color="yellow">suspend NPCs</font></b><br>
			Stops NPCs from walking around automatically. When suspend NPCs is run, all NPCs stop in their tracks, ready for you to control them with the <a href="#about-walknpc" class="ref">walk NPC</a> command<br>
			<pre>suspend NPCs
# do stuff
resume NPCs</pre>
			
		</tt></p>
		<a name="about-resumenpcs"></a>
		<p>
		<tt>
		<b><font color="yellow">resume NPCs</font></b><br>
			Restores automatic NPC movement after a <a href="#about-suspendnpcs" class="ref">suspend NPCs</a> command<br>
			<pre>suspend NPCs
# do stuff
resume NPCs</pre>
			
		</tt></p>
		<a name="about-suspendobstruction"></a>
		<p>
		<tt>
		<b><font color="yellow">suspend obstruction</font></b><br>
			Allows heroes to walk through NPCs, allows NPCs to walk through heroes, and allows NPCs to walk through each other. Use <a href="#about-resumeobstruction" class="ref">resume obstruction</a> to restore normal obstruction behavior.<br>
			<pre>suspend obstruction
# walk through things
resume obstruction</pre>
			
		</tt></p>
		<a name="about-resumeobstruction"></a>
		<p>
		<tt>
		<b><font color="yellow">resume obstruction</font></b><br>
			Restores normal obstruction after a <a href="#about-suspendobstruction" class="ref">suspend obstruction</a> command<br>
			<pre>suspend obstruction
# walk through things
resume obstruction</pre>
			
		</tt></p>
		<a name="about-suspendherowalls"></a>
		<p>
		<tt>
		<b><font color="yellow">suspend hero walls</font></b><br>
			Allows heroes to walk through walls. Use <a href="#about-resumeherowalls" class="ref">resume hero walls</a> to restore normal wall behavior.<br>
			<pre>suspend hero walls # hero is now a ghost
# walk through things
resume hero walls # back to mortality...</pre>
			
		</tt></p>
		<a name="about-resumeherowalls"></a>
		<p>
		<tt>
		<b><font color="yellow">resume hero walls</font></b><br>
			Restores normal wall behavior after a <a href="#about-suspendherowalls" class="ref">suspend hero walls</a> command<br>
			<pre>suspend hero walls # hero is now a ghost
# walk through things
resume hero walls # back to mortality...</pre>
			
		</tt></p>
		<a name="about-suspendnpcwalls"></a>
		<p>
		<tt>
		<b><font color="yellow">suspend NPC walls</font></b><br>
			Allows NPCs to walk through walls. Use <a href="#about-resumenpcwalls" class="ref">resume NPC walls</a> to restore normal wall behavior.<br>
			<pre>suspend NPC walls # npc is now a ghost
# walk through things
resume NPC walls # back to mortality...</pre>
			
		</tt></p>
		<a name="about-resumenpcwalls"></a>
		<p>
		<tt>
		<b><font color="yellow">resume NPC walls</font></b><br>
			Restores normal wall behavior after a <a href="#about-suspendnpcwalls" class="ref">suspend NPC walls</a> command.<br>
			<pre>suspend NPC walls # npc is now a ghost
# walk through things
resume NPC walls # back to mortality...</pre>
			
		</tt></p>
		<a name="about-suspendcaterpillar"></a>
		<p>
		<tt>
		<b><font color="yellow">suspend caterpillar</font></b><br>
			Stops your other heroes from following the leader. This is useful when you want to control them individually with <a href="#about-walkhero" class="ref">walk hero</a> commands. In earlier versions this was misspelled as suspend catapillar. The old spelling still works for backwards compatability.<br>
			<pre>suspend caterpillar # cutscene
# move heroes, probably fight a battle or two...
resume caterpillar # normal game again.</pre>
			
		</tt></p>
		<a name="about-resumecaterpillar"></a>
		<p>
		<tt>
		<b><font color="yellow">resume caterpillar</font></b><br>
			Reverses the <a href="#about-suspendcaterpillar" class="ref">suspend caterpillar</a> command, and makes your other heroes follow the leader as normal. In earlier versions this was misspelled as resume catapillar. The old spelling still works for backwards compatability.<br>
			<pre>suspend caterpillar # cutscene
# move heroes, probably fight a battle or two...
resume caterpillar # normal game again.</pre>
			
		</tt></p>
		<a name="about-suspendcatapillar"></a>
		<p>
		<tt>
		
				<b><font color="yellow">suspend catapillar</font></b><br>
				See <a href="#about-suspendcaterpillar">suspend caterpillar</a>
			</tt></p>
		<a name="about-resumecatapillar"></a>
		<p>
		<tt>
		
				<b><font color="yellow">resume catapillar</font></b><br>
				See <a href="#about-resumecaterpillar">resume caterpillar</a>
			</tt></p>
		<a name="about-suspendrandomenemies"></a>
		<p>
		<tt>
		<b><font color="yellow">suspend random enemies</font></b><br>
			Prevents enemies from attacking your party while walking over tiles that can normally spawn random battles. This is useful to prevent battles from interrupting a plotscript. In earlier versions, this was misspelled as suspend random enemys. The old spelling still works for backwards compatability.<br>
			<pre>suspend random enemies # no battles for now
walk hero (me, up, 10) # cross pit of evil monsters of doom
resume random enemies # back to normal</pre>
			
		</tt></p>
		<a name="about-resumerandomenemies"></a>
		<p>
		<tt>
		<b><font color="yellow">resume random enemies</font></b><br>
			Undoes the <a href="#about-suspendrandomenemies" class="ref">suspend random enemies</a> command and allows random battles to occur as normal. In earlier versions, this was misspelled as resume random enemys. The old spelling still works for backwards compatability.<br>
			<pre>suspend random enemies # no battles for now
walk hero (me, up, 10) # cross pit of evil monsters of doom
resume random enemies # back to normal</pre>
			
		</tt></p>
		<a name="about-suspendrandomenemys"></a>
		<p>
		<tt>
		
				<b><font color="yellow">suspend random enemys</font></b><br>
				See <a href="#about-suspendrandomenemies">suspend random enemies</a>
			</tt></p>
		<a name="about-resumerandomenemys"></a>
		<p>
		<tt>
		
				<b><font color="yellow">resume random enemys</font></b><br>
				See <a href="#about-resumerandomenemies">resume random enemies</a>
			</tt></p>
		<a name="about-suspendboxadvance"></a>
		<p>
		<tt>
		<b><font color="yellow">suspend box advance</font></b><br>
			Prevents the player from advancing or clearing text boxes by pressing keys. While this is active, the only way to make a text box advance is with the <a href="#about-advancetextbox" class="ref">advance text box</a> command (or <a href="#about-showtextbox" class="ref">show text box</a>). Useful for cut scenes that play out like a movie, where the player just watches the dialogue unfold. Be very careful with this command, since you do not want to leave the player stuck on a text box forever.<br>
			<pre>suspend box advance # stop players from mucking things up
show text box(2) # Show a text box
wait(45) # Wait about 3 seconds
advance text box # "hit spacebar"
resume box advance # go back to normal</pre>
			
		</tt></p>
		<a name="about-resumeboxadvance"></a>
		<p>
		<tt>
		<b><font color="yellow">resume box advance</font></b><br>
			Undoes the <a href="#about-suspendboxadvance" class="ref">suspend box advance</a> command and allows the player to advance and clear text boxes by pressing keys as normal.<br>
			<pre>suspend box advance # stop players from mucking things up
show text box(2) # Show a text box
wait(45) # Wait about 3 seconds
advance text box # "hit spacebar"
resume box advance # go back to normal</pre>
			
		</tt></p>
		<a name="about-suspendoverlay"></a>
		<p>
		<tt>
		<b><font color="yellow">suspend overlay</font></b><br>
			Draws old-style overhead tiles under heroes and NPCs instead of over them. This does not affect the drawing of normal layers. You might still find this useful for creating bridges or catwalks that can be walked on or passed under. Undo with <a href="#about-resumeoverlay" class="ref">resume overlay</a>.<br>
			
			
		</tt></p>
		<a name="about-resumeoverlay"></a>
		<p>
		<tt>
		<b><font color="yellow">resume overlay</font></b><br>
			Undoes the <a href="#about-suspendoverlay" class="ref">suspend overlay</a> command, causing overhead tiles to be drawn over heroes and NPCs as normal.<br>
			
			
		</tt></p>
		<a name="about-suspendmapmusic"></a>
		<p>
		<tt>
		<b><font color="yellow">suspend map music</font></b><br>
			Causes ambient music not to automatically play when you enter a map. Does not affect the currently playing music, or the map's ambient music. Use when playing thematic music during a scene that involves changing maps.<br>
			<pre># begin scene
play song(song:Happy Times)
show textbox (117)
wait for textbox
# goto another map without triggering music
fade screen out
wait
suspend map music
use door(3)
fade screen in
# continue scene
show textbox (118)
wait for textbox
# return to normal music behaviour and play the ambient music
resume map music
play song (get ambient music)</pre>
			<br>See also: <ul class="seealso">
<li>
<a href="#about-setambientmusic" class="ref">set ambient music</a>, </li>
<li><a href="#about-getambientmusic" class="ref">get ambient music</a></li>
</ul>
		</tt></p>
		<a name="about-resumemapmusic"></a>
		<p>
		<tt>
		<b><font color="yellow">resume map music</font></b><br>
			Causes ambient music to automatically start playing when you enter a map again after a <a href="#about-suspendmapmusic" class="ref">suspend map music</a> command.<br>
			
			
		</tt></p>
		<a name="about-suspendtimers"></a>
		<p>
		<tt>
		<b><font color="yellow">suspend timers</font></b><br>
			Causes all plot timers started with <a href="#about-settimer" class="ref">set timer</a> to be paused. It does not cancel them. Undo with <a href="#about-resumetimers" class="ref">resume timers</a><br>
			
			
		</tt></p>
		<a name="about-resumetimers"></a>
		<p>
		<tt>
		<b><font color="yellow">resume timers</font></b><br>
			Undoes <a href="#about-suspendtimers" class="ref">suspend timers</a>. All previously paused plot timers will become active again.<br>
			
			
		</tt></p>

		<hr>
	
		<a name="Moving%20Heroes"></a>

		<font color="#f06060" size="4">Moving Heroes</font>
		<p></p>
		
		<a name="about-walkhero"></a>
		<p>
		<tt>
		<b><font color="yellow">walk hero (who, direction, distance)</font></b><br>
			Makes the specified hero move in the specified direction for the specified number of tiles. The first argument tells who to move. Use <a href="#about-me" class="ref">me</a> or numbers 0-3. The second argument is the direction. Use the constants: <a href="#about-directionconstants" class="ref">north</a>, <a href="#about-directionconstants" class="ref">south</a>, <a href="#about-directionconstants" class="ref">east</a>, <a href="#about-directionconstants" class="ref">west</a>, <a href="#about-directionconstants" class="ref">up</a>, <a href="#about-directionconstants" class="ref">down</a>, <a href="#about-directionconstants" class="ref">left</a>, or <a href="#about-directionconstants" class="ref">right</a>. The third argument is the number of tiles to move. If you leave out the third argument, the hero will move one tile. Walk hero is usually used with the <a href="#about-waitforhero" class="ref">wait for hero</a> command. You should normally use the <a href="#about-suspendplayer" class="ref">suspend player</a> command before moving heroes, and if you want to move heroes other than the leader, you should use the <a href="#about-suspendcaterpillar" class="ref">suspend caterpillar</a> command.<br>
			<pre>suspend player # stop player
walk hero(me,up,3) # move him up 3 tiles
resume player # ok, done</pre>
			
		</tt></p>
		<a name="about-setherodirection"></a>
		<p>
		<tt>
		<b><font color="yellow">set hero direction (who, direction)</font></b><br>
			Makes the specified hero face in the specified direction. The following constants are avaialable for direction: <a href="#about-directionconstants" class="ref">north</a>, <a href="#about-directionconstants" class="ref">south</a>, <a href="#about-directionconstants" class="ref">east</a>, <a href="#about-directionconstants" class="ref">west</a>, <a href="#about-directionconstants" class="ref">up</a>, <a href="#about-directionconstants" class="ref">down</a>, <a href="#about-directionconstants" class="ref">left</a>, or <a href="#about-directionconstants" class="ref">right</a>.<br>
			<pre>set hero direction (me,right) # face right</pre>
			
		</tt></p>
		<a name="about-setheroframe"></a>
		<p>
		<tt>
		<b><font color="yellow">set hero frame (who, frame)</font></b><br>
			Sets the walking frame of the specified hero to 0 or 1.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-heroframe" class="ref">hero frame</a></li></ul>
		</tt></p>
		<a name="about-setheroposition"></a>
		<p>
		<tt>
		<b><font color="yellow">set hero position (who, x, y)</font></b><br>
			Instantly moves the specified hero to an X,Y position on the map. The coordinates are in units of tiles. For pixel-positioning use the <a href="#about-puthero" class="ref">put hero</a> command.<br>
			
			
		</tt></p>
		<a name="about-setheroz"></a>
		<p>
		<tt>
		<b><font color="yellow">set hero z (who, z)</font></b><br>
			Sets the Z location of the specified hero. The Z location is the number of pixels above the tile they are standing on. Useful for scripts where you want a hero to jump or levitate.<br>
			
			
		</tt></p>
		<a name="about-walkherotox"></a>
		<p>
		<tt>
		<b><font color="yellow">walk hero to x (who,x)</font></b><br>
			Makes the specified hero walk to a given X coordinate on the map<br>
			
			
		</tt></p>
		<a name="about-walkherotoy"></a>
		<p>
		<tt>
		<b><font color="yellow">walk hero to y (who,x)</font></b><br>
			Makes the specified hero walk to a given Y coordinate on the map<br>
			
			
		</tt></p>
		<a name="about-checkherowall"></a>
		<p>
		<tt>
		<b><font color="yellow">check hero wall (who,direction)</font></b><br>
			Returns true if there is a wall blocking the hero from moving in the specified direction. No actual movement takes place.<br>
			
			
		</tt></p>
		<a name="about-setherospeed"></a>
		<p>
		<tt>
		<b><font color="yellow">set hero speed (who, speed)</font></b><br>
			Changes the walking speed of the specified hero. If you do not specify a speed, the hero's speed will return to the default, 4. Be careful with using speeds that do not divide evenly into 20, because tiles are 20 pixels in size, and an irregular walking speed may cause your hero to become misaligned with the tiles.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-getherospeed" class="ref">get hero speed</a></li></ul>
		</tt></p>
		<a name="about-usedoor"></a>
		<p>
		<tt>
		<b><font color="yellow">use door (number)</font></b><br>
			Instantly uses the numbered door, just as if you had stepped into it. (This command implies a one-tick <a href="#about-wait" class="ref">wait</a>)<br>
			
			
		</tt></p>
		<a name="about-teleporttomap"></a>
		<p>
		<tt>
		<b><font color="yellow">teleport to map (map, x, y)</font></b><br>
			An alternative to <a href="#about-usedoor" class="ref">use door</a>, teleport to map moves you to a given x,y position on the specified map without the need to create a door-link on the map. Teleport to map does not fade to black. (This command implies a one-tick <a href="#about-wait" class="ref">wait</a>)<br>
			
			
		</tt></p>
		<a name="about-dismountvehicle"></a>
		<p>
		<tt>
		<b><font color="yellow">dismount vehicle</font></b><br>
			Makes you dismount whatever vehicle you are riding. If you are not riding a vehicle, nothing will happen.<br>
			
			
		</tt></p>
		<a name="about-heroiswalking"></a>
		<p>
		<tt>
		<b><font color="yellow">hero is walking (who)</font></b><br>
			Returns <a href="#about-booleanconstants" class="ref">true</a> if the specified hero (by position in the caterpillar) is currently walking. Returns <a href="#about-booleanconstants" class="ref">false</a> if the hero is standing still.<br>
			
			
		</tt></p>
		<a name="about-puthero"></a>
		<p>
		<tt>
		<b><font color="yellow">put hero (who, x, y)</font></b><br>
			Moves a hero to a precise location on the map. The first argument is the hero's position in the walkabout party. The second and third arguments are the X,Y pixel position of the top left corner of the hero walkabout sprite, relative to the top left corner of the map. Be aware that using this command can misalign your hero with the tile-grid, preventing it from walking normally. To position the hero by tile, use the <a href="#about-setheroposition" class="ref">set hero position</a> command. Normally you will use this command to escape the tile-based movement system.<br>
			<pre># This script will make the hero jump in an arch 15 pixels high 2 tiles to the right,
# but it won't animate it. You can use setheroframe or setheropicture to do that.
variable (i, jump)
suspend player
set hero direction (me, right)
jump := -5
for (i, 0, 10) do (
  put hero (me, hero pixel X (me) + 4, hero pixel Y (me) + jump)
  jump += 1
  wait
)
resume player</pre>
			
		</tt></p>

		<hr>
	
		<a name="Moving%20NPCs"></a>

		<font color="#f06060" size="4">Moving NPCs</font>
		<p></p>
		
		<a name="about-npcreference"></a>
		<p>
		<tt>
		<b><font color="yellow">NPC reference (ID, copy)</font></b><br>
			What is an NPC reference? A reference is a number that uniquely identifies an NPC on a map. You can use an NPC reference to specify which NPC you are controlling in most NPC-related commands. The first argument to NPC reference is the ID number of the NPC you want to work with. The ID is the same number that appears in CUSTOM.EXE when you are editing NPCs or placing NPCs on the map. The second argument is optional. It specifies which copy of the NPC you want, in case there are more than one on the map. If you dont specify which copy you want, you will just get a reference to the first NPC on the map with the right ID. Copies are counted starting from zero; you can see the copy number of NPCs in the Map Editor if you placed them in Custom.<br> If you plan on using the same NPC reference many times in a script you can store it in a <a href="#about-variable" class="ref">variable</a>. If the NPC with the ID you asked for (or the NPC copy you asked for with ID you asked for) is not found on the map then NPC reference will return <a href="#about-booleanconstants" class="ref">false</a>.<br>
			<pre>include,plotscr.hsd

#---NPC reference example---

plotscript,ref example,begin

  variable(Fred)

  # find the first copy of NPC 10,
  # and store the reference in a variable
  Fred := NPC reference(10,0)

  # now we can manipulate that NPC with the variable
  walk NPC     (Fred,south,3)
  wait for NPC (Fred)

  # make the NPC spin!
  set NPC direction (Fred,east)
  wait(2)
  set NPC direction (Fred,north)
  wait(2)
  set NPC direction (Fred,west)
  wait(2)
  set NPC direction (Fred,south)
  wait(2)

end</pre>
			<br>See also: <ul class="seealso">
<li>
<a href="#about-npcatspot" class="ref">NPC at spot</a>, </li>
<li>
<a href="#about-npcatpixel" class="ref">NPC at pixel</a>, </li>
<li>
<a href="#about-createnpc" class="ref">create NPC</a>, </li>
<li><a href="#about-npccopycount" class="ref">NPC copy count</a></li>
</ul>
		</tt></p>
		<a name="about-npcatspot"></a>
		<p>
		<tt>
		<b><font color="yellow">NPC at spot (x, y, number)</font></b><br>
			This command returns a reference to the NPC at the given X and Y coordinate on the map. The optional third argument lets you choose which NPC to reference in case there is more than one NPC standing on that same spot (starting from the bottom most NPC, which is number 0). You can also pass the constant <a href="#about-getcount" class="ref">get count</a> for the third argument to return the total number of npcs on that tile. <div style="background-color:#EFF;" class="note">
<img src="http://gilgamesh.hamsterrepublic.com/wiki/ohrrpgce-images/0/01/Plotnote.png" alt="[Note]" class="icon">An NPC's tile is the tile its top left corner is on.<br clear="all">
</div>
<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-npcreference" class="ref">NPC reference</a></li></ul>
		</tt></p>
		<a name="about-npcatpixel"></a>
		<p>
		<tt>
		<b><font color="yellow">NPC at pixel (x, y, number)</font></b><br>
			This command returns a reference to the NPC at the given X and Y coordinate in pixels. That is, any npc whose 20x20 sprite (including transparent sections) is over that pixel. The optional third argument lets you choose which NPC to reference in case there is more than one NPC standing on that same spot (starting from the bottom-most NPC, which is number 0). You can also pass the constant <a href="#about-getcount" class="ref">get count</a> for the third argument to return the total number of npcs on that tile.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-npcreference" class="ref">NPC reference</a></li></ul>
		</tt></p>
		<a name="about-walknpc"></a>
		<p>
		<tt>
		<b><font color="yellow">walk NPC (who, direction, distance)</font></b><br>
			Makes the specified NPC move in the specified direction for the specified number of tiles. The first argument tells who to move. You can use an <a href="#about-npcreference" class="ref">NPC reference</a> or the NPC's ID number. The second argument is the direction. Use the constants: <a href="#about-directionconstants" class="ref">north</a>, <a href="#about-directionconstants" class="ref">south</a>, <a href="#about-directionconstants" class="ref">east</a>, <a href="#about-directionconstants" class="ref">west</a>, <a href="#about-directionconstants" class="ref">up</a>, <a href="#about-directionconstants" class="ref">down</a>, <a href="#about-directionconstants" class="ref">left</a>, or <a href="#about-directionconstants" class="ref">right</a>. The third argument is the number of tiles to move. If you leave out the third argument, the NPC will move one tile. walk NPC is usually used with the <a href="#about-waitfornpc" class="ref">wait for NPC</a> command. You should normally use the <a href="#about-suspendnpcs" class="ref">suspend NPCs</a> command before moving NPCs to prevent their automatic movements from interfering with your scripted movements.<br>
			
			
		</tt></p>
		<a name="about-setnpcdirection"></a>
		<p>
		<tt>
		<b><font color="yellow">set NPC direction (who, direction)</font></b><br>
			Makes the specified NPC face in the specified direction. The following constants are avaialable for direction: <a href="#about-directionconstants" class="ref">north</a>, <a href="#about-directionconstants" class="ref">south</a>, <a href="#about-directionconstants" class="ref">east</a>, <a href="#about-directionconstants" class="ref">west</a>, <a href="#about-directionconstants" class="ref">up</a>, <a href="#about-directionconstants" class="ref">down</a>, <a href="#about-directionconstants" class="ref">left</a>, or <a href="#about-directionconstants" class="ref">right</a>. You can use either an <a href="#about-npcreference" class="ref">NPC reference</a> or the NPC's ID number to specify which NPC will turn.<br>
			
			
		</tt></p>
		<a name="about-setnpcframe"></a>
		<p>
		<tt>
		<b><font color="yellow">set NPC frame (who, frame)</font></b><br>
			Sets the walking frame of the specified NPC to 0 or 1. You can use either an <a href="#about-npcreference" class="ref">NPC reference</a> or the NPC's ID number to specify which NPC will change.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-npcframe" class="ref">NPC frame</a></li></ul>
		</tt></p>
		<a name="about-setnpcposition"></a>
		<p>
		<tt>
		<b><font color="yellow">set NPC position (who, X, Y)</font></b><br>
			Instantly moves the specified NPC to an X,Y position on the map. The coordinates are in units of tiles. You can use either an <a href="#about-npcreference" class="ref">NPC reference</a> or the NPC's ID number to specify which NPC will be moved.<br>
			
			
		</tt></p>
		<a name="about-walknpctox"></a>
		<p>
		<tt>
		<b><font color="yellow">walk NPC to X (who, X)</font></b><br>
			Makes the specified NPC walk to a given X coordinate on the map. You can use either an <a href="#about-npcreference" class="ref">NPC reference</a> or the NPC's ID number to specify which NPC will move.<br>
			
			
		</tt></p>
		<a name="about-walknpctoy"></a>
		<p>
		<tt>
		<b><font color="yellow">walk NPC to Y (who, Y)</font></b><br>
			Makes the specified NPC walk to a given Y coordinate on the map. You can use either an <a href="#about-npcreference" class="ref">NPC reference</a> or the NPC's ID number to specify which NPC will move.<br>
			
			
		</tt></p>
		<a name="about-checknpcwall"></a>
		<p>
		<tt>
		<b><font color="yellow">check NPC wall (who, direction)</font></b><br>
			Returns true if there is a wall blocking the NPC from moving in the specified direction. No actual movement takes place.<br>
			
			
		</tt></p>
		<a name="about-setnpcspeed"></a>
		<p>
		<tt>
		<b><font color="yellow">set NPC speed (who, speed)</font></b><br>
			Changes the walking speed of the specified NPC. If you do not specify a speed, the NPC's speed will return to the default, 4. Be careful with using speeds that do not divide evenly into 20, because tiles are 20 pixels in size, and an irregular walking speed may cause the NPC to become misaligned with the tiles.<br>Normally you would only give an NPC ID number to set NPC speed, but if you want to use an <a href="#about-npcreference" class="ref">NPC reference</a> it will still work. Just remember that set NPC speed changes every copy of the NPC on the map, not just the specific one you referenced.<br>
			
			
		</tt></p>
		<a name="about-npciswalking"></a>
		<p>
		<tt>
		<b><font color="yellow">NPC is walking (who)</font></b><br>
			Returns <a href="#about-booleanconstants" class="ref">true</a> if the specified NPC is currently walking. Returns <a href="#about-booleanconstants" class="ref">false</a> if the NPC is standing still. You can use either an <a href="#about-npcreference" class="ref">NPC reference</a> or the NPC's ID number to specify which NPC will be checked.<br>
			
			
		</tt></p>
		<a name="about-getnpcid"></a>
		<p>
		<tt>
		<b><font color="yellow">get NPC ID (reference)</font></b><br>
			This command is the opposite of <a href="#about-npcreference" class="ref">NPC reference</a>. If you give get NPC ID a reference to an NPC it will return the NPC&amp;s ID. If the NPC ID is not valid then <span class="param">get NPC ID</span> will return -1<br><div style="background-color:#EFF;" class="note">
<img src="http://gilgamesh.hamsterrepublic.com/wiki/ohrrpgce-images/0/01/Plotnote.png" alt="[Note]" class="icon">In some older versions, This command was useful if you needed to do an <a href="#about-alternpc" class="ref">alter NPC</a> or a <a href="#about-setnpcspeed" class="ref">set NPC speed</a> on an NPC that you are working with by reference. This is no longer neccisary, because both those commands now support NPC references (although they still affect every copy of that NPC on the map)<br clear="all">
</div>
<br>
			
			
		</tt></p>
		<a name="about-npccopycount"></a>
		<p>
		<tt>
		<b><font color="yellow">NPC copy count (ID)</font></b><br>
			This command tells you how many copys of a particular NPC ID exist on the map. This can be very useful if you want apply the same action to each copy of an NPC on the map.<br>
			<pre>include,plotscr.hsd

#---NPC copy count example---

plotscript,every NPC example,begin

  variable(loop,guard count,current guard)

  # the guard is NPC 10, and there are many copies of him on the map
  guard count := NPC copy count(10)

  # this loop repeats once for each copy of NPC 10
  for(loop,0,guard count) do,begin

    current guard := NPC reference(10,loop)
    walk NPC(current guard,south,4)
    # if we added a "wait for NPC(current guard)" right here
    # then the guards would walk one at time

  end

  # but we want them to all walk at the same time,
  # so we just wait here
  wait for all

end</pre>
			
		</tt></p>
		<a name="about-changenpcid"></a>
		<p>
		<tt>
		<b><font color="yellow">change NPC ID (reference,new ID)</font></b><br>
			This command takes an <a href="#about-npcreference" class="ref">NPC reference</a> and lets you change the ID number of the NPC it points to. This means that the NPC will now use a different picture, an different palette, a different walking speed, an different text box, everything. This change is not permanent. It only lasts until the next time a map gets loaded.<br>
			
			
		</tt></p>
		<a name="about-createnpc"></a>
		<p>
		<tt>
		<b><font color="yellow">create NPC (ID,X,Y,direction)</font></b><br>
			This command will magically create a new copy of an NPC with the given ID number. You can specify an X and Y position where it will be created, and optionally a direction too (if you leave out the direction, the new NPC will be facing south). create NPC returns an <a href="#about-npcreference" class="ref">NPC reference</a> that you can use to refer to the new NPC in other commands like <a href="#about-walknpc" class="ref">walk NPC</a>. If the new NPC cannot be created (there is a maximum of 300 total NPC copies in memory at a time) then create NPC will return false (zero). The new NPC is not permanent. It only lasts until a new map is loaded.<br>
			
			
		</tt></p>
		<a name="about-destroynpc"></a>
		<p>
		<tt>
		<b><font color="yellow">destroy NPC (reference)</font></b><br>
			This command will erase the specified NPC. You can use either an <a href="#about-npcreference" class="ref">NPC reference</a> or the NPC's ID number. The deletion is not permanent. Unless this is an NPC that you created with <a href="#about-createnpc" class="ref">create NPC</a>, the NPC will be back again next time the map gets loaded. If you need to permanently remove an NPC, use tags. <div style="background-color:#EFF;" class="note">
<img src="http://gilgamesh.hamsterrepublic.com/wiki/ohrrpgce-images/0/01/Plotnote.png" alt="[Note]" class="icon">This only deletes the one NPC you specify. If you use an NPC ID number as the argument, only the first copy of the NPC on the map will be deleted<br clear="all">
</div>
<br>
			
			
		</tt></p>
		<a name="about-putnpc"></a>
		<p>
		<tt>
		<b><font color="yellow">put npc (who,x,y)</font></b><br>
			Moves an NPC to a precise location on the map. The first argument is and <a href="#about-npcreference" class="ref">NPC reference</a> or an NPC ID number. The second and third arguments are the X,Y pixel position relative to the top left corner of the map. Be aware that using this command can mis-align your NPC with the tile-grid, preventing it from walking normally. To position the NPC by tile, use the <a href="#about-setnpcposition" class="ref">set NPC position</a> command.<br>
			
			
		</tt></p>

		<hr>
	
		<a name="Moving%20the%20Camera"></a>

		<font color="#f06060" size="4">Moving the Camera</font>
		<p></p>
		
		<a name="about-camerafollowshero"></a>
		<p>
		<tt>
		<b><font color="yellow">camera follows hero (who)</font></b><br>
			Normally, the camera follows your leader. With this command, you can make the camera follow any hero you want. If you leave out the argument, the camera will follow your leader as normal.<br>
			
			
		</tt></p>
		<a name="about-camerafollowsnpc"></a>
		<p>
		<tt>
		<b><font color="yellow">camera follows NPC (who)</font></b><br>
			With this command, you can make the camera follow an NPC instead of the hero. If more than one copy of the specified NPC exists, the camera will follow the first one. To revert the camera to normal, use <a href="#about-camerafollowshero" class="ref">camera follows hero</a>.<br>
			
			
		</tt></p>
		<a name="about-pancamera"></a>
		<p>
		<tt>
		<b><font color="yellow">pan camera (direction,distance,pixelstep)</font></b><br>
			This command causes the camera to stop following your leader and pan in the specified direction. For direction, you can use the constants: <a href="#about-directionconstants" class="ref">north</a>, <a href="#about-directionconstants" class="ref">south</a>, <a href="#about-directionconstants" class="ref">east</a>, <a href="#about-directionconstants" class="ref">west</a>, <a href="#about-directionconstants" class="ref">up</a>, <a href="#about-directionconstants" class="ref">down</a>, <a href="#about-directionconstants" class="ref">left</a>, or <a href="#about-directionconstants" class="ref">right</a>. The distance is the number of tiles you want the camera to move before it stops. You can also specify the number of pixels you want the camera to move for each tick. if you leave the last argument out, the camera will move by 2 pixels per tick. This command is normally used with <a href="#about-waitforcamera" class="ref">wait for camera</a>. To revert the camera to normal, use <a href="#about-camerafollowshero" class="ref">camera follows hero</a>.<br>
			
			
		</tt></p>
		<a name="about-focuscamera"></a>
		<p>
		<tt>
		<b><font color="yellow">focus camera (x,y,speed)</font></b><br>
			This command causes the camera to focus itself on the specified X,Y coordinates of the map. These coordinates are in units of tiles. The third argument, the speed, tells how fast the camera will pan. If you do not specify a speed, the camera will pan 2 pixels per tick. This command is normally used with <a href="#about-waitforcamera" class="ref">wait for camera</a>. To revert the camera to normal, use <a href="#about-camerafollowshero" class="ref">camera follows hero</a>.<br>
			
			
		</tt></p>
		<a name="about-putcamera"></a>
		<p>
		<tt>
		<b><font color="yellow">put camera (x,y)</font></b><br>
			This command causes the top left corner of the camera to instantly jump to the specified X,Y pixel coordinates of the map. These coordinates are in units of pixels, not tiles. To position the camera by tiles, just multiply the tile position by 20. To revert the camera to normal, use <a href="#about-camerafollowshero" class="ref">camera follows hero</a>.<br>
			
			
		</tt></p>

		<hr>
	
		<a name="Text%20Boxes"></a>

		<font color="#f06060" size="4">Text Boxes</font>
		<p></p>
		
		<a name="about-showtextbox"></a>
		<p>
		<tt>
		<b><font color="yellow">show text box (number)</font></b><br>
			Displays the numbered text box, just as if you had talked to an NPC. The text box will not actually pop up until the next <a href="#about-wait" class="ref">wait</a> command. This command is most often used with the <a href="#about-waitfortextbox" class="ref">wait for text box</a> command.<br>
			<pre>show text box(2) # Show a text box
wait for text box # wait until the player continues</pre>
			
		</tt></p>
		<a name="about-advancetextbox"></a>
		<p>
		<tt>
		<b><font color="yellow">advance text box</font></b><br>
			Advances a text box just as if the player had pressed a key. For use while <a href="#about-suspendboxadvance" class="ref">suspend box advance</a> is active.<br>
			<pre>suspend box advance # stop players from mucking things up
show text box(2) # Show a text box
wait(45) # Wait about 3 seconds
advance text box # "hit spacebar"
resume box advance # go back to normal</pre>
			
		</tt></p>
		<a name="about-currenttextbox"></a>
		<p>
		<tt>
		<b><font color="yellow">current text box</font></b><br>
			Returns the number of the currently displayed text box, or -1 if there's none.<br>
			
			
		</tt></p>

		<hr>
	
		<a name="Triggering%20and%20Showing%20Stuff"></a>

		<font color="#f06060" size="4">Triggering and Showing Stuff</font>
		<p></p>
		
		<a name="about-fightformation"></a>
		<p>
		<tt>
		<b><font color="yellow">fight formation (number)</font></b><br>
			Starts a battle with the numbered enemy formation. This command returns <a href="#about-booleanconstants" class="ref">false</a> if you lost or ran from battle, or <a href="#about-booleanconstants" class="ref">true</a> if you won. However, if you lose the battle, the game will still end as normal unless you set a death script. (This command implies a one-tick <a href="#about-wait" class="ref">wait</a>)<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-setdeathscript" class="ref">set death script</a></li></ul>
		</tt></p>
		<a name="about-usenpc"></a>
		<p>
		<tt>
		<b><font color="yellow">Use NPC (who)</font></b><br>
			Remotely trigger an NPC. You can use either an <a href="#about-npcreference" class="ref">NPC reference</a> or an NPC ID number. Whatever actions are associated with triggering that NPC will be taken, text box, script, vehicle, item, whatever. (This command implies a one-tick <a href="#about-wait" class="ref">wait</a>)<br>
			
			
		</tt></p>
		<a name="about-gameover"></a>
		<p>
		<tt>
		<b><font color="yellow">game over</font></b><br>
			Resets the game and returns you to the title screen. This command is most useful for after-you-win-the-game type scripts, and for death-scripts that are triggered when you lose in battle. This command is similar to <a href="#about-resetgame" class="ref">reset game</a>, the main difference being that if the title screen and load screen have been disabled, it will completely exit the game, taking you back to the game select screen, or exiting to the operating system.<br>
			
			
		</tt></p>
		<a name="about-resetgame"></a>
		<p>
		<tt>
		<b><font color="yellow">reset game</font></b><br>
			Resets and starts a new game, skipping both title and load game screens. It can be necessary to use this instead of <a href="#about-gameover" class="ref">game over</a> as it will not exit the program if the title screen and load screen have been disabled. It always resets the game back to the beginning.<br>
			
			
		</tt></p>
		<a name="about-showvalue"></a>
		<p>
		<tt>
		<b><font color="yellow">show value (number)</font></b><br>
			Displays the number in the bottom left corner of the screen. Useful for count-down timers, and for debugging complicated scripts.<br>
			
			
		</tt></p>
		<a name="about-shownovalue"></a>
		<p>
		<tt>
		<b><font color="yellow">show no value</font></b><br>
			Gets rid of the number in the bottom left corner of the screen after a <a href="#about-showvalue" class="ref">show value</a> command.<br>
			
			
		</tt></p>
		<a name="about-cancelmapnamedisplay"></a>
		<p>
		<tt>
		<b><font color="yellow">cancel map name display</font></b><br>
			If the map name is being displayed, this command makes it disappear. For example, this may be useful if you want the map name to appear when you enter a map normally, but not when you jump to the map for a plotscripted cutscene.<br>
			
			
		</tt></p>
		<a name="about-showbackdrop"></a>
		<p>
		<tt>
		<b><font color="yellow">show backdrop (number)</font></b><br>
			displays the specified full screen backdrop on the screen. This allows you to show full screen pictures without attaching them to text boxes. You can also do some simple animation effects by calling show backdrop many times with <a href="#about-wait" class="ref">wait</a> commands in between.<br>
			
			
		</tt></p>
		<a name="about-showmap"></a>
		<p>
		<tt>
		<b><font color="yellow">show map</font></b><br>
			shows the map again after a <a href="#about-showbackdrop" class="ref">show backdrop</a> command<br>
			
			
		</tt></p>
		<a name="about-useshop"></a>
		<p>
		<tt>
		<b><font color="yellow">use shop (shop)</font></b><br>
			Takes you directly to a shop. You can specify the shop's ID number or its name in the form shop:name<br>
			
			
		</tt></p>
		<a name="about-mainmenu"></a>
		<p>
		<tt>
		<b><font color="yellow">main menu</font></b><br>
			Takes you directly to the main menu.<br>
			
			
		</tt></p>
		<a name="about-showminimap"></a>
		<p>
		<tt>
		<b><font color="yellow">show mini map</font></b><br>
			Displays the mini-map<br>
			
			
		</tt></p>
		<a name="about-itemsmenu"></a>
		<p>
		<tt>
		<b><font color="yellow">items menu</font></b><br>
			Takes you directly to the items menu. Note that if the player uses an item that calls up a text box, the items menu command will behave like a <a href="#about-showtextbox" class="ref">show text box</a> command for that text box.<br>
			
			
		</tt></p>
		<a name="about-statusscreen"></a>
		<p>
		<tt>
		<b><font color="yellow">status screen (who)</font></b><br>
			Takes you directly to a hero's status screen. Specify the hero using its position in the party 0-3. Use <a href="#about-findhero" class="ref">find hero</a> if you want to specify the hero by name. The <a href="#about-pickhero" class="ref">pick hero</a> command can also be useful.<br>
			
			
		</tt></p>
		<a name="about-spellsmenu"></a>
		<p>
		<tt>
		<b><font color="yellow">spells menu (who)</font></b><br>
			Takes you directly to a hero's spells menu. Specify the hero using its position in the party 0-3. Use <a href="#about-findhero" class="ref">find hero</a> if you want to specify the hero by name. The <a href="#about-pickhero" class="ref">pick hero</a> command can also be useful.<br>
			
			
		</tt></p>
		<a name="about-equipmenu"></a>
		<p>
		<tt>
		<b><font color="yellow">equip menu (who)</font></b><br>
			Takes you directly to a hero's equip menu. Specify the hero using its position in the party 0-3. Use <a href="#about-findhero" class="ref">find hero</a> if you want to specify the hero by name. The <a href="#about-pickhero" class="ref">pick hero</a> command can also be useful. If you do not specify any hero, the first hero in the party will be used.<br>
			
			
		</tt></p>
		<a name="about-savemenu"></a>
		<p>
		<tt>
		<b><font color="yellow">save menu (reallysave)</font></b><br>
			Takes you directly to the save menu. Will return a number 1-4 indicating the slot the player saved in, or <a href="#about-booleanconstants" class="ref">false</a> if the player did not save. You can optionally pass an argument of <a href="#about-booleanconstants" class="ref">false</a> to make the menu display without actually saving<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-autosave" class="ref">autosave</a>, </li>
<li><a href="#about-saveinslot" class="ref">save in slot</a></li>
</ul>
		</tt></p>
		<a name="about-loadmenu"></a>
		<p>
		<tt>
		<b><font color="yellow">load menu (reallyload)</font></b><br>
			Displays the load game menu. The player can load a game or select New Game or Exit/Cancel. If the player picks New Game then the calling script continues, otherwise the current game is terminated and either quits to the titlescreen (if there is one) or a game is loaded. If you want the New Game option to actually reset the game, call <a href="#about-resetgame" class="ref">reset game</a> immediately after <span class="param">load menu</span>. You can optionally pass an argument of <a href="#about-booleanconstants" class="ref">false</a> to make the menu display without actually loading or quiting. If you do this, you'll need to interpret the return value to find out which option the player selected: positive values are save slot numbers, 0 means New Game and -1 is Quit.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-loadfromslot" class="ref">load from slot</a></li></ul>
		</tt></p>
		<a name="about-ordermenu"></a>
		<p>
		<tt>
		<b><font color="yellow">order menu</font></b><br>
			Takes you directly to the order menu, where you can change the order of the heroes in your active party.<br>
			
			
		</tt></p>
		<a name="about-teammenu"></a>
		<p>
		<tt>
		<b><font color="yellow">team menu</font></b><br>
			Takes you directly to the team menu, where you can change the order of the heroes in your active party, and swap heroes in and out of your reserve.<br>
			
			
		</tt></p>

		<hr>
	
		<a name="Adding%20and%20Removing"></a>

		<font color="#f06060" size="4">Adding and Removing</font>
		<p></p>
		
		<a name="about-partymoney"></a>
		<p>
		<tt>
		<b><font color="yellow">party money</font></b><br>
			Returns how much money your party has.<br>
			
			
		</tt></p>
		<a name="about-getmoney"></a>
		<p>
		<tt>
		<b><font color="yellow">get money (amount)</font></b><br>
			Adds the specified amount to your party's money<br>
			
			
		</tt></p>
		<a name="about-losemoney"></a>
		<p>
		<tt>
		<b><font color="yellow">lose money (amount)</font></b><br>
			Subtracts the specified amount from your party's money.<br>
			
			
		</tt></p>
		<a name="about-setmoney"></a>
		<p>
		<tt>
		<b><font color="yellow">set money (amount)</font></b><br>
			Changes the amount of money your party has.<br>
			
			
		</tt></p>
		<a name="about-paymoney"></a>
		<p>
		<tt>
		<b><font color="yellow">pay money (amount)</font></b><br>
			A function that checks to see if you have enough money to pay the amount specified. If you do, it subtracts it, and returns <a href="#about-booleanconstants" class="ref">true</a>. If you do not have enough, it subtracts nothing, but returns <a href="#about-booleanconstants" class="ref">false</a>. Intended for use in <a href="#about-if" class="ref">if</a> statements.<br>
			<pre>if(pay money(1000)) then, begin
	get item(item:uber sword)
end, else, begin
	show text box(61) # ha ha, no uber sword for you!
	wait for text box
end</pre>
			
		</tt></p>
		<a name="about-addhero"></a>
		<p>
		<tt>
		<b><font color="yellow">add hero (who)</font></b><br>
			Puts the named hero in your party. If there is no room, the hero will be added to your reserve. Use the constants defined in your HSI file. They are in the form of hero:name<br>
			
			
		</tt></p>
		<a name="about-deletehero"></a>
		<p>
		<tt>
		<b><font color="yellow">delete hero (who)</font></b><br>
			Removes the named hero from your party. If you have more than one copy of the hero in your party, only the first one will be deleted. Use the constants defined in your HSI file. They are in the form of hero:name<br>
			
			
		</tt></p>
		<a name="about-swapinhero"></a>
		<p>
		<tt>
		<b><font color="yellow">swap in hero (who)</font></b><br>
			Moves the named hero in your from your reserves to your active party. If there is no room in your active party, the hero will not be moved. Use the constants defined in your HSI file. They are in the form of hero:name<br>
			
			
		</tt></p>
		<a name="about-swapouthero"></a>
		<p>
		<tt>
		<b><font color="yellow">swap out hero (who)</font></b><br>
			Moves the named hero from your active party into your reserve. Use the constants defined in your HSI file. They are in the form of hero:name<br>
			
			
		</tt></p>
		<a name="about-lockhero"></a>
		<p>
		<tt>
		<b><font color="yellow">lock hero (who)</font></b><br>
			Locking a hero prevents the player from moving the hero on the party menu. Locked heroes in the active party cannot be moved into the reserve, and locked heroes in the reserve are completely hidden. Also prevents a hero from being moved by <a href="#about-swapinhero" class="ref">swap in hero</a> or <a href="#about-swapouthero" class="ref">swap out hero</a>. Use the constants defined in your HSI file. They are in the form of hero:name<br>
			
			
		</tt></p>
		<a name="about-unlockhero"></a>
		<p>
		<tt>
		<b><font color="yellow">unlock hero (who)</font></b><br>
			Reverses <a href="#about-lockhero" class="ref">lock hero</a>, and makes it possible to move a hero in and out of the active party again. Use the constants defined in your HSI file. They are in the form of hero:name<br>
			
			
		</tt></p>
		<a name="about-swapbyname"></a>
		<p>
		<tt>
		<b><font color="yellow">swap by name (name,name)</font></b><br>
			Swaps two named heroes in your party no matter what position they are in. Use the names defined in your HSI file in the form hero:name<br>
			
			
		</tt></p>
		<a name="about-swapbyposition"></a>
		<p>
		<tt>
		<b><font color="yellow">swap by position (position,position)</font></b><br>
			Swaps two heroes in your party based on their positions in the party<br>
			
			
		</tt></p>
		<a name="about-getitem"></a>
		<p>
		<tt>
		<b><font color="yellow">get item (item,number)</font></b><br>
			Adds the specified number of the specified item to your inventory. If you do not specify a number, only one will be added. You can refer to the item by number, or you can use the constants defined in your HSI file, which are in the form of item:name<br>
			
			
		</tt></p>
		<a name="about-deleteitem"></a>
		<p>
		<tt>
		<b><font color="yellow">delete item (item,number)</font></b><br>
			Removes the specified number of the specified item from your inventory. If you do not specify a number, only one will be removed. You can refer to the item by number, or you can use the constants defined in your HSI file, which are in the form of item:name<br>
			
			
		</tt></p>
		<a name="about-unequip"></a>
		<p>
		<tt>
		<b><font color="yellow">unequip (hero,slot)</font></b><br>
			Removes the item that the specified hero has equipped in the specified slot. The first argument is the position of the hero in your party, 0-3 for the active party, 4-40 for the reserve. (use <a href="#about-findhero" class="ref">find hero</a> if you want to refer to the hero by name). The second argument is the slot to unequip. Use the number 1-5 or the names slot:weapon, slot:armor, etc.<br>
			
			
		</tt></p>
		<a name="about-forceequip"></a>
		<p>
		<tt>
		<b><font color="yellow">force equip (hero,slot,item)</font></b><br>
			Forces a hero to equip an item, even if it is not normally equipable. The first argument is the position of the hero in your party, 0-3 for the active party, 4-40 for the reserve. (use <a href="#about-findhero" class="ref">find hero</a> if you want to refer to the hero by name). The second argument is the slot to equip. Use the number 1-5 or the names slot:weapon, slot:armor, etc. The third argument is the item to equip. you can use the item's number or the item:name constants from your .HSI file.<br>
			
			
		</tt></p>
		<a name="about-equipwhere"></a>
		<p>
		<tt>
		<b><font color="yellow">equip where (hero,item)</font></b><br>
			Returns the number of the slot that a hero can equip an item in, or false if the hero cannot equip it. The first argument is the position of the hero in your party, 0-3 for the active party, 4-40 for the reserve. (use <a href="#about-findhero" class="ref">find hero</a> if you want to refer to the hero by name). The second argument is the item to check the equipability of. you can use the item's number or the item:name constants from your .HSI file.<br>
			
			
		</tt></p>
		<a name="about-checkequipment"></a>
		<p>
		<tt>
		<b><font color="yellow">check equipment (hero,slot)</font></b><br>
			Returns the number of the item that the specified hero has equipped in the specified slot, or -1 if there is nothing equipped there. The first argument is the position of the hero in your party, 0-3 for the active party, 4-40 for the reserve. (use <a href="#about-findhero" class="ref">find hero</a> if you want to refer to the hero by name). The second argument is the slot to check. Use the number 1-5 or the names slot:weapon, slot:armor, etc.<br>
			
			
		</tt></p>
		<a name="about-getdefaultweapon"></a>
		<p>
		<tt>
		<b><font color="yellow">get default weapon (hero)</font></b><br>
			Returns the number of the item that the specified hero uses as a default weapon when no other weapon is equipped. The argument is the position of the hero in your party, 0-3 for the active party, 4-40 for the reserve. (use <a href="#about-findhero" class="ref">find hero</a> if you want to refer to the hero by name).<br>
			
			
		</tt></p>
		<a name="about-setdefaultweapon"></a>
		<p>
		<tt>
		<b><font color="yellow">set default weapon (hero,item)</font></b><br>
			Changes the item that the specified hero uses as a default weapon when no other weapon is equipped. The first argument is the position of the hero in your party, 0-3 for the active party, 4-40 for the reserve. (use <a href="#about-findhero" class="ref">find hero</a> if you want to refer to the hero by name). The second argument is the item to use as the new default weapon. you can use the item's number or the item:name constants from your .HSI file.<br>
			
			
		</tt></p>
		<a name="about-giveexperience"></a>
		<p>
		<tt>
		<b><font color="yellow">give experience (hero,amount)</font></b><br>
			Gives experience to either a hero by position in party (use result returned by <a href="#about-findhero" class="ref">find hero</a> command) or the whole active party, if the constant <a href="#about-party" class="ref">party</a> is passed as first argument. If you give experience to the whole battle party, then it will be split amongst the heroes as it is in battle; dead heroes get experience depending on whether the "Dead heroes gain share of experience" general bitset is set. This command can cause heroes to level up and learn spells but does not inform the player or trigger any effects. See <a href="#about-herolevelled" class="ref">hero levelled</a> and <a href="#about-spellslearnt" class="ref">spells learnt</a> for dealing with this. You should use <a href="#about-setexperience" class="ref">set experience</a> to remove experience in a way that allows delevelling.<br>
			
			
		</tt></p>

		<hr>
	
		<a name="Effects"></a>

		<font color="#f06060" size="4">Effects</font>
		<p></p>
		
		<a name="about-playsong"></a>
		<p>
		<tt>
		<b><font color="yellow">play song (song)</font></b><br>
			Plays the specified song. Use the constants defined in your HSI file. They appear in the form of song:name<br>
			
			
		</tt></p>
		<a name="about-currentsong"></a>
		<p>
		<tt>
		<b><font color="yellow">current song</font></b><br>
			Returns the number of the currently playing song, or -1 if none.<br>
			
			
		</tt></p>
		<a name="about-stopsong"></a>
		<p>
		<tt>
		<b><font color="yellow">stop song</font></b><br>
			Stops whatever music is currently playing.<br>
			
			
		</tt></p>
		<a name="about-setvictorymusic"></a>
		<p>
		<tt>
		<b><font color="yellow">set victory music (song)</font></b><br>
			Changes the after-battle victory music to the specified song. Use the constants defined in your HSI file. They appear in the form of song:name<br>
			
			
		</tt></p>
		<a name="about-getvictorymusic"></a>
		<p>
		<tt>
		<b><font color="yellow">get victory music</font></b><br>
			Returns the number of the after-battle victory music. Compare with the constants defined in your HSI file. They appear in the form of song:name<br>
			
			
		</tt></p>
		<a name="about-setambientmusic"></a>
		<p>
		<tt>
		<b><font color="yellow">set ambient music (song)</font></b><br>
			Plays a song and sets it as the map's ambient music, that is the song that is played when you enter the map (if you call <a href="#about-savemapstate" class="ref">save map state</a> with mapstate:all or mapstate:mapsettings) or after a textbox with 'restore music' set. Unless you save the mapstate, the effect goes away if you change maps or fight a battle. You can use the constants <a href="#about-song:silence" class="ref">song: silence</a> and <a href="#about-song:sameaslastmap" class="ref">song: same as last map</a> for <span class="param">song</span>, the deault is silence.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-playsong" class="ref">play song</a></li></ul>
		</tt></p>
		<a name="about-getambientmusic"></a>
		<p>
		<tt>
		<b><font color="yellow">get ambient music</font></b><br>
			Returns the song number of the map's ambient music, either a song ID or the constants <a href="#about-song:silence" class="ref">song: silence</a> or <a href="#about-song:sameaslastmap" class="ref">song: same as last map</a>.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-currentsong" class="ref">current song</a></li></ul>
		</tt></p>
		<a name="about-setmusicvolume"></a>
		<p>
		<tt>
		<b><font color="yellow">set music volume (volume)</font></b><br>
			Sets the volume at which music is played, volume being a number on the scale of 0 to 255, 0 being silent, 255 loudest. If you want to manipulate the sound (e.g. fading out the music) you should take note of the original vulume that the player has set and return to this. By default volume is not maximum, so you should not hardcode fades to begin at volume 255. <div style="background-color:#EFF;" class="note">
<img src="http://gilgamesh.hamsterrepublic.com/wiki/ohrrpgce-images/0/01/Plotnote.png" alt="[Note]" class="icon">The actual resolution at which the volume is set is not necessarily 1/255th of full volume but depends on your implementation. Currently vanilla OHR uses only 0-15 internally, so 240-255 all translate to the same volume.<br clear="all">
</div>
<br>
			
			
		</tt></p>
		<a name="about-getmusicvolume"></a>
		<p>
		<tt>
		<b><font color="yellow">get music volume</font></b><br>
			Returns the volume at which music is played, on a scale of 0 to 15, 0 being silent, 255 loudest.<br>
			
			
		</tt></p>
		<a name="about-fadescreenout"></a>
		<p>
		<tt>
		<b><font color="yellow">fade screen out (red,green,blue)</font></b><br>
			Fades the screen to a solid color. If you do not specify any arguments, the screen will fade to black. The red, green, blue values are numbers from 0 to 63 that tell how bright that particular color should be. (63,0,0) would be blood red. (40,0,40) would be purple. (63,63,63) would be bright white. The screen will remain faded out until you run <a href="#about-fadescreenin" class="ref">fade screen in</a>, fight a battle, or use a door.<br>
			
			
		</tt></p>
		<a name="about-fadescreenin"></a>
		<p>
		<tt>
		<b><font color="yellow">fade screen in</font></b><br>
			Fades the screen back to normal after a <a href="#about-fadescreenout" class="ref">fade screen out</a> command, or applies the changes made with other palette commands such as <a href="#about-greyscalepalette" class="ref">greyscale palette</a>, <a href="#about-tweakpalette" class="ref">tweak palette</a>, <a href="#about-resetpalette" class="ref">reset palette</a>, and <a href="#about-writecolor" class="ref">write color</a>.<br>
			
			
		</tt></p>
		<a name="about-loadpalette"></a>
		<p>
		<tt>
		<b><font color="yellow">load palette (palette number)</font></b><br>
			Loads a different master palette (one of the palettes on the "View Master Palettes..." menu), and the user interface colors for that palette. Use this if a backdrop or entire map was imported/drawn with a palette other than the default. Changes to the palette do not take effect until you call <a href="#about-updatepalette" class="ref">update palette</a> or <a href="#about-fadescreenin" class="ref">fade screen in</a>, however the UI colors are changed immediately.<br>
			
			
		</tt></p>
		<a name="about-updatepalette"></a>
		<p>
		<tt>
		<b><font color="yellow">update palette</font></b><br>
			Instantly returns from fade screen out, and applies changes made by other palette command such as <a href="#about-greyscalepalette" class="ref">greyscale palette</a>, <a href="#about-tweakpalette" class="ref">tweak palette</a>, <a href="#about-resetpalette" class="ref">reset palette</a>, and <a href="#about-writecolor" class="ref">write color</a>.<br>
			
			
		</tt></p>
		<a name="about-greyscalepalette"></a>
		<p>
		<tt>
		<b><font color="yellow">greyscale palette (first, last)</font></b><br>
			Converts a section of the master palette from color to greyscale. The two arguments determine what range of colors will be affected. If called with no arguments, the entire palette is affected. Changes do not take effect until you call <a href="#about-updatepalette" class="ref">update palette</a> or <a href="#about-fadescreenin" class="ref">fade screen in</a>. Changes to the master palette last as long as you are playing, but are not stored in saved-games. If you need to make master-palette changes persist in saved-games you will have to use the on-load plotscript trigger.<br>
			
			
		</tt></p>
		<a name="about-tweakpalette"></a>
		<p>
		<tt>
		<b><font color="yellow">tweak palette (red, green, blue, first, last)</font></b><br>
			Color-adjusts a section of the master palette. The first three arguments are the changes to make to the red, green, and blue values of each palette color. For example, tweak palette (20,-30,0) would redden everything, and drop out most of the green. These arguments expect values in the range -63 to 63, NOT -255 to 255. The last two arguments determine what range of colors will be affected. If they are left out, the entire palette is affected. Changes do not take effect until you call <a href="#about-updatepalette" class="ref">update palette</a> or <a href="#about-fadescreenin" class="ref">fade screen in</a>. Changes to the master palette last as long as you are playing, but are not stored in saved-games. If you need to make master-palette changes persist in saved-games you will have to use the on-load plotscript trigger.<br>
			
			
		</tt></p>
		<a name="about-resetpalette"></a>
		<p>
		<tt>
		<b><font color="yellow">reset palette</font></b><br>
			Reloads the default master palette and its user interface colors, undoing any changes you have made with other palette-altering commands such as <a href="#about-tweakpalette" class="ref">tweak palette</a> or <a href="#about-greyscalepalette" class="ref">greyscale palette</a> Changes to the palette do not take effect until you call <a href="#about-updatepalette" class="ref">update palette</a> or <a href="#about-fadescreenin" class="ref">fade screen in</a>, however the UI colors are changed immediately.<br>
			
			
		</tt></p>
		<a name="about-readcolor"></a>
		<p>
		<tt>
		<b><font color="yellow">read color (index, element)</font></b><br>
			Returns a color value from the master palette. The first argument is the index in the palette to read from, 0 to 255. The second argument is the color value to read, red, green, or blue. You can use 0,1, and 2, or you can use the predefined constants <a href="#about-colorconstants" class="ref">color:red</a>, <a href="#about-colorconstants" class="ref">color:green</a>, and <a href="#about-colorconstants" class="ref">color:blue</a>. The counterpart to this is <a href="#about-writecolor" class="ref">write color</a>.
			<div style="background-color:#EFF;" class="note">
<img src="http://gilgamesh.hamsterrepublic.com/wiki/ohrrpgce-images/0/01/Plotnote.png" alt="[Note]" class="icon">This command operates on values from 0-63. For operation on full color values (0-255), see <a href="#about-getcolor" class="ref">get color</a><br clear="all">
</div>
<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-getcolor" class="ref">get color</a></li></ul>
		</tt></p>
		<a name="about-writecolor"></a>
		<p>
		<tt>
		<b><font color="yellow">write color (index, element, value)</font></b><br>
			Writes a color value into the master palette. The first argument is the index in the palette to write to, 0 to 255. The second argument is the color value to write, red, green, or blue. You can use 0, 1, and 2, or you can use the predefined constants <a href="#about-colorconstants" class="ref">color:red</a>, <a href="#about-colorconstants" class="ref">color:green</a>, and <a href="#about-colorconstants" class="ref">color:blue</a>. The third argument is the color value to write. It can be in the range of 0 to 63. Changes do not take effect until you call <a href="#about-updatepalette" class="ref">update palette</a> or <a href="#about-fadescreenin" class="ref">fade screen in</a> The counterpart to this is <a href="#about-readcolor" class="ref">read color</a>. Changes to the master palette last as long as you are playing, but are not stored in saved-games. If you need to make master-palette changes persist in saved-games you will have to use the on-load plotscript trigger.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-setcolor" class="ref">set color</a></li></ul>
		</tt></p>
		<a name="about-getcolor"></a>
		<p>
		<tt>
		<b><font color="yellow">get color(index)</font></b><br>
			Returns a color value from the master palette. The argument is which index in the palette to return. The value is a 32-bit number representing the red, green and blue components of the palette entry. See <a href="#about-rgb" class="ref">RGB</a> for more details on its format.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-setcolor" class="ref">set color</a>, </li>
<li><a href="#about-extractcolor" class="ref">extract color</a></li>
</ul>
		</tt></p>
		<a name="about-setcolor"></a>
		<p>
		<tt>
		<b><font color="yellow">set color(index, value)</font></b><br>
			Updates the master palette with a new 32-bit color. The <span class="param">value</span>, a 32-bit number representing the red, green and blue components of the color, can come from <a href="#about-rgb" class="ref">RGB</a> or <a href="#about-getcolor" class="ref">get color</a>.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-getcolor" class="ref">get color</a>, </li>
<li><a href="#about-rgb" class="ref">RGB</a></li>
</ul>
		</tt></p>
		<a name="about-rgb"></a>
		<p>
		<tt>
		<b><font color="yellow">RGB(red, green, blue)</font></b><br>
			Combines the individual red, green and blue components of a color into a single 32-bit number. The formula used is "red * 256 * 256 + green * 256 + blue". The highest byte is unused, but reserved for future potential use for alpha transparency.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-extractcolor" class="ref">extract color</a></li></ul>
		</tt></p>
		<a name="about-extractcolor"></a>
		<p>
		<tt>
		<b><font color="yellow">extract color(color, component)</font></b><br>
			Takes a 32-bit color value, and extracts the red, green or blue component, based on the <span class="param">component</span> parameter. You may use the <a href="#about-colorconstants" class="ref">color:red</a>, <a href="#about-colorconstants" class="ref">color:green</a> and <a href="#about-colorconstants" class="ref">color:blue</a> parameters to choose which one.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-rgb" class="ref">RGB</a></li></ul>
		</tt></p>
		<a name="about-playsound"></a>
		<p>
		<tt>
		<b><font color="yellow">play sound (num,loop,preempt)</font></b><br>
			Plays or resumes a sound effect. Pass <a href="#about-booleanconstants" class="ref">true</a> to <span class="param">loop</span> if you want the sound effect to start over when it finishes instead of stopping. Pass <a href="#about-booleanconstants" class="ref">true</a> to <span class="param">preempt</span> if you want to automatically stop the sound before playing it. If <span class="param">preempt</span> is <a href="#about-booleanconstants" class="ref">false</a>, and the sound is already playing, this command will do nothing.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-stopsound" class="ref">stop sound</a></li></ul>
		</tt></p>
		<a name="about-stopsound"></a>
		<p>
		<tt>
		<b><font color="yellow">stop sound (num)</font></b><br>
			Stops a sound effect. If the sound is not playing, nothing will happen.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-playsound" class="ref">play sound</a></li></ul>
		</tt></p>
		<a name="about-pausesound"></a>
		<p>
		<tt>
		<b><font color="yellow">pause sound (num)</font></b><br>
			Temporarily stops a sound effect. It can be resumed with <a href="#about-playsound" class="ref">play sound</a>, wherein it will continue from whence it left off.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-playsound" class="ref">play sound</a></li></ul>
		</tt></p>
		<a name="about-soundisplaying"></a>
		<p>
		<tt>
		<b><font color="yellow">sound is playing (num)</font></b><br>
			Checks to see whether a sound effect is playing or not. Useful for synchronization, etc.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-playsound" class="ref">play sound</a>, </li>
<li><a href="#about-stopsound" class="ref">stop sound</a></li>
</ul>
		</tt></p>

		<hr>
	
		<a name="Hero's%20Spells"></a>

		<font color="#f06060" size="4">Hero's Spells</font>
		<p></p>
		
		<a name="about-teachspell"></a>
		<p>
		<tt>
		<b><font color="yellow">teach spell (hero,attack)</font></b><br>
			Tries to teach a hero a spell. The first argument is the hero's position in the party (as returned by <a href="#about-findhero" class="ref">find hero</a>). The second argument is the attack to learn. You can use the names defined in your .HSI file in the form atk:attackname (You may also use the attack's ID number. This is the number you see in the attack editor + 1). If the hero is capable of learning the spell, teach spell will return <a href="#about-booleanconstants" class="ref">true</a>, or if the hero cannot learn the spell it will return <a href="#about-booleanconstants" class="ref">false</a>. Note that this only works when a spell is set to "learned from item". It will not work for spells learned based on level.<br>
			
			
		</tt></p>
		<a name="about-forgetspell"></a>
		<p>
		<tt>
		<b><font color="yellow">forget spell (hero,attack)</font></b><br>
			Causes a hero to forget a spell. The first argument is the hero's position in the party (as returned by <a href="#about-findhero" class="ref">find hero</a>). The second argument is the attack to forget. You can use the names defined in your .HSI file in the form atk:attackname (You may also use the attack's ID number. This is the number you see in the attack editor + 1). If the hero does not know the spell, nothing happens.<br>
			
			
		</tt></p>
		<a name="about-readspell"></a>
		<p>
		<tt>
		<b><font color="yellow">read spell (hero,list,slot)</font></b><br>
			Returns the ID number of a chosen spell slot, or 0 (<a href="#about-booleanconstants" class="ref">false</a>) if there is no spell in that slot. The first argument is the hero's position in the party (as returned by <a href="#about-findhero" class="ref">find hero</a>). The second argument is the number of the spell list to check. This is a value from 0 to 3. The third argument is the slot to check. This is a number from 0 to 23. Spell slots are numbered in rows, so the first row is 0,1,2 the second row is 3,4,5, and so-on.<br>
			
			
		</tt></p>
		<a name="about-writespell"></a>
		<p>
		<tt>
		<b><font color="yellow">write spell (hero,list,slot,attack)</font></b><br>
			Forces a hero to learn a particular spell. The first argument is the hero's position in the party (as returned by find hero). The second argument is the spell list to put the spell in. This is a number from 0 to 3. The third argument is the slot to put the spell in. This is a number from 0 to 23. Spell slots are numbered in rows, so the first row is 0,1,2 the second row is 3,4,5, and so-on. The last argument is the attack to put in the spell list. You can use the names defined in your .HSI file in the form atk:attackname (You may also use the attack's ID number. This is the number you see in the attack editor + 1). You can also erase a spell by writing 0 or <a href="#about-none" class="ref">none</a> as the attack ID. Note that this command will overwrite and replace any spell that is already in that slot. If you overwrite a slot that can normally learn another spell, you will never learn that other spell (unless you first erase the spell you wrote there)<br>
			
			
		</tt></p>
		<a name="about-knowsspell"></a>
		<p>
		<tt>
		<b><font color="yellow">knows spell (hero,attack)</font></b><br>
			Checks to see if a hero already knows a spell. The first argument is the hero's position in the party (as returned by <a href="#about-findhero" class="ref">find hero</a>). The second argument is the attack to check for. You can use the names defined in your .HSI file in the form atk:attackname (You may also use the attack's ID number. This is the number you see in the attack editor + 1). If the hero knows the spell, knows spell will return <a href="#about-booleanconstants" class="ref">true</a>. If the hero does not know the spell, it will return <a href="#about-booleanconstants" class="ref">false</a><br>
			
			
		</tt></p>
		<a name="about-canlearnspell"></a>
		<p>
		<tt>
		<b><font color="yellow">can learn spell (hero,attack)</font></b><br>
			Checks to see if a hero is capable of learning a spell from an item or from the teach spell command. The first argument is the hero's position in the party (as returned by <a href="#about-findhero" class="ref">find hero</a>). The second argument is the attack to check for. You can use the names defined in your .HSI file in the form atk:attackname (You may also use the attack's ID number. This is the number you see in the attack editor + 1). If the hero can learn the spell, can learn spell will return <a href="#about-booleanconstants" class="ref">true</a>. If the hero cannot learn the spell (or learns it from levelups), it will return <a href="#about-booleanconstants" class="ref">false</a><br>
			
			
		</tt></p>
		<a name="about-spellslearnt"></a>
		<p>
		<tt>
		<b><font color="yellow">spells learnt (hero,number)</font></b><br>
			Used to return the id numbers of spells the hero learnt from the last battle (for heroes in the active battle party) or <a href="#about-giveexperience" class="ref">give experience</a>, <a href="#about-setherolevel" class="ref">set hero level</a> or <a href="#about-setexperience" class="ref">set experience</a> command that involved this hero. If the second argument is <a href="#about-getcount" class="ref">get count</a> then the number of spells that the hero learnt is returned. Pass 0 for number to get the first spell learnt, 1 the second, etc. You can use a loop and strings to list to the player all the spells a hero learnt:<br>
			<pre># the following script uses strings 0, 1, 2 for its use (will be overwritten)
plotscript, print learnt spells, who=0, begin
  variable(i)
  get hero name (1, who) # construct the static part of the text in string 1
  $1+" learnt spell "
  for (i, 0, spells learnt (who, get count) -- 1) do (
    get attack name (2, spells learnt (who, i))  # get the i-th spell learnt
    0 $= 1  # copy the static part to the displayed string
    0 $+ 2  # combine with the spell name
    show string at (0, 160, 100)
    wait for keypress (anykey)
  )
  hide string (0)
end</pre>
			
		</tt></p>
		<a name="about-updateleveluplearning"></a>
		<p>
		<tt>
		<b><font color="yellow">update level up learning(who, allowforget)</font></b><br>
			Update a hero to make sure they know the spells they are supposed to have learned for their current level. The <span class="param">who</span> is the hero's position in the battle party. You can optionally pass <a href="#about-booleanconstants" class="ref">false</a> as the <span class="param">allowforget</span> argument if you want to make sure the hero will not forget any spells that they are not supposed to know yet. This spell is most useful for situations where you are manipulating the heros level, and for some reason do not want to use <a href="#about-setherolevel" class="ref">set hero level</a> which automatically handles learning. This command can also be handy when playtesting a game in progress, since it can be used to make sure that heroes loaded from a saved-game will learn spells that did not exist yet at the time when they got their last level-ups.<br>
			
			
		</tt></p>
		<a name="about-outsidebattlecure"></a>
		<p>
		<tt>
		<b><font color="yellow">outside battle cure (attack, target, attacker)</font></b><br>
			Uses an attack on a hero outside of battle as if you had used it from an item or cast it as a spell. In spite of the name, it works for both cure spells and damage spells. The first argument, <span class="param">attack</span> is the ID number of the attack to use, or the name from your HSI file in the form atk:name. The second argument, <span class="param">target</span> is the position in the party of the hero to cure (or harm). The third optional argument, <span class="param">attacker</span> is the position in the party of the hero who is using the attack. If this argument is ommitted or set to -1, then the average stats of the active party will be used, just like when the attack is used from an item. The return value is <a href="#about-booleanconstants" class="ref">true</a> if the cure/attack succeeded, and <a href="#about-booleanconstants" class="ref">false</a> if it did nothing.<br>
			
			
		</tt></p>

		<hr>
	
		<a name="Mouse%20Functions"></a>

		<font color="#f06060" size="4">Mouse Functions</font>
		<p></p>
		
		<a name="about-initmouse"></a>
		<p>
		<tt>
		<b><font color="yellow">init mouse</font></b><br>
			Initializes the mouse, returning <a href="#about-booleanconstants" class="ref">true</a> if one is present. This command should be run before any mouse functions are be used. It causes the normal mouse cursor to be hidden when over the game's window, prevents the mouse cursor from leaving the window, and causes mouse clicks to trigger on-keypress scripts. Therefore, it is a good idea to place this command in the newgame and loadgame scripts if you are going to use the mouse.<br><div style="background-color:#EFF;" class="note">
<img src="http://gilgamesh.hamsterrepublic.com/wiki/ohrrpgce-images/0/01/Plotnote.png" alt="[Note]" class="icon">Running this command does not draw a cursor on screen - your script must do this itself by placing a slice or npc at the appropriate location.<br clear="all">
</div> Here is an example:<br>
			<pre>include,plotscr.hsd

#Mouse cursor example

plotscript, display mouse, begin

  #start up the mouse
  init mouse

  #loop while the game is running
  while (true) do,begin

    #NPC 0 is the mouse cursor
    put npc (0, mouse pixel x + camera pixel x, mouse pixel y + camera pixel y)
    wait
  end
end</pre>
			
		</tt></p>
		<a name="about-mousepixelx"></a>
		<p>
		<tt>
		<b><font color="yellow">mouse pixel X</font></b><br>
			Returns the X coordinate in pixels of the mouse on the screen.<br>
			
			
		</tt></p>
		<a name="about-mousepixely"></a>
		<p>
		<tt>
		<b><font color="yellow">mouse pixel Y</font></b><br>
			Returns the Y coordinate in pixels of the mouse on the screen.<br>
			
			
		</tt></p>
		<a name="about-mousebutton"></a>
		<p>
		<tt>
		<b><font color="yellow">mouse button (which)</font></b><br>
			Returns <a href="#about-booleanconstants" class="ref">true</a> if the specified mouse button is pressed. You can use the constants <a href="#about-mouseconstants" class="ref">left button</a> and <a href="#about-mouseconstants" class="ref">right button</a> to specify the button.<br>
			
			
		</tt></p>
		<a name="about-putmouse"></a>
		<p>
		<tt>
		<b><font color="yellow">put mouse (X, Y)</font></b><br>
			Changes the location of the mouse on the screen, in pixels. Note that this function might do nothing, if the game's window is not active. <a href="#about-initmouse" class="ref">init mouse</a> should be called before this command is used.<br>
			
			
		</tt></p>
		<a name="about-mouseregion"></a>
		<p>
		<tt>
		<b><font color="yellow">mouse region (x min, x max, y min, y max)</font></b><br>
			Sets the edges of the rectangle to which the mouse is constricted. Use if you want to force the mouse into some region, like a choice selection box. The maximum values are inclusive. Without arguments, resets the rectangle to the whole window. You can unrestrict the mouse and let it leave the window by calling <span class="param">mouse region (-1, -1, -1, -1)</span>. <a href="#about-initmouse" class="ref">init mouse</a> should be called before this command is used.<br>
			
			
		</tt></p>

		<hr>
	
		<a name="String%20Functions"></a>

		<font color="#f06060" size="4">String Functions</font>
		<p>When refering to a position in a string, <span class="param">position</span> is a 1-based index into the string, not a 0-based index. For example, given a string "ABCDEFG", position=3 is "C", not "D". This is because the string commands are based on BASIC string commands, which are 1-based. This also means that position 0 is invalid. Beware!<br>There is no limit on string length (previously, they were limited to 40 characters, the width of the screen)<br></p>
		
		<a name="about-showstring"></a>
		<p>
		<tt>
		<b><font color="yellow">show string (ID)</font></b><br>
			Displays string #ID in the bottom left corner of the screen, as with the <a href="#about-showvalue" class="ref">show value</a> command. Use <a href="#about-shownovalue" class="ref">show no value</a> to remove the string from the screen. Note that this command displays the value of the string at the moment the command was run. Later changes to the value of the string will not appear unless you run show string again. If you need real-time display of changes to a string, use <a href="#about-showstringat" class="ref">show string at</a> or <a href="#about-centerstringat" class="ref">center string at</a> instead.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-showvalue" class="ref">show value</a>, </li>
<li>
<a href="#about-shownovalue" class="ref">show no value</a>, </li>
<li>
<a href="#about-showstringat" class="ref">show string at</a>, </li>
<li><a href="#about-centerstringat" class="ref">center string at</a></li>
</ul>
		</tt></p>
		<a name="about-clearstring"></a>
		<p>
		<tt>
		<b><font color="yellow">clear string(ID)</font></b><br>
			Erases the string buffer #ID to the empty string (""). That's all.<br>
			
			
		</tt></p>
		<a name="about-appendascii"></a>
		<p>
		<tt>
		<b><font color="yellow">append ascii (ID, char)</font></b><br>
			Appends the character with ascii code 'ascii' to the string with ID #ID. Remember: Numbers are 48 - 57, uppercase letters are 65 - 90, lowercase letters are 97 - 122.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-appendnumber" class="ref">append number</a></li></ul>
		</tt></p>
		<a name="about-appendnumber"></a>
		<p>
		<tt>
		<b><font color="yellow">append number (ID, number)</font></b><br>
			Appends the textual representation of <span class="param">number</span> to the string with ID #<span class="param">ID</span>. For example, append number(1,65) will append "65", not "A".<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-appendascii" class="ref">append ascii</a></li></ul>
		</tt></p>
		<a name="about-numberfromstring"></a>
		<p>
		<tt>
		<b><font color="yellow">number from string (ID, default)</font></b><br>
			Try to read the string specified by <span class="param">ID</span> as a number and return it. Blank spaces at the beginning of the string will be ignored, and thre string can start with a - sign for negatives. No other characters except numerical digits can appear in the string. You can also provide an optional default value that will be returned if the string is not a valid number (for example, if it contains a non-numeric letter)<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-appendnumber" class="ref">append number</a></li></ul>
		</tt></p>
		<a name="about-copystring"></a>
		<p>
		<tt>
		<b><font color="yellow">copy string (dest, source)</font></b><br>
			Copies the text from string #<span class="param">source</span> to string #<span class="param">dest</span>, overwriting the existing string completely. <br>If you prefer, you can write <span class="param">dest $= source</span> instead. You must supply string id numbers, not strings, as arguments.<br>
			
			
		</tt></p>
		<a name="about-concatenatestrings"></a>
		<p>
		<tt>
		<b><font color="yellow">concatenate strings (dest, source)</font></b><br>
			Copies the text from string #<span class="param">source</span> to string #<span class="param">dest</span>. However, unlike <a href="#about-copystring" class="ref">copy string</a>, the text is appended to the end of <span class="param">dest</span>.  <br>If you prefer, you can write <span class="param">dest $+ source</span> instead. You must supply string id numbers, not strings, as arguments.<br>
			
			
		</tt></p>
		<a name="about-stringlength"></a>
		<p>
		<tt>
		<b><font color="yellow">string length (ID)</font></b><br>
			Returns the length of string #<span class="param">ID</span>.<br>
			
			
		</tt></p>
		<a name="about-stringcompare"></a>
		<p>
		<tt>
		<b><font color="yellow">string compare (ID1, ID2)</font></b><br>
			Returns true if the two strings #<span class="param">ID1</span> and #<span class="param">ID2</span> are identical, case sensitive.<br>
			
			
		</tt></p>
		<a name="about-replacechar"></a>
		<p>
		<tt>
		<b><font color="yellow">replace char (ID, position, char)</font></b><br>
			Replaces the character at <span class="param">position</span> in string #<span class="param">ID</span> with a character with ascii code <span class="param">char</span>. The first position of the string is 1, and the last position of the string is the same as <a href="#about-stringlength" class="ref">string length</a>.<br>
			
			
		</tt></p>
		<a name="about-deletechar"></a>
		<p>
		<tt>
		<b><font color="yellow">delete char (ID, position)</font></b><br>
			This deletes the character at <span class="param">postion</span> in string #<span class="param">ID</span>, causing all the following characters to move over a slot. The first position of the string is 1, and the last position of the string is the same as <a href="#about-stringlength" class="ref">string length</a>.<br>
			
			
		</tt></p>
		<a name="about-asciifromstring"></a>
		<p>
		<tt>
		<b><font color="yellow">ascii from string (ID, position)</font></b><br>
			Returns the ascii code of the character at <span class="param">position</span> in string #<span class="param">ID</span>. The first position of the string is 1, and the last position of the string is the same as <a href="#about-stringlength" class="ref">string length</a>. If you pass 0 as the position or a position past the end of the string, 0 will be returned.<br>
			
			
		</tt></p>
		<a name="about-stringtoglobals"></a>
		<p>
		<tt>
		<b><font color="yellow">string to globals (ID, starting global, length)</font></b><br>
			This command will fill global variables (starting with #<span class="param">starting global</span>), up to <span class="param">length</span> globals, with the ascii values of the characters in string #<span class="param">ID</span>. If the string is not long enough, the rest of the globals in this "field" are padded with the value 256.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-globalstostring" class="ref">globals to string</a></li></ul>
		</tt></p>
		<a name="about-globalstostring"></a>
		<p>
		<tt>
		<b><font color="yellow">globals to string(ID, starting global, length)</font></b><br>
			This command is the opposite of <a href="#about-stringtoglobals" class="ref">string to globals</a>. It will build a new string in slot #<span class="param">ID</span>, using the ascii values from the global variables #<span class="param">starting global</span> and <span class="param">length</span> globals thereafter. Pass the same value for <span class="param">length</span> as you did to <a href="#about-stringtoglobals" class="ref">string to globals</a> if you don't know the length of the string. If a global has a value greater than 255, the value will be ignored.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-stringtoglobals" class="ref">string to globals</a></li></ul>
		</tt></p>
		<a name="about-getheroname"></a>
		<p>
		<tt>
		<b><font color="yellow">get hero name (ID, hero)</font></b><br>
			This command will take the name of hero #<span class="param">hero</span>, and stick it in string #<span class="param">ID</span>, overwriting its contents. <div style="background-color:#EFF;" class="note">
<img src="http://gilgamesh.hamsterrepublic.com/wiki/ohrrpgce-images/0/01/Plotnote.png" alt="[Note]" class="icon">Remember that this command expects the hero's position in the party, not the hero:name constants nor the hero's position in the walkabout party. If you want to get the name of a hero according to their position in the walkabout party, you should use <a href="#about-herobyrank" class="ref">hero by rank</a> and <a href="#about-findhero" class="ref">find hero</a><br clear="all">
</div>
<br>
			<pre># This example gets the name of the leader and stores it in string ID 1

get hero name (1,find hero(hero by rank(0))) 
</pre>
			
		</tt></p>
		<a name="about-setheroname"></a>
		<p>
		<tt>
		<b><font color="yellow">set hero name (ID, hero)</font></b><br>
			This command will take string #<span class="param">ID</span>, and set hero #<span class="param">hero</span>'s name to it.<br>
			
			
		</tt></p>
		<a name="about-getitemname"></a>
		<p>
		<tt>
		<b><font color="yellow">get item name (ID, item)</font></b><br>
			This command will take the name of item #<span class="param">item</span> and stick it in string #<span class="param">ID</span>, overwriting its contents. This can be useful for "You got &lt;item&gt;!" type messages.<br>
			
			
		</tt></p>
		<a name="about-getmapname"></a>
		<p>
		<tt>
		<b><font color="yellow">get map name (ID, map)</font></b><br>
			This command will take the name of map #<span class="param">map</span> and stick it in string #<span class="param">ID</span>, overwriting its contents.<br>
			
			
		</tt></p>
		<a name="about-getattackname"></a>
		<p>
		<tt>
		<b><font color="yellow">get attack name (ID, attack)</font></b><br>
			This command will take the name of attack #<span class="param">attack</span> and stick it in string #<span class="param">ID</span>, overwriting its contents.<br>
			
			
		</tt></p>
		<a name="about-getglobalstring"></a>
		<p>
		<tt>
		<b><font color="yellow">get global string (ID, global)</font></b><br>
			This command will take the name of global string #<span class="param">global</span> and stick it in string #<span class="param">ID</span>, overwriting its contents. Global strings include every text string in the game, such as prompts and messages. See the Global String Editor in CUSTOM for a list of all of them. Due to the way global strings are stored internally, not all values of #<span class="param">global</span> will produce valid results. <br>
			
			
		</tt></p>
		<a name="about-inputstring"></a>
		<p>
		<tt>
		<b><font color="yellow">input string (ID, maxlength, use current, center, position x, position y)</font></b><br>
			Allows the player to type in a string. Returns false if they press ESC to cancel. All arguments are optional: <span class="param">ID</span> is the string you want to use, default is string #0. <span class="param">maxlen</span> is the length of input, if left blank the limit will be set to 40 (max visible onscreen length). <span class="param">use current</span> is whether you want to add to the existing string, or clear the string before typing. The default is to clear the string before typing, valid arguments are <a href="#about-booleanconstants" class="ref">true</a> or <a href="#about-booleanconstants" class="ref">false</a>. <span class="param">center</span> centers the string input at position x/y. If left blank the string will use its current positioning. Otherwise, valid arguments are <a href="#about-booleanconstants" class="ref">true</a> or <a href="#about-booleanconstants" class="ref">false</a>. If the string is not visible, then it will automatically be placed onscreen (centered if not specified) and hidden when done. <span class="param">position x</span> and <span class="param">position y</span> are optional, and are the position at which the string will be shown as it is being typed. The default values are 160,110.<br>
			
			
		</tt></p>
		<a name="about-showstringat"></a>
		<p>
		<tt>
		<b><font color="yellow">show string at (ID, x, y)</font></b><br>
			Displays string #<span class="param">ID</span> on the screen, positioning its top left corner at the given (<span class="param">x</span>,<span class="param">y</span>) coordinates. Unlike <a href="#about-showstring" class="ref">show string</a>, changes to the string will be displayed in real-time.<br>
			
			
		</tt></p>
		<a name="about-centerstringat"></a>
		<p>
		<tt>
		<b><font color="yellow">center string at (ID, x, y)</font></b><br>
			Displays string #<span class="param">ID</span> on the screen, positioning its top-middle at the given (<span class="param">x</span>,<span class="param">y</span>) coordinates. Unlike <a href="#about-showstring" class="ref">show string</a>, changes to the string will be displayed in real-time.<div style="background-color:#EFF;" class="note">
<img src="http://gilgamesh.hamsterrepublic.com/wiki/ohrrpgce-images/0/01/Plotnote.png" alt="[Note]" class="icon">The string is not re-centered automatically if its length changes. If you change the string and want to keep it centered, call showstringat again. Otherwise, its topleft corner will stay fixed.<br clear="all">
</div>
<br>
			
			
		</tt></p>
		<a name="about-hidestring"></a>
		<p>
		<tt>
		<b><font color="yellow">hide string (ID)</font></b><br>
			Makes a string previously displayed with <a href="#about-showstringat" class="ref">show string at</a> or <a href="#about-centerstringat" class="ref">center string at</a> disappear. Has no effect on strings displayed with <a href="#about-showstring" class="ref">show string</a><br>
			
			
		</tt></p>
		<a name="about-stringisvisible"></a>
		<p>
		<tt>
		<b><font color="yellow">string is visible (ID)</font></b><br>
			Returns true if a string is being displayed by <a href="#about-showstringat" class="ref">show string at</a> or <a href="#about-centerstringat" class="ref">center string at</a>. Otherwise, returns false. Is not effected by <a href="#about-showstring" class="ref">show string</a><br>
			
			
		</tt></p>
		<a name="about-stringstyle"></a>
		<p>
		<tt>
		<b><font color="yellow">string style (ID, style)</font></b><br>
			Changes the appearance of a string previously displayed with <a href="#about-showstringat" class="ref">show string at</a> or <a href="#about-centerstringat" class="ref">center string at</a>. Choice of <span class="param">style</span> is string:outline and string:flat. string:outline is the style of string you are familiar with in textboxes: they are outlined with colour 0 (black). string:flat have not outline but can have a solid background of any colour behind the string.<br>
			
			
		</tt></p>
		<a name="about-stringcolor"></a>
		<p>
		<tt>
		<b><font color="yellow">string color (ID, foreground color, background color)</font></b><br>
			Changes the color of a string previously displayed with <a href="#about-showstringat" class="ref">show string at</a> or <a href="#about-centerstringat" class="ref">center string at</a>. Foreground color is the colour of the text itself. Background color has no meaning for style:outline strings (the outline is always black). For style:flat strings, it is the color of the solid background if 1 to 255, or causes no background if 0. If you ommit <span class="param">background color</span>, the background will be transparent.<br>
			
			
		</tt></p>
		<a name="about-positionstring"></a>
		<p>
		<tt>
		<b><font color="yellow">positionstring (ID, x, y)</font></b><br>
			Positions the top left corner of string #<span class="param">ID</span> at the given <span class="param">x</span>,<span class="param">y</span> coordinates. Unlike <a href="#about-showstringat" class="ref">show string at</a>, this command will not affect the visibility of a string.<br>
			
			
		</tt></p>
		<a name="about-stringx"></a>
		<p>
		<tt>
		<b><font color="yellow">string X (ID)</font></b><br>
			Returns the horizontal X position of the top left corner of string #<span class="param">ID</span><br>
			
			
		</tt></p>
		<a name="about-stringy"></a>
		<p>
		<tt>
		<b><font color="yellow">string Y (ID)</font></b><br>
			Returns the vertical Y position of the top left corner of string #<span class="param">ID</span><br>
			
			
		</tt></p>
		<a name="about-getsongname"></a>
		<p>
		<tt>
		<b><font color="yellow">get song name (ID, song)</font></b><br>
			Gets the name of song #<span class="param">song</span> and puts it in string #<span class="param">ID</span>.<br>
			
			
		</tt></p>
		<a name="about-searchstring"></a>
		<p>
		<tt>
		<b><font color="yellow">search string (ID1, ID2, start)</font></b><br>
			Searches the string for a specified string, returns the position at which the string was found. <span class="param">start</span> is the position at which you want to start looking, default is 1. <span class="param">ID1</span> is the the string you want to search, <span class="param">ID2</span> is the string expression you want to find. Returns <a href="#about-booleanconstants" class="ref">false</a> if the string wasn't found<br>
			
			
		</tt></p>
		<a name="about-trimstring"></a>
		<p>
		<tt>
		<b><font color="yellow">trim string (ID, start, length)</font></b><br>
			Cuts the string to the specified length, OR removes blank space from the beginning and ends of the string. <span class="param">ID</span> is the string you want to be cut. If you wish to cut <span class="param">ID</span> to a certain length, you must specify <span class="param">start</span> and <span class="param">length</span>. <span class="param">start</span> is the position at which you want to start cutting, anything to the left of this number will be deleted in a string. <span class="param">length</span> is the size of the string you want to preserve, anything to the right of this number will be deleted in a string. If you leave these parameters blank, it will trim whitespace from the beginning and ends of <span class="param">ID</span>.<br>
			
			
		</tt></p>
		<a name="about-stringfromtextbox"></a>
		<p>
		<tt>
		<b><font color="yellow">string from textbox (ID, textbox, line, expand)</font></b><br>
			Loads text from the <span class="param">line</span> in a <span class="param">textbox</span> into a string <span class="param">ID</span>. The command automatically erases white spaces from the begining of the string and end of the string. Valid numbers for <span class="param">line</span> are 0-7. If <span class="param">expand</span> is true, then codes like ${H1} in the string will be substituted automatically.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-expandstring" class="ref">expand string</a></li></ul>
		</tt></p>
		<a name="about-expandstring"></a>
		<p>
		<tt>
		<b><font color="yellow">expand string(ID)</font></b><br>
			Expands codes in <span class="param">ID</span> like ${H1}. This does the same thing that textboxes do automatically.<br>
			
			
		</tt></p>

		<hr>
	
		<a name="Menu%20Functions"></a>

		<font color="#f06060" size="4">Menu Functions</font>
		<p></p>
		
		<a name="about-openmenu"></a>
		<p>
		<tt>
		<b><font color="yellow">open menu (ID, allow duplicate)</font></b><br>
			Opens the menu specified by <span class="param">ID</span>. You can also use the constants defined in your HSI file in the form menu:name. The menu will be opened on top of any menus that are already open. The optional second argument <span class="param">allow duplicates</span> can be <a href="#about-booleanconstants" class="ref">true</a> if you want to be able to open more than one copy of the same menu at the same time. The return value is a menu handle that you should store in a variable for use with other menu-related commands.<br>
			
			
		</tt></p>
		<a name="about-createmenu"></a>
		<p>
		<tt>
		<b><font color="yellow">create menu</font></b><br>
			Create a new empty menu. You can add menu items to it with the <a href="#about-addmenuitem" class="ref">add menu item</a> command. The return value is a menu handle that you should save in a variable for use with other menu related commands. Menus created with this command have the "Allow gameplay" bitset turned on by default.<br>
			
			
		</tt></p>
		<a name="about-closemenu"></a>
		<p>
		<tt>
		<b><font color="yellow">close menu(menu handle)</font></b><br>
			Close a menu. The argument is a <span class="param">menu handle</span> (for example, the one returned by <a href="#about-openmenu" class="ref">open menu</a> or <a href="#about-topmenu" class="ref">top menu</a>)<br>
			
			
		</tt></p>
		<a name="about-topmenu"></a>
		<p>
		<tt>
		<b><font color="yellow">top menu</font></b><br>
			Return a menu handle for the topmost menu. Returns <a href="#about-booleanconstants" class="ref">false</a> if no menus are open<br>
			
			
		</tt></p>
		<a name="about-bottommenu"></a>
		<p>
		<tt>
		<b><font color="yellow">bottom menu</font></b><br>
			Return a menu handle for the bottom menu (the menu underneath all other open menus). Returns <a href="#about-booleanconstants" class="ref">false</a> if no menus are open<br>
			
			
		</tt></p>
		<a name="about-previousmenu"></a>
		<p>
		<tt>
		<b><font color="yellow">previous menu(menu handle)</font></b><br>
			Return a menu handle for the menu beneath the one specified by <span class="param">menu handle</span>, or false if there is no menu underneath<br>
			<pre>variable(menu)
menu := topmenu
while(menu) do, begin
 # do things to each menu
 menu := previous menu(menu)
end</pre>
			
		</tt></p>
		<a name="about-nextmenu"></a>
		<p>
		<tt>
		<b><font color="yellow">next menu(menu handle)</font></b><br>
			Return a menu handle for the menu on top of the one specified by <span class="param">menu handle</span>, or false if there is no menu on top<br>
			<pre>variable(menu)
menu := bottom menu
while(menu) do, begin
 # do things to each menu
 menu := next menu(menu)
end</pre>
			
		</tt></p>
		<a name="about-bringmenuforward"></a>
		<p>
		<tt>
		<b><font color="yellow">bring menu forward(menu handle)</font></b><br>
			Given a <span class="param">menu handle</span> (for example, the one return by <a href="#about-bottommenu" class="ref">bottom menu</a>), move the menu to the top of all other open menus<br>
			
			
		</tt></p>
		<a name="about-findmenuid"></a>
		<p>
		<tt>
		<b><font color="yellow">find menu ID(menu ID)</font></b><br>
			Given a <span class="param">menu ID</span> number or a constant in the form of <span class="param">menu:name</span>, Check to see if it is already open, and return a menu handle to it.<br>
			
			
		</tt></p>
		<a name="about-menuisopen"></a>
		<p>
		<tt>
		<b><font color="yellow">menu is open(menu handle)</font></b><br>
			Given a <span class="param">menu handle</span> (for example, the one returned by <span class="param">open menu</span>), Check to see if it is already open, and return <a href="#about-booleanconstants" class="ref">true</a> if it is, or <a href="#about-booleanconstants" class="ref">false</a> if it is not<br>
			
			
		</tt></p>
		<a name="about-addmenuitem"></a>
		<p>
		<tt>
		<b><font color="yellow">add menu item(menu handle)</font></b><br>
			Given a <span class="param">menu handle</span> (for example, the one returned by <a href="#about-createmenu" class="ref">create menu</a>), Add a new menu item to the end of the menu. Returns a menu item handle, which you can store in a variable for use with commands like <a href="#about-setmenuitemcaption" class="ref">set menu item caption</a> or <a href="#about-setmenuitemtype" class="ref">set menu item type</a>.<br>
			
			
		</tt></p>
		<a name="about-deletemenuitem"></a>
		<p>
		<tt>
		<b><font color="yellow">delete menu item(menu item handle)</font></b><br>
			Given a <span class="param">menu item handle</span> (for example, the one returned by <a href="#about-addmenuitem" class="ref">add menu item</a> or <a href="#about-selectedmenuitem" class="ref">selected menu item</a>), delete the menu item from the menu.<br>
			
			
		</tt></p>
		<a name="about-selectmenuitem"></a>
		<p>
		<tt>
		<b><font color="yellow">select menu item(menu item handle)</font></b><br>
			Given a <span class="param">menu item handle</span> (for example, the one returned by <a href="#about-addmenuitem" class="ref">add menu item</a>), Move the menu selection cursor to point to that menu item<br>
			
			
		</tt></p>
		<a name="about-selectedmenuitem"></a>
		<p>
		<tt>
		<b><font color="yellow">selected menu item(menu handle)</font></b><br>
			Returns the handle for the selected menu item in the topmost menu, false if no menus are open, or, when given an optional <span class="param">menu handle</span> (for example, the one returned by <a href="#about-openmenu" class="ref">open menu</a>) returns the selected item in that menu.<br>
			
			
		</tt></p>
		<a name="about-activatemenuitem"></a>
		<p>
		<tt>
		<b><font color="yellow">use menu item(menu item handle)</font></b><br>
			Given a <span class="param">menu item handle</span> (for example, the one returned by <a href="#about-selectedmenuitem" class="ref">selected menu item</a>), activate the menu item. This will cause whatever actions (text box, menu, script, tag changes) that have been configured for this menu item to be triggered.<br>
			
			
		</tt></p>
		<a name="about-firstmenuitem"></a>
		<p>
		<tt>
		<b><font color="yellow">first menu item(menu handle)</font></b><br>
			Given a <span class="param">menu handle</span> (for example, the one returned by <a href="#about-openmenu" class="ref">open menu</a>), Return a menu item handle for the menu item at the top of the menu.<br>
			
			
		</tt></p>
		<a name="about-menuitembyslot"></a>
		<p>
		<tt>
		<b><font color="yellow">menu item by slot(menu handle, slot, visible only)</font></b><br>
			Given a <span class="param">menu handle</span> (for example, the one returned by <a href="#about-openmenu" class="ref">open menu</a>), Return a menu item handle for the menu item at the position specified by <span class="param">slot</span>. The first slot in the menu is 0. You can optionally include invisible items by using the optional argument <span class="param">visible only</span>, which defaults to <a href="#about-booleanconstants" class="ref">true</a>. Note that invisible menu items are always at the end of the menu, after the last visible menu item<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-menuitemslot" class="ref">menu item slot</a></li></ul>
		</tt></p>
		<a name="about-menuitemslot"></a>
		<p>
		<tt>
		<b><font color="yellow">menu item slot(menu item handle)</font></b><br>
			Given a <span class="param">menu item handle</span> (for example, the one returned by <a href="#about-addmenuitem" class="ref">add menu item</a>), return a the slot number of the menu item. The first slot in the menu is 0.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-menuitembyslot" class="ref">menu item by slot</a></li></ul>
		</tt></p>
		<a name="about-nextmenuitem"></a>
		<p>
		<tt>
		<b><font color="yellow">next menu item(menu item handle, visible only)</font></b><br>
			Given a <span class="param">menu item handle</span> (for example, the one returned by <a href="#about-selectedmenuitem" class="ref">selected menu item</a>), Return a menu item handle for the menu item below the specified one, or <a href="#about-booleanconstants" class="ref">false</a> there is no next menu item. You can optionally include invisible items by using the optional argument <span class="param">visible only</span>, which defaults to <a href="#about-booleanconstants" class="ref">true</a>. Note that invisible menu items are always at the end of the menu, after the last visible menu item<br>
			<pre>variable(mi)
mi := first menu item
while(mi) do, begin
  # do things to each menu item
  mi := next menu item(mi)
end
</pre>
			
		</tt></p>
		<a name="about-previousmenuitem"></a>
		<p>
		<tt>
		<b><font color="yellow">previous menu item(menu item handle, visible only)</font></b><br>
			Given a <span class="param">menu item handle</span> (for example, the one returned by <a href="#about-selectedmenuitem" class="ref">selected menu item</a>), Return a menu item handle for the menu item above the specified one, or <a href="#about-booleanconstants" class="ref">false</a> there is no previous menu item. You can optionally include invisible items by using the optional argument <span class="param">visible only</span>, which defaults to <a href="#about-booleanconstants" class="ref">true</a>. Note that invisible menu items are always at the end of the menu, after the last visible menu item<br>
			<pre>variable(m)
m := previous menu item(selected menu item)</pre>
			
		</tt></p>
		<a name="about-findmenuitemcaption"></a>
		<p>
		<tt>
		<b><font color="yellow">find menu item caption(menu handle, string ID, search after handle, visible only)</font></b><br>
			Given a <span class="param">menu handle</span> (for example, the one returned by <a href="#about-openmenu" class="ref">open menu</a>), and a string identified by <span class="param">string ID</span>, Search the menu for a menu item with a label that is the same as the string, and return a handle to the matching menu item. The optional third argument <span class="param">search after handle</span> is a menu item handle to start searching after instead of searching from the top of the menu. The optional fourth argument <span class="param">visible only</span> is a <a href="#about-booleanconstants" class="ref">true</a> or <a href="#about-booleanconstants" class="ref">false</a> value that determines whether or not to include hidden items. it defaults to <a href="#about-booleanconstants" class="ref">true</a>.<br>
			<pre>variable(menu, mi)
menu := open menu(menu:test menu)
$0="Puppies"
mi := find menu item caption(menu, 0)
while(mi) do, begin
 # do something to each menu item labelled "Puppies"
 mi := find menu item(menu, 0, mi)
end</pre>
			
		</tt></p>
		<a name="about-getmenuitemcaption"></a>
		<p>
		<tt>
		<b><font color="yellow">get menu item caption(menu item handle, string ID)</font></b><br>
			Given a <span class="param">menu item handle</span> (for example, the one returned by <a href="#about-selectedmenuitem" class="ref">selected menu item</a>), take the caption and copy it into the string identified by <span class="param">string ID</span><br>
			
			
		</tt></p>
		<a name="about-setmenuitemcaption"></a>
		<p>
		<tt>
		<b><font color="yellow">set menu item caption(menu item handle, string ID)</font></b><br>
			Given a <span class="param">menu item handle</span> (for example, the one returned by <a href="#about-selectedmenuitem" class="ref">selected menu item</a>), Replace the caption with the string identified by <span class="param">string ID</span><br>
			
			
		</tt></p>
		<a name="about-getmenuitemtype"></a>
		<p>
		<tt>
		<b><font color="yellow">get menu item type(menu item handle)</font></b><br>
			Given a <span class="param">menu item handle</span> (for example, the one returned by <a href="#about-selectedmenuitem" class="ref">selected menu item</a>), Return the type of the menu item<br>
			
			
		</tt></p>
		<a name="about-setmenuitemtype"></a>
		<p>
		<tt>
		<b><font color="yellow">set menu item type(menu item handle, new type)</font></b><br>
			Given a <span class="param">menu item handle</span> (for example, the one returned by <a href="#about-selectedmenuitem" class="ref">selected menu item</a>), Change the type of the menu item to <span class="param">new type</span>. Available constants are: <span class="param">menutype:label</span>,<span class="param">menutype:special</span>, <span class="param">menutype:menu</span>, <span class="param">menutype:textbox</span>, and <span class="param">menutype:script</span><br>
			
			
		</tt></p>
		<a name="about-getmenuitemsubtype"></a>
		<p>
		<tt>
		<b><font color="yellow">get menu item subtype(menu item handle)</font></b><br>
			Given a <span class="param">menu item handle</span> (for example, the one returned by <a href="#about-selectedmenuitem" class="ref">selected menu item</a>), Return the subtype of the menu item. The meaning of the subtype varies depending on the type.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-setmenuitemsubtype" class="ref">set menu item subtype</a></li></ul>
		</tt></p>
		<a name="about-setmenuitemsubtype"></a>
		<p>
		<tt>
		<b><font color="yellow">set menu item subtype(menu item handle, new subtype)</font></b><br>
			Given a <span class="param">menu item handle</span> (for example, the one returned by <a href="#about-selectedmenuitem" class="ref">selected menu item</a>), Change the subtype of the menu item to <span class="param">new subtype</span>. The meaning of the subtype varies depending on the type of the menu item. For menutype:special you can use constants like: <span class="param">menuspecial:items</span>, <span class="param">menuspecial:spells</span>, <span class="param">menuspecial:status</span>, <span class="param">menuspecial:equip</span>, <span class="param">menuspecial:order</span>, <span class="param">menuspecial:team</span>, <span class="param">menuspecial:orderteam</span>, <span class="param">menuspecial:map</span>, <span class="param">menuspecial:save</span>, <span class="param">menuspecial:load</span>, <span class="param">menuspecial:quit</span>,  and <span class="param">menuspecial:volume</span>. For menutype:textbox you can use the textbox's ID number. For menutype:menu you can use the menu's ID number or a menu:name constant from your HSI file. For menutype:script you can use script references in the form @scriptname<br>
			
			
		</tt></p>
		<a name="about-getmenuitemtag"></a>
		<p>
		<tt>
		<b><font color="yellow">get menu item tag(menu item handle, whichtag)</font></b><br>
			Given a <span class="param">menu item handle</span> (for example, the one returned by <a href="#about-selectedmenuitem" class="ref">selected menu item</a>), and a tag number <span class="param">whichtag</span> which can be 1 or 2, Return the a tag required for the menu item to be available. The tag number will be positive if the tag needs to be ON, or negative if the tag needs to be OFF<br>
			
			
		</tt></p>
		<a name="about-setmenuitemtag"></a>
		<p>
		<tt>
		<b><font color="yellow">set menu item tag(menu item handle, new tag, whichtag)</font></b><br>
			Given a <span class="param">menu item handle</span> (for example, the one returned by <a href="#about-selectedmenuitem" class="ref">selected menu item</a>), and a tag number <span class="param">whichtag</span> which can be 1 or 2, Set the tag required for the menu item to <span class="param">new tag</span>. Use a positive number if the tag needs to be turned ON, and a negative number if the tag needs to be turned OFF<br>
			
			
		</tt></p>
		<a name="about-getmenuitemsettag"></a>
		<p>
		<tt>
		<b><font color="yellow">get menu item settag(menu item handle)</font></b><br>
			Given a <span class="param">menu item handle</span> (for example, the one returned by <a href="#about-selectedmenuitem" class="ref">selected menu item</a>), Return the number of the tag that will be set when the menu item is selected. The tag number will be positive if the tag will be set ON, or negative if the tag will be set OFF<br>
			
			
		</tt></p>
		<a name="about-setmenuitemsettag"></a>
		<p>
		<tt>
		<b><font color="yellow">set menu item settag(menu item handle, new settag)</font></b><br>
			Given a <span class="param">menu item handle</span> (for example, the one returned by <a href="#about-selectedmenuitem" class="ref">selected menu item</a>), Change the tag that will be set when the menu item is selected. Use a positive number if the tag should be turned ON, and a negative number if the tag should be turned OFF<br>
			
			
		</tt></p>
		<a name="about-getmenuitemtogtag"></a>
		<p>
		<tt>
		<b><font color="yellow">get menu item togtag(menu item handle)</font></b><br>
			Given a <span class="param">menu item handle</span> (for example, the one returned by <a href="#about-selectedmenuitem" class="ref">selected menu item</a>), Return the number of the tag that will be toggled when the menu item is selected. (The tag number will always be a positive number)<br>
			
			
		</tt></p>
		<a name="about-setmenuitemtogtag"></a>
		<p>
		<tt>
		<b><font color="yellow">set menu item togtag(menu item handle, new settag)</font></b><br>
			Given a <span class="param">menu item handle</span> (for example, the one returned by <a href="#about-selectedmenuitem" class="ref">selected menu item</a>), Change the tag that will be toggled when the menu item is selected. (the tag number will always be positive)<br>
			
			
		</tt></p>
		<a name="about-getmenuitembit"></a>
		<p>
		<tt>
		<b><font color="yellow">get menu item bit(menu item handle, bit)</font></b><br>
			Given a <span class="param">menu item handle</span> (for example, the one returned by <a href="#about-selectedmenuitem" class="ref">selected menu item</a>), and bit number <span class="param">bit</span>, Return <a href="#about-booleanconstants" class="ref">true</a> if the bitset is ON, and <a href="#about-booleanconstants" class="ref">false</a> if the bitset is OFF. You can use constants for the <span class="param">bit</span> bit number in the form of <span class="param">menu item bit:Hide when disabled</span> and <span class="param">menu item bit:Close menu if selected</span><br>
			
			
		</tt></p>
		<a name="about-setmenuitembit"></a>
		<p>
		<tt>
		<b><font color="yellow">set menu item bit(menu item handle, bit, value)</font></b><br>
			Given a <span class="param">menu item handle</span> (for example, the one returned by <a href="#about-selectedmenuitem" class="ref">selected menu item</a>), and bit number <span class="param">bit</span>, Set the bitset is ON or OFF depending on <span class="param">value</span>. You can use constants for the <span class="param">bit</span> bit number in the form of <span class="param">menu item bit:Hide when disabled</span> and <span class="param">menu item bit:close menu when selected</span><br>
			
			
		</tt></p>
		<a name="about-getmenuitemextra"></a>
		<p>
		<tt>
		<b><font color="yellow">get menu item extra(menu item handle, extra)</font></b><br>
			Given a <span class="param">menu item handle</span> (for example, the one returned by <a href="#about-selectedmenuitem" class="ref">selected menu item</a>), and an <span class="param">extra</span> data number which can be 0, 1, or 2, return the the number stored in the extra data space. This extra data has no meaning of its own, and is just useful for advanced menu scripting.<br>
			
			
		</tt></p>
		<a name="about-setmenuitemextra"></a>
		<p>
		<tt>
		<b><font color="yellow">set menu item extra(menu item handle, extra, num)</font></b><br>
			Given a <span class="param">menu item handle</span> (for example, the one returned by <a href="#about-selectedmenuitem" class="ref">selected menu item</a>), and an <span class="param">extra</span> data number which can be 0, 1, or 2, change the number stored in the extra data space to <span class="param">num</span>. This extra data has no meaning of its own, and is just useful for advanced menu scripting.<br>
			
			
		</tt></p>
		<a name="about-getmenubit"></a>
		<p>
		<tt>
		<b><font color="yellow">get menu bit(menu handle, bit)</font></b><br>
			Given a <span class="param">menu handle</span> (for example, the one returned by <a href="#about-topmenu" class="ref">top menu</a>), and bit number <span class="param">bit</span>, Return <a href="#about-booleanconstants" class="ref">true</a> if the bitset is ON, and <a href="#about-booleanconstants" class="ref">false</a> if the bitset is OFF. For the <span class="param">bit</span> bit number you should use one of the constants: <ul>
<li>menubit:translucent box</li> <li>menubit:never show scrollbar</li> <li>menubit:allow gameplay</li> <li>menubit:suspend player even if gameplay allowed</li> <li>menubit:no box</li> <li>menubit:no close</li> <li>menubit:no controls</li> <li>menubit:prevent main menu</li>
</ul>
<br>
			
			
		</tt></p>
		<a name="about-setmenubit"></a>
		<p>
		<tt>
		<b><font color="yellow">set menu bit(menu handle, bit, value)</font></b><br>
			Given a <span class="param">menu handle</span> (for example, the one returned by <a href="#about-topmenu" class="ref">top menu</a>), and bit number <span class="param">bit</span>, Set the bitset is ON or OFF depending on <span class="param">value</span>. For the <span class="param">bit</span> bit number you should use one of the constants: <ul>
<li>menubit:translucent box</li> <li>menubit:never show scrollbar</li> <li>menubit:allow gameplay</li> <li>menubit:suspend player even if gameplay allowed</li> <li>menubit:no box</li> <li>menubit:no close</li> <li>menubit:no controls</li> <li>menubit:prevent main menu</li>
</ul>
<br>
			
			
		</tt></p>
		<a name="about-parentmenu"></a>
		<p>
		<tt>
		<b><font color="yellow">parent menu(menu item handle)</font></b><br>
			Given a <span class="param">menu item handle</span> (for example, the one returned by <a href="#about-selectedmenuitem" class="ref">selected menu item</a>), Return a menu handle for the menu that the menu item belongs to.<br>
			
			
		</tt></p>
		<a name="about-getmenuid"></a>
		<p>
		<tt>
		<b><font color="yellow">get menu ID(menu handle)</font></b><br>
			Given a <span class="param">menu handle</span> (for example, the one returned by <a href="#about-parentmenu" class="ref">parent menu</a>), Return a the ID number of the menu, or -1 if the men was created with the <a href="#about-createmenu" class="ref">create menu</a> command.<br>
			
			
		</tt></p>
		<a name="about-swapmenuitems"></a>
		<p>
		<tt>
		<b><font color="yellow">swap menu items(handle1, handle2)</font></b><br>
			Given two menu item handles (for example, the ones returned by <a href="#about-selectedmenuitem" class="ref">selected menu item</a> and <a href="#about-nextmenuitem" class="ref">next menu item</a>) switch the positions of the two menu items. Note that this works both to rearrange menu items within one menu, or to move menu items between different menus<br>
			
			
		</tt></p>
		<a name="about-getmenuboxstyle"></a>
		<p>
		<tt>
		<b><font color="yellow">get menu boxstyle(menu handle)</font></b><br>
			Given a <span class="param">menu handle</span> (for example, the one returned by <a href="#about-openmenu" class="ref">open menu</a>), Return a the boxstyle of the menu. This will be a number from 0 to 15<br>
			
			
		</tt></p>
		<a name="about-setmenuboxstyle"></a>
		<p>
		<tt>
		<b><font color="yellow">set menu boxstyle(menu handle, new box style)</font></b><br>
			Given a <span class="param">menu handle</span> (for example, the one returned by <a href="#about-openmenu" class="ref">open menu</a>), Change the boxstyle of the menu. <span class="param">new box style</span> will be a number from 0 to 15<br>
			
			
		</tt></p>
		<a name="about-getmenutextcolor"></a>
		<p>
		<tt>
		<b><font color="yellow">get menu textcolor(menu handle)</font></b><br>
			Given a <span class="param">menu handle</span> (for example, the one returned by <a href="#about-openmenu" class="ref">open menu</a>), Return a the text color of the menu. This will be a number from 0 to 255<br>
			
			
		</tt></p>
		<a name="about-setmenutextcolor"></a>
		<p>
		<tt>
		<b><font color="yellow">set menu textcolor(menu handle, new textcolor)</font></b><br>
			Given a <span class="param">menu handle</span> (for example, the one returned by <a href="#about-openmenu" class="ref">open menu</a>), Change the text color of the menu. <span class="param">new textcolor</span> will be a number from 0 to 255. 0 is the default color.<br>
			
			
		</tt></p>
		<a name="about-getmenumaxrows"></a>
		<p>
		<tt>
		<b><font color="yellow">get menu max rows(menu handle)</font></b><br>
			Given a <span class="param">menu handle</span> (for example, the one returned by <a href="#about-openmenu" class="ref">open menu</a>), Return a max rows to display of the menu, or 0 if the menu is auto-sizing. If the actual number of menu items is larger than the max rows, the menu will be scrollable.<br>
			
			
		</tt></p>
		<a name="about-setmenumaxrows"></a>
		<p>
		<tt>
		<b><font color="yellow">set menu max rows(menu handle, new max rows)</font></b><br>
			Given a <span class="param">menu handle</span> (for example, the one returned by <a href="#about-openmenu" class="ref">open menu</a>), Change the max rows to display of the menu to <span class="param">new max rows</span>. Use 0 if you want the menu to be auto-sizing. If the actual number of menu items is larger than the max rows, the menu will be scrollable.<br>
			
			
		</tt></p>
		<a name="about-getmenuoffsetx"></a>
		<p>
		<tt>
		<b><font color="yellow">get menu offset x(menu handle)</font></b><br>
			Given a <span class="param">menu handle</span> (for example, the one returned by <a href="#about-openmenu" class="ref">open menu</a>), Return the x offset position of the menu in pixels relative to the center of the screen.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-getmenuoffsety" class="ref">get menu offset y</a>, </li>
<li>
<a href="#about-setmenuoffsetx" class="ref">set menu offset x</a>, </li>
<li><a href="#about-setmenuoffsety" class="ref">set menu offset y</a></li>
</ul>
		</tt></p>
		<a name="about-getmenuoffsety"></a>
		<p>
		<tt>
		<b><font color="yellow">get menu offset y(menu handle)</font></b><br>
			Given a <span class="param">menu handle</span> (for example, the one returned by <a href="#about-openmenu" class="ref">open menu</a>), Return the y offset position of the menu in pixels relative to the center of the screen.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-getmenuoffsetx" class="ref">get menu offset x</a>, </li>
<li>
<a href="#about-setmenuoffsetx" class="ref">set menu offset x</a>, </li>
<li><a href="#about-setmenuoffsety" class="ref">set menu offset y</a></li>
</ul>
		</tt></p>
		<a name="about-setmenuoffsetx"></a>
		<p>
		<tt>
		<b><font color="yellow">set menu offset x(menu handle, new x)</font></b><br>
			Given a <span class="param">menu handle</span> (for example, the one returned by <a href="#about-openmenu" class="ref">open menu</a>), Change the x offset position of the menu in pixels relative to the center of the screen.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-getmenuoffsetx" class="ref">get menu offset x</a>, </li>
<li>
<a href="#about-getmenuoffsety" class="ref">get menu offset y</a>, </li>
<li><a href="#about-setmenuoffsety" class="ref">set menu offset y</a></li>
</ul>
		</tt></p>
		<a name="about-setmenuoffsety"></a>
		<p>
		<tt>
		<b><font color="yellow">set menu offset y(menu handle, new y)</font></b><br>
			Given a <span class="param">menu handle</span> (for example, the one returned by <a href="#about-openmenu" class="ref">open menu</a>), Change the y offset position of the menu in pixels relative to the center of the screen.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-getmenuoffsetx" class="ref">get menu offset x</a>, </li>
<li>
<a href="#about-getmenuoffsety" class="ref">get menu offset y</a>, </li>
<li><a href="#about-setmenuoffsetx" class="ref">set menu offset x</a></li>
</ul>
		</tt></p>
		<a name="about-getmenuanchorx"></a>
		<p>
		<tt>
		<b><font color="yellow">get menu anchor x(menu handle)</font></b><br>
			Given a <span class="param">menu handle</span> (for example, the one returned by <a href="#about-openmenu" class="ref">open menu</a>), Return the x anchor position of the menu. The return value will be <span class="param">align:center</span>, <span class="param">align:left</span> or <span class="param">align:right</span><br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-getmenuanchory" class="ref">get menu anchor y</a>, </li>
<li>
<a href="#about-setmenuanchorx" class="ref">set menu anchor x</a>, </li>
<li><a href="#about-setmenuanchory" class="ref">set menu anchor y</a></li>
</ul>
		</tt></p>
		<a name="about-getmenuanchory"></a>
		<p>
		<tt>
		<b><font color="yellow">get menu anchor y(menu handle)</font></b><br>
			Given a <span class="param">menu handle</span> (for example, the one returned by <a href="#about-openmenu" class="ref">open menu</a>), Return the y anchor position of the menu. The return value will be <span class="param">align:center</span>, <span class="param">align:top</span> or <span class="param">align:bottom</span><br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-getmenuanchorx" class="ref">get menu anchor x</a>, </li>
<li>
<a href="#about-setmenuanchorx" class="ref">set menu anchor x</a>, </li>
<li><a href="#about-setmenuanchory" class="ref">set menu anchor y</a></li>
</ul>
		</tt></p>
		<a name="about-setmenuanchorx"></a>
		<p>
		<tt>
		<b><font color="yellow">set menu anchor x(menu handle, new anchor)</font></b><br>
			Given a <span class="param">menu handle</span> (for example, the one returned by <a href="#about-openmenu" class="ref">open menu</a>), Change the horizontal x anchor position of the menu. The <span class="param">new anchor</span> can be <span class="param">align:center</span>, <span class="param">align:left</span> or <span class="param">align:right</span><br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-getmenuanchorx" class="ref">get menu anchor x</a>, </li>
<li>
<a href="#about-getmenuanchory" class="ref">get menu anchor y</a>, </li>
<li><a href="#about-setmenuanchory" class="ref">set menu anchor y</a></li>
</ul>
		</tt></p>
		<a name="about-setmenuanchory"></a>
		<p>
		<tt>
		<b><font color="yellow">set menu anchor y(menu handle, new anchor)</font></b><br>
			Given a <span class="param">menu handle</span> (for example, the one returned by <a href="#about-openmenu" class="ref">open menu</a>), Change the vertical y anchor position of the menu. Change the horizontal x anchor position of the menu. The <span class="param">new anchor</span> can be <span class="param">align:center</span>, <span class="param">align:top</span> or <span class="param">align:bottom</span><br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-getmenuanchorx" class="ref">get menu anchor x</a>, </li>
<li>
<a href="#about-getmenuanchory" class="ref">get menu anchor y</a>, </li>
<li><a href="#about-setmenuanchorx" class="ref">set menu anchor x</a></li>
</ul>
		</tt></p>
		<a name="about-getmenutextalign"></a>
		<p>
		<tt>
		<b><font color="yellow">get menu text align(menu handle)</font></b><br>
			Given a <span class="param">menu handle</span> (for example, the one returned by <a href="#about-openmenu" class="ref">open menu</a>), Return the text alignment of the menu. The return value will be <span class="param">align:center</span>, <span class="param">align:left</span> or <span class="param">align:right</span><br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-setmenutextalign" class="ref">set menu text align</a></li></ul>
		</tt></p>
		<a name="about-setmenutextalign"></a>
		<p>
		<tt>
		<b><font color="yellow">set menu text align(menu handle, new align)</font></b><br>
			Given a <span class="param">menu handle</span> (for example, the one returned by <a href="#about-openmenu" class="ref">open menu</a>), Change the text alingment of the menu. The <span class="param">new align</span> can be <span class="param">align:center</span>, <span class="param">align:left</span> or <span class="param">align:right</span><br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-getmenutextalign" class="ref">get menu text align</a></li></ul>
		</tt></p>
		<a name="about-getmenuminchars"></a>
		<p>
		<tt>
		<b><font color="yellow">get menu min chars(menu handle)</font></b><br>
			Given a <span class="param">menu handle</span> (for example, the one returned by <a href="#about-openmenu" class="ref">open menu</a>), Return the minimum width of the menu in chars, or 0 for menus that have their width autodetected.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-setmenuminchars" class="ref">set menu min chars</a></li></ul>
		</tt></p>
		<a name="about-setmenuminchars"></a>
		<p>
		<tt>
		<b><font color="yellow">set menu min chars(menu handle, new min)</font></b><br>
			Given a <span class="param">menu handle</span> (for example, the one returned by <a href="#about-openmenu" class="ref">open menu</a>), Change the minimum width of the menu in chars, or use 0 to make the menu width autodetected.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-getmenuminchars" class="ref">get menu min chars</a></li></ul>
		</tt></p>
		<a name="about-getmenumaxchars"></a>
		<p>
		<tt>
		<b><font color="yellow">get menu max chars(menu handle)</font></b><br>
			Given a <span class="param">menu handle</span> (for example, the one returned by <a href="#about-openmenu" class="ref">open menu</a>), Return the maximum width of the menu in chars, or 0 for menus that do not have a maximum.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-setmenumaxchars" class="ref">set menu max chars</a></li></ul>
		</tt></p>
		<a name="about-setmenumaxchars"></a>
		<p>
		<tt>
		<b><font color="yellow">set menu max chars(menu handle, new max)</font></b><br>
			Given a <span class="param">menu handle</span> (for example, the one returned by <a href="#about-openmenu" class="ref">open menu</a>), Change the maximum width of the menu in chars, or use 0 for no maximum<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-getmenumaxchars" class="ref">get menu max chars</a></li></ul>
		</tt></p>
		<a name="about-getmenuborder"></a>
		<p>
		<tt>
		<b><font color="yellow">get menu border(menu handle)</font></b><br>
			Given a <span class="param">menu handle</span> (for example, the one returned by <a href="#about-openmenu" class="ref">open menu</a>), Return the border thickness of the menu in pixels. Positive numbers indicate a thicker border. Negative numbers indicate a thinner border.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-setmenuborder" class="ref">set menu border</a></li></ul>
		</tt></p>
		<a name="about-setmenuborder"></a>
		<p>
		<tt>
		<b><font color="yellow">set menu border(menu handle, new border)</font></b><br>
			Given a <span class="param">menu handle</span> (for example, the one returned by <a href="#about-openmenu" class="ref">open menu</a>), Change the border thickness of the menu in pixels. Positive numbers will result in a thicker border. Negative numbers will result in a thinner border.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-getmenuborder" class="ref">get menu border</a></li></ul>
		</tt></p>

		<hr>
	
		<a name="Sprite%20Functions"></a>

		<font color="#f06060" size="4">Sprite Functions</font>
		<p></p>
		
		<a name="about-loadherosprite"></a>
		<p>
		<tt>
		<b><font color="yellow">load hero sprite (num, palette)</font></b><br>
			Loads hero battle sprite #<span class="param">num</span> with palette <span class="param">palette</span>, and returns a handle. You may omit <span class="param">palette</span>, in which case the default palette for that sprite will be loaded. You must free it with <a href="#about-freesprite" class="ref">free sprite</a> when you are done.<div style="background-color:#FFE;" class="note">
<img src="http://gilgamesh.hamsterrepublic.com/wiki/ohrrpgce-images/d/dc/Plotwarn.png" alt="[Warning]" class="icon">Do not load a sprite onto another sprite that has not been freed. Either use <a href="#about-freesprite" class="ref">free sprite</a> first, or use <a href="#about-replaceherosprite" class="ref">replace hero sprite</a>!<br clear="all">
</div>
<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-replaceherosprite" class="ref">replace hero sprite</a>, </li>
<li><a href="#about-freesprite" class="ref">free sprite</a></li>
</ul>
		</tt></p>
		<a name="about-replaceherosprite"></a>
		<p>
		<tt>
		<b><font color="yellow">replace hero sprite (handle, num, palette)</font></b><br>
			Loads hero battle sprite #<span class="param">num</span> with palette <span class="param">palette</span> into sprite <span class="param">handle</span>. As with <a href="#about-loadherosprite" class="ref">load hero sprite</a>, you may omit <span class="param">palette</span>, in which case the default palette for that sprite will be loaded. This function is used when you merely wish to change the sprite, but not move it or anything. You must free it with <a href="#about-freesprite" class="ref">free sprite</a> when you are done.<div style="background-color:#EFF;" class="note">
<img src="http://gilgamesh.hamsterrepublic.com/wiki/ohrrpgce-images/0/01/Plotnote.png" alt="[Note]" class="icon">You may use this on any sprite, not just ones loaded with <a href="#about-loadherosprite" class="ref">load hero sprite</a>.<br clear="all">
</div>
<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-loadherosprite" class="ref">load hero sprite</a>, </li>
<li><a href="#about-freesprite" class="ref">free sprite</a></li>
</ul>
		</tt></p>
		<a name="about-loadwalkaboutsprite"></a>
		<p>
		<tt>
		<b><font color="yellow">load walkabout sprite (num, palette)</font></b><br>
			Loads walkabout sprite #<span class="param">num</span> with palette <span class="param">palette</span>, and returns a handle. You may omit <span class="param">palette</span>, in which case the default palette for that sprite will be loaded. You must free it with <a href="#about-freesprite" class="ref">free sprite</a> when you are done.<div style="background-color:#FFE;" class="note">
<img src="http://gilgamesh.hamsterrepublic.com/wiki/ohrrpgce-images/d/dc/Plotwarn.png" alt="[Warning]" class="icon">Do not load a sprite onto another sprite that has not been freed. Either use <a href="#about-freesprite" class="ref">free sprite</a> first, or use <a href="#about-replacewalkaboutsprite" class="ref">replace walkabout sprite</a>!<br clear="all">
</div>
<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-replacewalkaboutsprite" class="ref">replace walkabout sprite</a>, </li>
<li><a href="#about-freesprite" class="ref">free sprite</a></li>
</ul>
		</tt></p>
		<a name="about-replacewalkaboutsprite"></a>
		<p>
		<tt>
		<b><font color="yellow">replace walkabout sprite (handle, num, palette)</font></b><br>
			Loads walkabout sprite #<span class="param">num</span> with palette <span class="param">palette</span> into sprite <span class="param">handle</span>. As with <a href="#about-loadwalkaboutsprite" class="ref">load walkabout sprite</a>, you may omit <span class="param">palette</span>, in which case the default palette for that sprite will be loaded. This function is used when you merely wish to change the sprite, but not move it or anything. You must free it with <a href="#about-freesprite" class="ref">free sprite</a> when you are done.<div style="background-color:#EFF;" class="note">
<img src="http://gilgamesh.hamsterrepublic.com/wiki/ohrrpgce-images/0/01/Plotnote.png" alt="[Note]" class="icon">You may use this on any sprite, not just ones loaded with <a href="#about-loadwalkaboutsprite" class="ref">load walkabout sprite</a>.<br clear="all">
</div>
<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-loadwalkaboutsprite" class="ref">load walkabout sprite</a>, </li>
<li><a href="#about-freesprite" class="ref">free sprite</a></li>
</ul>
		</tt></p>
		<a name="about-loadsmallenemysprite"></a>
		<p>
		<tt>
		<b><font color="yellow">load small enemy sprite (num, palette)</font></b><br>
			Loads small enemy sprite #<span class="param">num</span> with palette <span class="param">palette</span>, and returns a handle. You may omit <span class="param">palette</span>, in which case the default palette for that sprite will be loaded. You must free it with <a href="#about-freesprite" class="ref">free sprite</a> when you are done.<div style="background-color:#FFE;" class="note">
<img src="http://gilgamesh.hamsterrepublic.com/wiki/ohrrpgce-images/d/dc/Plotwarn.png" alt="[Warning]" class="icon">Do not load a sprite onto another sprite that has not been freed. Either use <a href="#about-freesprite" class="ref">free sprite</a> first, or use <a href="#about-replacesmallenemysprite" class="ref">replace small enemy sprite</a>!<br clear="all">
</div>
<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-replacesmallenemysprite" class="ref">replace small enemy sprite</a>, </li>
<li><a href="#about-freesprite" class="ref">free sprite</a></li>
</ul>
		</tt></p>
		<a name="about-replacesmallenemysprite"></a>
		<p>
		<tt>
		<b><font color="yellow">replace small enemy sprite (handle, num, palette)</font></b><br>
			Loads small enemy sprite #<span class="param">num</span> with palette <span class="param">palette</span> into sprite <span class="param">handle</span>. As with <a href="#about-loadsmallenemysprite" class="ref">load small enemy sprite</a>, you may omit <span class="param">palette</span>, in which case the default palette for that sprite will be loaded. This function is used when you merely wish to change the sprite, but not move it or anything. You must free it with <a href="#about-freesprite" class="ref">free sprite</a> when you are done.<div style="background-color:#EFF;" class="note">
<img src="http://gilgamesh.hamsterrepublic.com/wiki/ohrrpgce-images/0/01/Plotnote.png" alt="[Note]" class="icon">You may use this on any sprite, not just ones loaded with <a href="#about-loadsmallenemysprite" class="ref">load small enemy sprite</a>.<br clear="all">
</div>
<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-loadsmallenemysprite" class="ref">load small enemy sprite</a>, </li>
<li><a href="#about-freesprite" class="ref">free sprite</a></li>
</ul>
		</tt></p>
		<a name="about-loadmediumenemysprite"></a>
		<p>
		<tt>
		<b><font color="yellow">load medium enemy sprite (num, palette)</font></b><br>
			Loads medium enemy sprite #<span class="param">num</span> with palette <span class="param">palette</span>, and returns a handle. You may omit <span class="param">palette</span>, in which case the default palette for that sprite will be loaded. You must free it with <a href="#about-freesprite" class="ref">free sprite</a> when you are done.<div style="background-color:#FFE;" class="note">
<img src="http://gilgamesh.hamsterrepublic.com/wiki/ohrrpgce-images/d/dc/Plotwarn.png" alt="[Warning]" class="icon">Do not load a sprite onto another sprite that has not been freed. Either use <a href="#about-freesprite" class="ref">free sprite</a> first, or use <a href="#about-replacemediumenemysprite" class="ref">replace medium enemy sprite</a>!<br clear="all">
</div>
<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-replacemediumenemysprite" class="ref">replace medium enemy sprite</a>, </li>
<li><a href="#about-freesprite" class="ref">free sprite</a></li>
</ul>
		</tt></p>
		<a name="about-replacemediumenemysprite"></a>
		<p>
		<tt>
		<b><font color="yellow">replace medium enemy sprite (handle, num, palette)</font></b><br>
			Loads medium enemy sprite #<span class="param">num</span> with palette <span class="param">palette</span> into sprite <span class="param">handle</span>. As with <a href="#about-loadmediumenemysprite" class="ref">load medium enemy sprite</a>, you may omit <span class="param">palette</span>, in which case the default palette for that sprite will be loaded. This function is used when you merely wish to change the sprite, but not move it or anything. You must free it with <a href="#about-freesprite" class="ref">free sprite</a> when you are done.<div style="background-color:#EFF;" class="note">
<img src="http://gilgamesh.hamsterrepublic.com/wiki/ohrrpgce-images/0/01/Plotnote.png" alt="[Note]" class="icon">You may use this on any sprite, not just ones loaded with <a href="#about-loadmediumenemysprite" class="ref">load medium enemy sprite</a>.<br clear="all">
</div>
<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-loadmediumenemysprite" class="ref">load medium enemy sprite</a>, </li>
<li><a href="#about-freesprite" class="ref">free sprite</a></li>
</ul>
		</tt></p>
		<a name="about-loadlargeenemysprite"></a>
		<p>
		<tt>
		<b><font color="yellow">load large enemy sprite (num, palette)</font></b><br>
			Loads large enemy sprite #<span class="param">num</span> with palette <span class="param">palette</span>, and returns a handle. You may omit <span class="param">palette</span>, in which case the default palette for that sprite will be loaded. You must free it with <a href="#about-freesprite" class="ref">free sprite</a> when you are done.<div style="background-color:#FFE;" class="note">
<img src="http://gilgamesh.hamsterrepublic.com/wiki/ohrrpgce-images/d/dc/Plotwarn.png" alt="[Warning]" class="icon">Do not load a sprite onto another sprite that has not been freed. Either use <a href="#about-freesprite" class="ref">free sprite</a> first, or use <a href="#about-replacelargeenemysprite" class="ref">replace large enemy sprite</a>!<br clear="all">
</div>
<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-replacelargeenemysprite" class="ref">replace large enemy sprite</a>, </li>
<li><a href="#about-freesprite" class="ref">free sprite</a></li>
</ul>
		</tt></p>
		<a name="about-replacelargeenemysprite"></a>
		<p>
		<tt>
		<b><font color="yellow">replace large enemy sprite (handle, num, palette)</font></b><br>
			Loads large enemy sprite #<span class="param">num</span> with palette <span class="param">palette</span> into sprite <span class="param">handle</span>. As with <a href="#about-loadlargeenemysprite" class="ref">load large enemy sprite</a>, you may omit <span class="param">palette</span>, in which case the default palette for that sprite will be loaded. This function is used when you merely wish to change the sprite, but not move it or anything. You must free it with <a href="#about-freesprite" class="ref">free sprite</a> when you are done.<div style="background-color:#EFF;" class="note">
<img src="http://gilgamesh.hamsterrepublic.com/wiki/ohrrpgce-images/0/01/Plotnote.png" alt="[Note]" class="icon">You may use this on any sprite, not just ones loaded with <a href="#about-loadlargeenemysprite" class="ref">load large enemy sprite</a>.<br clear="all">
</div>
<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-loadlargeenemysprite" class="ref">load large enemy sprite</a>, </li>
<li><a href="#about-freesprite" class="ref">free sprite</a></li>
</ul>
		</tt></p>
		<a name="about-loadattacksprite"></a>
		<p>
		<tt>
		<b><font color="yellow">load attack sprite (num, palette)</font></b><br>
			Loads attack battle sprite #<span class="param">num</span> with palette <span class="param">palette</span>, and returns a handle. You may omit <span class="param">palette</span>, in which case the default palette for that sprite will be loaded. You must free it with <a href="#about-freesprite" class="ref">free sprite</a> when you are done.<div style="background-color:#FFE;" class="note">
<img src="http://gilgamesh.hamsterrepublic.com/wiki/ohrrpgce-images/d/dc/Plotwarn.png" alt="[Warning]" class="icon">Do not load a sprite onto another sprite that has not been freed. Either use <a href="#about-freesprite" class="ref">free sprite</a> first, or use <a href="#about-replaceattacksprite" class="ref">replace attack sprite</a>!<br clear="all">
</div>
<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-replaceattacksprite" class="ref">replace attack sprite</a>, </li>
<li><a href="#about-freesprite" class="ref">free sprite</a></li>
</ul>
		</tt></p>
		<a name="about-replaceattacksprite"></a>
		<p>
		<tt>
		<b><font color="yellow">replace attack sprite (handle, num, palette)</font></b><br>
			Loads attack battle sprite #<span class="param">num</span> with palette <span class="param">palette</span> into sprite <span class="param">handle</span>. As with <a href="#about-loadattacksprite" class="ref">load attack sprite</a>, you may omit <span class="param">palette</span>, in which case the default palette for that sprite will be loaded. This function is used when you merely wish to change the sprite, but not move it or anything. You must free it with <a href="#about-freesprite" class="ref">free sprite</a> when you are done.<div style="background-color:#EFF;" class="note">
<img src="http://gilgamesh.hamsterrepublic.com/wiki/ohrrpgce-images/0/01/Plotnote.png" alt="[Note]" class="icon">You may use this on any sprite, not just ones loaded with <a href="#about-loadattacksprite" class="ref">load attack sprite</a>.<br clear="all">
</div>
<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-loadattacksprite" class="ref">load attack sprite</a>, </li>
<li><a href="#about-freesprite" class="ref">free sprite</a></li>
</ul>
		</tt></p>
		<a name="about-loadweaponsprite"></a>
		<p>
		<tt>
		<b><font color="yellow">load weapon sprite (num, palette)</font></b><br>
			Loads weapon battle sprite #<span class="param">num</span> with palette <span class="param">palette</span>, and returns a handle. You may omit <span class="param">palette</span>, in which case the default palette for that sprite will be loaded. You must free it with <a href="#about-freesprite" class="ref">free sprite</a> when you are done.<div style="background-color:#FFE;" class="note">
<img src="http://gilgamesh.hamsterrepublic.com/wiki/ohrrpgce-images/d/dc/Plotwarn.png" alt="[Warning]" class="icon">Do not load a sprite onto another sprite that has not been freed. Either use <a href="#about-freesprite" class="ref">free sprite</a> first, or use <a href="#about-replaceweaponsprite" class="ref">replace weapon sprite</a>!<br clear="all">
</div>
<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-replaceweaponsprite" class="ref">replace weapon sprite</a>, </li>
<li><a href="#about-freesprite" class="ref">free sprite</a></li>
</ul>
		</tt></p>
		<a name="about-replaceweaponsprite"></a>
		<p>
		<tt>
		<b><font color="yellow">replace weapon sprite (handle, num, palette)</font></b><br>
			Loads weapon battle sprite #<span class="param">num</span> with palette <span class="param">palette</span> into sprite <span class="param">handle</span>. As with <a href="#about-loadweaponsprite" class="ref">load weapon sprite</a>, you may omit <span class="param">palette</span>, in which case the default palette for that sprite will be loaded. This function is used when you merely wish to change the sprite, but not move it or anything. You must free it with <a href="#about-freesprite" class="ref">free sprite</a> when you are done.<div style="background-color:#EFF;" class="note">
<img src="http://gilgamesh.hamsterrepublic.com/wiki/ohrrpgce-images/0/01/Plotnote.png" alt="[Note]" class="icon">You may use this on any sprite, not just ones loaded with <a href="#about-loadweaponsprite" class="ref">load weapon sprite</a>.<br clear="all">
</div>
<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-loadweaponsprite" class="ref">load weapon sprite</a>, </li>
<li><a href="#about-freesprite" class="ref">free sprite</a></li>
</ul>
		</tt></p>
		<a name="about-loadbordersprite"></a>
		<p>
		<tt>
		<b><font color="yellow">load border sprite (num, palette)</font></b><br>
			Loads border battle sprite #<span class="param">num</span> with palette <span class="param">palette</span>, and returns a handle. You may omit <span class="param">palette</span>, in which case the default palette for that sprite will be loaded. You must free it with <a href="#about-freesprite" class="ref">free sprite</a> when you are done.<div style="background-color:#FFE;" class="note">
<img src="http://gilgamesh.hamsterrepublic.com/wiki/ohrrpgce-images/d/dc/Plotwarn.png" alt="[Warning]" class="icon">Do not load a sprite onto another sprite that has not been freed. Either use <a href="#about-freesprite" class="ref">free sprite</a> first, or use <a href="#about-replacebordersprite" class="ref">replace border sprite</a>!<br clear="all">
</div>
<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-replacebordersprite" class="ref">replace border sprite</a>, </li>
<li><a href="#about-freesprite" class="ref">free sprite</a></li>
</ul>
		</tt></p>
		<a name="about-replacebordersprite"></a>
		<p>
		<tt>
		<b><font color="yellow">replace border sprite (handle, num, palette)</font></b><br>
			Loads border battle sprite #<span class="param">num</span> with palette <span class="param">palette</span> into sprite <span class="param">handle</span>. As with <a href="#about-loadbordersprite" class="ref">load border sprite</a>, you may omit <span class="param">palette</span>, in which case the default palette for that sprite will be loaded. This function is used when you merely wish to change the sprite, but not move it or anything. You must free it with <a href="#about-freesprite" class="ref">free sprite</a> when you are done.<div style="background-color:#EFF;" class="note">
<img src="http://gilgamesh.hamsterrepublic.com/wiki/ohrrpgce-images/0/01/Plotnote.png" alt="[Note]" class="icon">You may use this on any sprite, not just ones loaded with <a href="#about-loadbordersprite" class="ref">load border sprite</a>.<br clear="all">
</div>
<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-loadbordersprite" class="ref">load border sprite</a>, </li>
<li><a href="#about-freesprite" class="ref">free sprite</a></li>
</ul>
		</tt></p>
		<a name="about-loadportraitsprite"></a>
		<p>
		<tt>
		<b><font color="yellow">load portrait sprite (num, palette)</font></b><br>
			Loads portrait battle sprite #<span class="param">num</span> with palette <span class="param">palette</span>, and returns a handle. You may omit <span class="param">palette</span>, in which case the default palette for that sprite will be loaded. You must free it with <a href="#about-freesprite" class="ref">free sprite</a> when you are done.<div style="background-color:#FFE;" class="note">
<img src="http://gilgamesh.hamsterrepublic.com/wiki/ohrrpgce-images/d/dc/Plotwarn.png" alt="[Warning]" class="icon">Do not load a sprite onto another sprite that has not been freed. Either use <a href="#about-freesprite" class="ref">free sprite</a> first, or use <a href="#about-replaceportraitsprite" class="ref">replace portrait sprite</a>!<br clear="all">
</div>
<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-replaceportraitsprite" class="ref">replace portrait sprite</a>, </li>
<li><a href="#about-freesprite" class="ref">free sprite</a></li>
</ul>
		</tt></p>
		<a name="about-replaceportraitsprite"></a>
		<p>
		<tt>
		<b><font color="yellow">replace portrait sprite (handle, num, palette)</font></b><br>
			Loads portrait battle sprite #<span class="param">num</span> with palette <span class="param">palette</span> into sprite <span class="param">handle</span>. As with <a href="#about-loadportraitsprite" class="ref">load portrait sprite</a>, you may omit <span class="param">palette</span>, in which case the default palette for that sprite will be loaded. This function is used when you merely wish to change the sprite, but not move it or anything. You must free it with <a href="#about-freesprite" class="ref">free sprite</a> when you are done.<div style="background-color:#EFF;" class="note">
<img src="http://gilgamesh.hamsterrepublic.com/wiki/ohrrpgce-images/0/01/Plotnote.png" alt="[Note]" class="icon">You may use this on any sprite, not just ones loaded with <a href="#about-loadportraitsprite" class="ref">load portrait sprite</a>.<br clear="all">
</div>
<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-loadportraitsprite" class="ref">load portrait sprite</a>, </li>
<li><a href="#about-freesprite" class="ref">free sprite</a></li>
</ul>
		</tt></p>
		<a name="about-freesprite"></a>
		<p>
		<tt>
		<b><font color="yellow">free sprite (handle)</font></b><br>
			Unloads a sprite loaded by any of the "load x sprite" functions. This removes the sprite from the screen and removes it from memory. It is a good idea to free sprites when you are completely done with them. Unlike <a href="#about-freeslice" class="ref">free slice</a>, this command only works on sprites, but it will still also free any children of the sprite it is freeing regardless of what kind of children they are. The only purpose of this command is additional error checking.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-freeslice" class="ref">free slice</a>, </li>
<li><a href="#about-loadherosprite" class="ref">load hero sprite</a></li>
</ul>
		</tt></p>
		<a name="about-clonesprite"></a>
		<p>
		<tt>
		<b><font color="yellow">clone sprite (handle)</font></b><br>
			Returns a new handle to a duplicate of a sprite. If you clone a sprite, remember that you will need to call <a href="#about-freesprite" class="ref">free sprite</a> on both the original and the clone.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-loadherosprite" class="ref">load hero sprite</a>, </li>
<li><a href="#about-freesprite" class="ref">free sprite</a></li>
</ul>
		</tt></p>
		<a name="about-putsprite"></a>
		<p>
		<tt>
		<b><font color="yellow">put sprite (handle, x, y)</font></b><br>
			Moves sprite <span class="param">handle</span> to position (<span class="param">x</span>, <span class="param">y</span>). This can only be used on sprites, use <a href="#about-putslice" class="ref">put slice</a> in general. <br>
			
			
		</tt></p>
		<a name="about-placesprite"></a>
		<p>
		<tt>
		
				<b><font color="yellow">place sprite</font></b><br>
				See <a href="#about-putsprite">put sprite</a>
			</tt></p>
		<a name="about-getspritetype"></a>
		<p>
		<tt>
		<b><font color="yellow">get sprite type (handle)</font></b><br>
			Gets the type of sprite slice <span class="param">handle</span>, or returns -1 if the slice is not a sprite. You can compare the result with the following constants:<ul>
<li>spritetype:hero</li>
<li>spritetype:small enemy</li>
<li>spritetype:medium enemy</li>
<li>spritetype:large enemy</li>
<li>spritetype:walkabout</li>
<li>spritetype:weapon</li>
<li>spritetype:attack</li>
<li>spritetype:border</li>
<li>spritetype:portrait</li>
</ul>
<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-getspritesetnumber" class="ref">get sprite set number</a>, </li>
<li>
<a href="#about-getspritepalette" class="ref">get sprite palette</a>, </li>
<li><a href="#about-getspriteframe" class="ref">get sprite frame</a></li>
</ul>
		</tt></p>
		<a name="about-getspritesetnumber"></a>
		<p>
		<tt>
		<b><font color="yellow">get sprite set number (handle)</font></b><br>
			Gets the number of the spriteset of a slice sprite <span class="param">handle</span>.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-getspritetype" class="ref">get sprite type</a>, </li>
<li>
<a href="#about-getspritepalette" class="ref">get sprite palette</a>, </li>
<li><a href="#about-getspriteframe" class="ref">get sprite frame</a></li>
</ul>
		</tt></p>
		<a name="about-setspritepalette"></a>
		<p>
		<tt>
		<b><font color="yellow">set sprite palette (handle, num)</font></b><br>
			Changes the palette of sprite <span class="param">handle</span> to be <span class="param">num</span>. If <span class="param">num</span> is -1 or omitted, the default palette for that sprite is loaded.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-getspritepalette" class="ref">get sprite palette</a></li></ul>
		</tt></p>
		<a name="about-getspritepalette"></a>
		<p>
		<tt>
		<b><font color="yellow">get sprite palette (handle)</font></b><br>
			Returns the palette of sprite <span class="param">handle</span>.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-getspritetype" class="ref">get sprite type</a>, </li>
<li>
<a href="#about-getspritesetnumber" class="ref">get sprite set number</a>, </li>
<li><a href="#about-getspriteframe" class="ref">get sprite frame</a></li>
</ul>
		</tt></p>
		<a name="about-setspriteframe"></a>
		<p>
		<tt>
		<b><font color="yellow">set sprite frame (handle, num)</font></b><br>
			Changes the frame of sprite <span class="param">handle</span> to be <span class="param">num</span>. If <span class="param">num</span> is less than 0, or greater than or equal to the number of frames, nothing will change.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-getspriteframe" class="ref">get sprite frame</a></li></ul>
		</tt></p>
		<a name="about-getspriteframe"></a>
		<p>
		<tt>
		<b><font color="yellow">get sprite frame (handle)</font></b><br>
			Returns the current frame number of sprite <span class="param">handle</span>.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-getspritetype" class="ref">get sprite type</a>, </li>
<li>
<a href="#about-getspritepalette" class="ref">get sprite palette</a>, </li>
<li><a href="#about-getspritesetnumber" class="ref">get sprite set number</a></li>
</ul>
		</tt></p>
		<a name="about-spriteframecount"></a>
		<p>
		<tt>
		<b><font color="yellow">sprite frame count (handle)</font></b><br>
			Returns the total number of available frames for a given sprite <span class="param">handle</span>.<br>
			
			
		</tt></p>
		<a name="about-spritelayer"></a>
		<p>
		<tt>
		<b><font color="yellow">sprite layer</font></b><br>
			Returns a slice handle for the layer which contains slices created with commands such as <a href="#about-loadherosprite" class="ref">load hero sprite</a>, <a href="#about-createrect" class="ref">create rect</a> and others. You can use this together with <a href="#about-firstchild" class="ref">first child</a> if you want to loop through all your slices without knowing their handles. This is the default parent of all new slices.<br>
			<pre>variable(sl)
sl := first child(sprite layer)
while (sl) do, begin
 if (slice is sprite(sl)) then, begin
   # do an operation on each sprite
 end
 sl := next sibling(sl)
end
</pre>
			
		</tt></p>
		<a name="about-horizflipsprite"></a>
		<p>
		<tt>
		<b><font color="yellow">horiz flip sprite (handle, flip)</font></b><br>
			Flips a sprite <span class="param">handle</span> horizontally. You can also unflip a previously flipped sprite using <span class="param">horiz flip sprite(handle, false)</span><br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-vertflipsprite" class="ref">vert flip sprite</a>, </li>
<li><a href="#about-spriteishorizflipped" class="ref">sprite is horiz flipped</a></li>
</ul>
		</tt></p>
		<a name="about-vertflipsprite"></a>
		<p>
		<tt>
		<b><font color="yellow">vert flip sprite (handle, flip)</font></b><br>
			Flips a sprite <span class="param">handle</span> vertically. You can also unflip a previously flipped sprite using <span class="param">vert flip sprite(handle, false)</span><br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-horizflipsprite" class="ref">horiz flip sprite</a>, </li>
<li><a href="#about-spriteisvertflipped" class="ref">sprite is vert flipped</a></li>
</ul>
		</tt></p>
		<a name="about-spriteishorizflipped"></a>
		<p>
		<tt>
		<b><font color="yellow">sprite is horiz flipped (handle)</font></b><br>
			Returns true if a sprite <span class="param">handle</span> is flipped horizontally, or false if it is not.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-horizflipsprite" class="ref">horiz flip sprite</a>, </li>
<li><a href="#about-spriteisvertflipped" class="ref">sprite is vert flipped</a></li>
</ul>
		</tt></p>
		<a name="about-spriteisvertflipped"></a>
		<p>
		<tt>
		<b><font color="yellow">sprite is vert flipped (handle)</font></b><br>
			Returns true if a sprite <span class="param">handle</span> is flipped vertically, or false if it is not.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-vertflipsprite" class="ref">vert flip sprite</a>, </li>
<li><a href="#about-spriteishorizflipped" class="ref">sprite is horiz flipped</a></li>
</ul>
		</tt></p>

		<hr>
	
		<a name="Slice%20Functions"></a>

		<font color="#f06060" size="4">Slice Functions</font>
		<p></p>
		
		<a name="about-loadslicecollection"></a>
		<p>
		<tt>
		<b><font color="yellow">load slice collection (id)</font></b><br>
			Loads a collection of slices that you have defined in the slice collection editor. The argument is the <span class="param">id</span> number of the collection. The return value is a handle to the container that holds the loaded collection.<br>
			
			
		</tt></p>
		<a name="about-lookupslice"></a>
		<p>
		<tt>
		<b><font color="yellow">lookup slice (lookup code, start slice)</font></b><br>
			Search for an important slice using a lookup code, and return a handle to it, or 0 if it is not found. User defined slice lookup codes are defined in the slice collection editor. You will find them as constants in your .hsi file with sli: prefixes. There are also some special slice lookup codes with names that start with sl: prefixes. You can optionally specify a slice for the <span class="param">lookup slice</span> command to start searching from, but if you do not, the whole slice tree will be searched.
				<div style="background-color:#EFF;" class="note">
<img src="http://gilgamesh.hamsterrepublic.com/wiki/ohrrpgce-images/0/01/Plotnote.png" alt="[Note]" class="icon">Although the user-defined slice lookup codes are always safe to use for any purpose, There is a lot of potential mischief that you can do with a handle to a special slice. If you do anything dubious, like reordering, reparenting, or god forbid freeing the special slice, don't expect your scripts to work in later versions of the engine, which are likely to impose stricter restrictions! You may parent your own slices to these special slices, but moving special slices around is definitely a bad idea.<br clear="all">
</div>
			You may <a href="#about-setparent" class="ref">set parent</a> a slice to a map layer to make it move with the camera just like heros and NPCs do.<br>
			<pre>
# this example loads a saved slice collection,
# and gets a handle to a slice in it that you
# have marked with a slice lookup code name.
variable(collection, sl)
collection := load slice collection(5)
sl := lookup slice(sli:my special slice, collection)
</pre>
<pre>
# this example gets a handle to the portrait of the currently displaying
# text box (if any) and allows you to manipulate it.
variable(portrait)
protrait = lookup slice(sl:textbox portrait)
if(portrait) then(
  replace portrait sprite(portrait, 5)
)

# This is a list of special slice lookup codes
lookup slice(sl:textbox text)
lookup slice(sl:textbox portrait)
lookup slice(sl:textbox choice0)
lookup slice(sl:textbox choice1)
lookup slice(sl:script layer)
lookup slice(sl:textbox layer)
lookup slice(sl:string layer)
lookup slice(sl:maproot)
lookup slice(sl:map layer0)
lookup slice(sl:map layer1)
lookup slice(sl:map layer2)
lookup slice(sl:map layer3)
lookup slice(sl:map layer4)
lookup slice(sl:map layer5)
lookup slice(sl:map layer6)
lookup slice(sl:map layer7)
</pre>
			
		</tt></p>
		<a name="about-createcontainer"></a>
		<p>
		<tt>
		<b><font color="yellow">create container (width, height)</font></b><br>
			Create a new container slice and return a handle to it. Containers are invisible slices used only for grouping other slices. You can optionaly specify a <span class="param">width</span> and <span class="param">height</span> for the container.<br>
			<pre>variable(holder, sl)
holder := create container(200,100)
sl := load hero sprite(0)
set parent(sl, holder)
set horiz align(sl, edge:left)
sl := load hero sprite(1)
set parent(sl, holder)
set horiz align(sl, edge:right)
</pre>
			
		</tt></p>
		<a name="about-createrect"></a>
		<p>
		<tt>
		<b><font color="yellow">create rect (width, height, style)</font></b><br>
			Create a new rectangle slice and return a handle to it. You can provide an optional <span class="param">width</span> and <span class="param">height</span>, and an optional <span class="param">style</span>. The style is text box style number from 0 to 14, or -1 for an unstyled box. The default is box style 0. Like all slice types, a rect slice can be used as a container for other slices with <a href="#about-setparent" class="ref">set parent</a><br>
			
			
		</tt></p>
		<a name="about-sliceisvalid"></a>
		<p>
		<tt>
		<b><font color="yellow">slice is valid (id)</font></b><br>
			Returns true if the given <span class="param">id</span> is a valid sprite handle. The main use of this command is to check whether a slice has been deleted, avoiding a script error.<br>
			
			
		</tt></p>
		<a name="about-sliceissprite"></a>
		<p>
		<tt>
		<b><font color="yellow">slice is sprite (handle)</font></b><br>
			Returns true if the given slice <span class="param">handle</span> is a sprite.<br>
			
			
		</tt></p>
		<a name="about-sliceiscontainer"></a>
		<p>
		<tt>
		<b><font color="yellow">slice is container (handle)</font></b><br>
			Returns true if the given slice <span class="param">handle</span> is a container.<br>
			
			
		</tt></p>
		<a name="about-sliceisrect"></a>
		<p>
		<tt>
		<b><font color="yellow">slice is rect (handle)</font></b><br>
			Returns true if the given slice <span class="param">handle</span> is a rect.<br>
			
			
		</tt></p>
		<a name="about-sliceistext"></a>
		<p>
		<tt>
		<b><font color="yellow">slice is text (handle)</font></b><br>
			Returns true if the given slice <span class="param">handle</span> is a text slice.<br>
			
			
		</tt></p>
		<a name="about-slicex"></a>
		<p>
		<tt>
		<b><font color="yellow">slice x (handle)</font></b><br>
			Returns the x position of any slice, for example a sprite. This position is relative to the slice's parent, and may depend upon the slice's Align settings.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-slicey" class="ref">slice y</a>, </li>
<li>
<a href="#about-setslicex" class="ref">set slice x</a>, </li>
<li><a href="#about-slicescreenx" class="ref">slice screen x</a></li>
</ul>
		</tt></p>
		<a name="about-slicey"></a>
		<p>
		<tt>
		<b><font color="yellow">slice y (handle)</font></b><br>
			Returns the y position of any slice, for example a sprite. This position is relative to the slice's parent, and may depend upon the slice's Align settings.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-slicex" class="ref">slice x</a>, </li>
<li>
<a href="#about-setslicey" class="ref">set slice y</a>, </li>
<li><a href="#about-slicescreeny" class="ref">slice screen y</a></li>
</ul>
		</tt></p>
		<a name="about-putslice"></a>
		<p>
		<tt>
		<b><font color="yellow">put slice (handle, X, Y)</font></b><br>
			Changes the position of any slice, for example a sprite. This position is relative to the slice's parent, and may depend upon the slice's Align settings.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-putsprite" class="ref">put sprite</a>, </li>
<li><a href="#about-putslicescreen" class="ref">put slice screen</a></li>
</ul>
		</tt></p>
		<a name="about-setslicex"></a>
		<p>
		<tt>
		<b><font color="yellow">set slice x (handle, X)</font></b><br>
			Changes the x position of any slice, for example a sprite. This position is relative to the slice's parent, and may depend upon the slice's Align settings.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-putslice" class="ref">put slice</a>, </li>
<li>
<a href="#about-slicex" class="ref">slice x</a>, </li>
<li><a href="#about-setslicey" class="ref">set slice y</a></li>
</ul>
		</tt></p>
		<a name="about-setslicey"></a>
		<p>
		<tt>
		<b><font color="yellow">set slice y (handle, Y)</font></b><br>
			Changes the y position of any slice, for example a sprite. This position is relative to the slice's parent, and may depend upon the slice's Align settings.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-putslice" class="ref">put slice</a>, </li>
<li>
<a href="#about-slicey" class="ref">slice y</a>, </li>
<li><a href="#about-setslicex" class="ref">set slice x</a></li>
</ul>
		</tt></p>
		<a name="about-slicescreenx"></a>
		<p>
		<tt>
		<b><font color="yellow">slice screen x (handle)</font></b><br>
			Returns the screen X position of any slice. This position is relative to the screen, so it is calculated based on not only the slice's X position, but also its alignment, and the position and size of its parents.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-slicescreeny" class="ref">slice screen y</a>, </li>
<li><a href="#about-slicex" class="ref">slice x</a></li>
</ul>
		</tt></p>
		<a name="about-slicescreeny"></a>
		<p>
		<tt>
		<b><font color="yellow">slice screen y (handle)</font></b><br>
			Returns the screen Y position of any slice. This position is relative to the screen, so it is calculated based on not only the slice's Y position, but also its alignment, and the position and size of its parents.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-slicescreenx" class="ref">slice screen x</a>, </li>
<li><a href="#about-slicey" class="ref">slice y</a></li>
</ul>
		</tt></p>
		<a name="about-putslicescreen"></a>
		<p>
		<tt>
		<b><font color="yellow">put slice screen (handle, x, y)</font></b><br>
			Change the screen position of any slice. The position of the slice relative to its parent will automatically be corrected. Alignment and anchor will not be changed. Note that this does not work when a slice is filling its parent.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-putslice" class="ref">put slice</a>, </li>
<li>
<a href="#about-slicescreenx" class="ref">slice screen x</a>, </li>
<li><a href="#about-setslicescreeny" class="ref">set slice screen y</a></li>
</ul>
		</tt></p>
		<a name="about-setslicescreenx"></a>
		<p>
		<tt>
		<b><font color="yellow">set slice screen x (handle, x)</font></b><br>
			Change the screen X position of any slice. The position of the slice relative to its parent will automatically be corrected. Alignment and anchor will not be changed. Note that this does not work when a slice is filling its parent.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-putslicescreen" class="ref">put slice screen</a>, </li>
<li>
<a href="#about-slicescreenx" class="ref">slice screen x</a>, </li>
<li><a href="#about-setslicescreeny" class="ref">set slice screen y</a></li>
</ul>
		</tt></p>
		<a name="about-setslicescreeny"></a>
		<p>
		<tt>
		<b><font color="yellow">set slice screen y (handle, y)</font></b><br>
			Change the screen Y position of any slice. The position of the slice relative to its parent will automatically be corrected. Alignment and anchor will not be changed. Note that this does not work when a slice is filling its parent.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-putslicescreen" class="ref">put slice screen</a>, </li>
<li>
<a href="#about-slicescreeny" class="ref">slice screen y</a>, </li>
<li><a href="#about-setslicescreenx" class="ref">set slice screen x</a></li>
</ul>
		</tt></p>
		<a name="about-slicewidth"></a>
		<p>
		<tt>
		<b><font color="yellow">slice width (handle)</font></b><br>
			Returns the width of any slice, for example a sprite.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-sliceheight" class="ref">slice height</a>, </li>
<li><a href="#about-setslicewidth" class="ref">set slice width</a></li>
</ul>
		</tt></p>
		<a name="about-sliceheight"></a>
		<p>
		<tt>
		<b><font color="yellow">slice height (handle)</font></b><br>
			Returns the height of any slice, for example a sprite.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-slicewidth" class="ref">slice width</a>, </li>
<li><a href="#about-setsliceheight" class="ref">set slice height</a></li>
</ul>
		</tt></p>
		<a name="about-setslicewidth"></a>
		<p>
		<tt>
		<b><font color="yellow">set slice width (handle, width)</font></b><br>
			Changes the width of a container slice or a rect slice. This command does not work on sprite slices because they have a fixed width.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-slicewidth" class="ref">slice width</a>, </li>
<li><a href="#about-setsliceheight" class="ref">set slice height</a></li>
</ul>
		</tt></p>
		<a name="about-setsliceheight"></a>
		<p>
		<tt>
		<b><font color="yellow">set slice height (handle, height)</font></b><br>
			Changes the height of a container slice or a rect slice. This command does not work on sprite slices because they have a fixed height.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-sliceheight" class="ref">slice height</a>, </li>
<li><a href="#about-setslicewidth" class="ref">set slice width</a></li>
</ul>
		</tt></p>
		<a name="about-sliceedgex"></a>
		<p>
		<tt>
		<b><font color="yellow">slice edge x (handle, edge)</font></b><br>
			Returns the x position of a particular edge of a slice. use the constants <span class="param">edge:left</span>, <span class="param">edge:center</span>, <span class="param">edge:right</span><br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-sliceedgey" class="ref">slice edge y</a></li></ul>
		</tt></p>
		<a name="about-sliceedgey"></a>
		<p>
		<tt>
		<b><font color="yellow">slice edge y (handle, edge)</font></b><br>
			Returns the y position of a particular edge of a slice. use the constants <span class="param">edge:top</span>, <span class="param">edge:middle</span>, <span class="param">edge:bottom</span><br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-sliceedgex" class="ref">slice edge x</a></li></ul>
		</tt></p>
		<a name="about-sethorizalign"></a>
		<p>
		<tt>
		<b><font color="yellow">set horiz align (handle, edge)</font></b><br>
			Changes the horizontal alignment of any slice relative to its parent. The available edges are <span class="param">edge:left</span>, <span class="param">edge:center</span>, <span class="param">edge:right</span>. The default value is edge:left.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-setvertalign" class="ref">set vert align</a>, </li>
<li>
<a href="#about-sethorizanchor" class="ref">set horiz anchor</a>, </li>
<li><a href="#about-setvertanchor" class="ref">set vert anchor</a></li>
</ul>
		</tt></p>
		<a name="about-setvertalign"></a>
		<p>
		<tt>
		<b><font color="yellow">set vert align (handle, edge)</font></b><br>
			Changes the vertical alignment of any slice relative to its parent. The available edges are <span class="param">edge:top</span>, <span class="param">edge:middle</span>, <span class="param">edge:bottom</span>. The default value is edge:top.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-sethorizalign" class="ref">set horiz align</a>, </li>
<li>
<a href="#about-sethorizanchor" class="ref">set horiz anchor</a>, </li>
<li><a href="#about-setvertanchor" class="ref">set vert anchor</a></li>
</ul>
		</tt></p>
		<a name="about-sethorizanchor"></a>
		<p>
		<tt>
		<b><font color="yellow">set horiz anchor (handle, edge)</font></b><br>
			Changes the horizontal anchor of any slice. The available anchor values are <span class="param">edge:left</span>, <span class="param">edge:center</span>, <span class="param">edge:right</span>. The default value is edge:left.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-setvertalign" class="ref">set vert align</a>, </li>
<li>
<a href="#about-sethorizalign" class="ref">set horiz align</a>, </li>
<li><a href="#about-setvertanchor" class="ref">set vert anchor</a></li>
</ul>
		</tt></p>
		<a name="about-setvertanchor"></a>
		<p>
		<tt>
		<b><font color="yellow">set vert anchor (handle, edge)</font></b><br>
			Changes the vertical anchor of any slice. The available anchor values are <span class="param">edge:top</span>, <span class="param">edge:middle</span>, <span class="param">edge:bottom</span>. The default value is edge:top.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-setvertalign" class="ref">set vert align</a>, </li>
<li>
<a href="#about-sethorizalign" class="ref">set horiz align</a>, </li>
<li><a href="#about-sethorizanchor" class="ref">set horiz anchor</a></li>
</ul>
		</tt></p>
		<a name="about-realignslice"></a>
		<p>
		<tt>
		<b><font color="yellow">realign slice (handle, horiz align, vert align, horiz anchor, vert anchor)</font></b><br>
			A quick way to set the alignment and optionally the anchor of a slice with a single command. If you leave out the arguments for the anchor then only the alignment will be changed.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-sethorizalign" class="ref">set horiz align</a>, </li>
<li>
<a href="#about-setvertalign" class="ref">set vert align</a>, </li>
<li>
<a href="#about-sethorizanchor" class="ref">set horiz anchor</a>, </li>
<li><a href="#about-setvertanchor" class="ref">set vert anchor</a></li>
</ul>
		</tt></p>
		<a name="about-centerslice"></a>
		<p>
		<tt>
		<b><font color="yellow">center slice (handle)</font></b><br>
			A quick way to center the alignment and the anchor of a slice with a single command.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-sethorizalign" class="ref">set horiz align</a>, </li>
<li>
<a href="#about-setvertalign" class="ref">set vert align</a>, </li>
<li>
<a href="#about-sethorizanchor" class="ref">set horiz anchor</a>, </li>
<li><a href="#about-setvertanchor" class="ref">set vert anchor</a></li>
</ul>
		</tt></p>
		<a name="about-setslicevisible"></a>
		<p>
		<tt>
		<b><font color="yellow">set slice visible (handle, vis)</font></b><br>
			Makes slice <span class="param">handle</span> invisible or visible, according to <span class="param">vis</span>. Slices are automatically visible when you load them, but you can make them invisible with <span class="param">set slice visible(handle, off)</span>. If the slice has children, they will become invisible too.<br>
			
			
		</tt></p>
		<a name="about-setspritevisible"></a>
		<p>
		<tt>
		
				<b><font color="yellow">set sprite visible</font></b><br>
				See <a href="#about-setslicevisible">set slice visible</a>
			</tt></p>
		<a name="about-getslicevisible"></a>
		<p>
		<tt>
		<b><font color="yellow">get slice visible (handle)</font></b><br>
			Returns the visibilty setting for slice <span class="param">handle</span>.  This is true for visible, or false for invisible. Note that this only tells you if the slice is set to be invisible, it will not tell you if the slice is invisible for some other reason, such as if it is offscreen, or if it is the child of an invisible parent or grandparent.<br>
			
			
		</tt></p>
		<a name="about-setsliceclipping"></a>
		<p>
		<tt>
		<b><font color="yellow">set slice clipping (handle, clip)</font></b><br>
			Changes whether or not a slice will clip its children if they overflow its edges. The first argument is a slice <span class="param">handle</span>. The second argument is true to make the slice clip, or false to allow its children to overflow. (newly created slices do not clip by default)<br>
			
			
		</tt></p>
		<a name="about-getsliceclipping"></a>
		<p>
		<tt>
		<b><font color="yellow">get slice clipping (handle)</font></b><br>
			Returns true if the slice <span class="param">handle</span> is set to clip drawing its children, or false if child slices are allowed to be drawn overflowing its edges.<br>
			
			
		</tt></p>
		<a name="about-freeslice"></a>
		<p>
		<tt>
		<b><font color="yellow">free slice (handle)</font></b><br>
			Unloads a slice and any child slices. This works on any type of slice. This removes the slice from the screen and removes it from memory. You should free your slices after you are completely done with them.<br>
			<pre>
script, simple example, begin
  variable(sl)
  sl := load hero sprite(0)
  wait(20)
  free slice(sl)
end

script, example with children, begin
  variable(box, sl)
  
  # create a box
  box := create rect(100, 60)
  
  # center a hero as a child of the box
  sl := load hero sprite(0)
  set parent(sl, box)
  center slice(sl)
  
  wait(20)
  
  # when you free the box, the hero will be freed too
  free slice(box)

  # The sprite is gone now, so if you use the handle that used to point
  # to it, you will get an error message in your g_debug.txt file
  position sprite(sl, 25, 25)
end

script, wrong way to free in a loop, begin
  # this loop is the WRONG way to remove all sprites that show frame number 1
  # because removing a slice inside a loop will interfere with the "next sibling"
  # command causing the loop to end early
  variable(sl)
  sl := first child(sprite layer)
  while(sl) do, begin
    if(slice is sprite(sl)) then, begin
      if(get sprite frame(sl) == 1) then(free slice(sl))
    end
    sl := next sibling(sl)
  end
end

script, right way to free in a loop, begin
  # this loop is the right way to remove all sprites that show frame number 1
  # by waiting until AFTER the "next sibling" command, we can free the slice
  # without ending the loop early
  variable(sl, deleteme)
  sl := first child(sprite layer)
  while(sl) do, begin
    deleteme := 0
    if(slice is sprite(sl)) then, begin
      if(get sprite frame(sl) == 1) then(deleteme := sl)
    end
    sl := next sibling(sl)
    if(deleteme) then(free slice(deleteme))
  end
end
</pre>
			<br>See also: <ul class="seealso">
<li>
<a href="#about-freesprite" class="ref">free sprite</a>, </li>
<li><a href="#about-freeslicechildren" class="ref">free slice children</a></li>
</ul>
		</tt></p>
		<a name="about-freeslicechildren"></a>
		<p>
		<tt>
		<b><font color="yellow">free slice children (handle)</font></b><br>
			Frees all the children of a slice, but not the slice itself. See <a href="#about-freeslice" class="ref">free slice</a> for more details.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-freeslice" class="ref">free slice</a></li></ul>
		</tt></p>
		<a name="about-slicechild"></a>
		<p>
		<tt>
		<b><font color="yellow">slice child (handle, number)</font></b><br>
			Returns a handle for the nth child of a slice, counting from 0. Returns <span class="param">false</span> if <span class="param">number</span> is too large (<span class="param">last child(handle)</span> is equivalent to <span class="param">slice child(handle, child count(handle) -- 1)</span>). Note that you will need to use <a href="#about-firstchild" class="ref">first child</a> and <a href="#about-nextsibling" class="ref">next sibling</a> to iterate over the children of a slice, rather than this command, when you are moving the children around.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-childcount" class="ref">child count</a>, </li>
<li>
<a href="#about-parentslice" class="ref">parent slice</a>, </li>
<li>
<a href="#about-firstchild" class="ref">first child</a>, </li>
<li><a href="#about-lastchild" class="ref">last child</a></li>
</ul>
		</tt></p>
		<a name="about-firstchild"></a>
		<p>
		<tt>
		<b><font color="yellow">first child(handle)</font></b><br>
			Returns a slice handle for the first child of a given slice <span class="param">handle</span>. Returns <span class="param">false</span> if the slice has no children. You can use this to loop through all the children of a slice.<br>
			<pre>variable(sl)
sl := first child(sprite layer)
while (sl) do, begin
 if (slice is sprite(sl)) then, begin
   # do an operation on each sprite
 end
 sl := next sibling(sl)
end
</pre>
			<br>See also: <ul class="seealso">
<li>
<a href="#about-slicechild" class="ref">slice child</a>, </li>
<li>
<a href="#about-firstspritechild" class="ref">first sprite child</a>, </li>
<li>
<a href="#about-firstrectchild" class="ref">first rect child</a>, </li>
<li>
<a href="#about-firstcontainerchild" class="ref">first container child</a>, </li>
<li>
<a href="#about-lastchild" class="ref">last child</a>, </li>
<li><a href="#about-childcount" class="ref">child count</a></li>
</ul>
		</tt></p>
		<a name="about-lastchild"></a>
		<p>
		<tt>
		<b><font color="yellow">last child(handle)</font></b><br>
			Returns a slice handle for the last child of a given slice <span class="param">handle</span>. Returns <span class="param">false</span> if the slice has no children.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-slicechild" class="ref">slice child</a>, </li>
<li>
<a href="#about-firstchild" class="ref">first child</a>, </li>
<li><a href="#about-childcount" class="ref">child count</a></li>
</ul>
		</tt></p>
		<a name="about-nextsibling"></a>
		<p>
		<tt>
		<b><font color="yellow">next sibling(handle)</font></b><br>
			Returns a slice handle for the next sibling of a given slice <span class="param">handle</span>. Returns <span class="param">false</span> if the given slice is the last sibling of its parent. This is useful when looping through slices.<br>
			<pre>variable(sl)
sl := first child(sprite layer)
while (sl) do, begin
 if (slice is sprite(sl)) then, begin
   # do an operation on each sprite
 end
 sl := next sibling(sl)
end
</pre>
			<br>See also: <ul class="seealso">
<li>
<a href="#about-previoussibling" class="ref">previous sibling</a>, </li>
<li>
<a href="#about-nextspritesibling" class="ref">next sprite sibling</a>, </li>
<li>
<a href="#about-nextrectsibling" class="ref">next rect sibling</a>, </li>
<li>
<a href="#about-nextcontainersibling" class="ref">next container sibling</a>, </li>
<li>
<a href="#about-slicechild" class="ref">slice child</a>, </li>
<li>
<a href="#about-freeslice" class="ref">free slice</a>, </li>
<li>
<a href="#about-slicetofront" class="ref">slice to front</a>, </li>
<li>
<a href="#about-slicetoback" class="ref">slice to back</a>, </li>
<li>
<a href="#about-movesliceabove" class="ref">move slice above</a>, </li>
<li><a href="#about-moveslicebelow" class="ref">move slice below</a></li>
</ul>
		</tt></p>
		<a name="about-previoussibling"></a>
		<p>
		<tt>
		<b><font color="yellow">previous sibling(handle)</font></b><br>
			Returns a slice handle for the previous sibling of a given slice <span class="param">handle</span>, the inverse of <a href="#about-nextsibling" class="ref">next sibling</a> . Returns <span class="param">false</span> if the given slice is the first sibling of its parent. This is useful when looping through slices.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-nextsibling" class="ref">next sibling</a>, </li>
<li>
<a href="#about-slicechild" class="ref">slice child</a>, </li>
<li>
<a href="#about-freeslice" class="ref">free slice</a>, </li>
<li>
<a href="#about-slicetofront" class="ref">slice to front</a>, </li>
<li>
<a href="#about-slicetoback" class="ref">slice to back</a>, </li>
<li>
<a href="#about-movesliceabove" class="ref">move slice above</a>, </li>
<li><a href="#about-moveslicebelow" class="ref">move slice below</a></li>
</ul>
		</tt></p>
		<a name="about-firstspritechild"></a>
		<p>
		<tt>
		<b><font color="yellow">first sprite child(handle)</font></b><br>
			Returns a slice handle for the first sprite child of a given slice <span class="param">handle</span>. Returns <span class="param">false</span> if the slice has no sprite children. Children of other types will be ignored. This is useful when looping through sprites.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-firstchild" class="ref">first child</a>, </li>
<li><a href="#about-nextspritesibling" class="ref">next sprite sibling</a></li>
</ul>
		</tt></p>
		<a name="about-nextspritesibling"></a>
		<p>
		<tt>
		<b><font color="yellow">next sprite sibling(handle)</font></b><br>
			Returns a slice handle for the next sprite sibling of a given slice <span class="param">handle</span>. Returns <span class="param">false</span> if the given slice is the last sprite sibling of its parent. Slices of other types will be ignored. This is useful when looping through sprites.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-firstspritechild" class="ref">first sprite child</a>, </li>
<li><a href="#about-nextsibling" class="ref">next sibling</a></li>
</ul>
		</tt></p>
		<a name="about-firstrectchild"></a>
		<p>
		<tt>
		<b><font color="yellow">first rect child(handle)</font></b><br>
			Returns a slice handle for the first rect child of a given slice <span class="param">handle</span>. Returns <span class="param">false</span> if the slice has no rect children. Children of other types will be ignored. This is useful when looping through rects.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-firstchild" class="ref">first child</a>, </li>
<li><a href="#about-nextrectsibling" class="ref">next rect sibling</a></li>
</ul>
		</tt></p>
		<a name="about-nextrectsibling"></a>
		<p>
		<tt>
		<b><font color="yellow">next rect sibling(handle)</font></b><br>
			Returns a slice handle for the next rect sibling of a given slice <span class="param">handle</span>. Returns <span class="param">false</span> if the given slice is the last rect sibling of its parent. Slices of other types will be ignored. This is useful when looping through rects.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-firstrectchild" class="ref">first rect child</a>, </li>
<li><a href="#about-nextsibling" class="ref">next sibling</a></li>
</ul>
		</tt></p>
		<a name="about-firstcontainerchild"></a>
		<p>
		<tt>
		<b><font color="yellow">first container child(handle)</font></b><br>
			Returns a slice handle for the first container child of a given slice <span class="param">handle</span>. Returns <span class="param">false</span> if the slice has no container children. Children of other types will be ignored. This is useful when looping through containers.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-firstchild" class="ref">first child</a>, </li>
<li><a href="#about-nextcontainersibling" class="ref">next container sibling</a></li>
</ul>
		</tt></p>
		<a name="about-nextcontainersibling"></a>
		<p>
		<tt>
		<b><font color="yellow">next container sibling(handle)</font></b><br>
			Returns a slice handle for the next container sibling of a given slice <span class="param">handle</span>. Returns <span class="param">false</span> if the given slice is the last container sibling of its parent. Slices of other types will be ignored. This is useful when looping through containers.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-firstcontainerchild" class="ref">first container child</a>, </li>
<li><a href="#about-nextsibling" class="ref">next sibling</a></li>
</ul>
		</tt></p>
		<a name="about-parentslice"></a>
		<p>
		<tt>
		<b><font color="yellow">parent slice (handle)</font></b><br>
			Returns a slice handle for the parent of slice <span class="param">handle</span>, or 0 if <span class="param">handle</span> is the root slice.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-setparent" class="ref">set parent</a>, </li>
<li>
<a href="#about-checkparentage" class="ref">check parentage</a>, </li>
<li><a href="#about-slicechild" class="ref">slice child</a></li>
</ul>
		</tt></p>
		<a name="about-setparent"></a>
		<p>
		<tt>
		<b><font color="yellow">set parent (handle, parent handle)</font></b><br>
			Moves a slice <span class="param">handle</span> to a different <span class="param">parent handle</span>. A slice is connected to its parent, and is positioned based on its parent's position. When you move a slice to a new parent, it will become that parent's last child, meaning it will be drawn on top of any other children that the parent already had.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-parentslice" class="ref">parent slice</a>, </li>
<li>
<a href="#about-checkparentage" class="ref">check parentage</a>, </li>
<li><a href="#about-slicechild" class="ref">slice child</a></li>
</ul>
		</tt></p>
		<a name="about-checkparentage"></a>
		<p>
		<tt>
		<b><font color="yellow">check parentage (handle, parent handle)</font></b><br>
			Checks to see if <span class="param">handle</span> is a child (or grandchild, or great-grandchild, etc...) of <span class="param">parent handle</span>. Returns <a href="#about-booleanconstants" class="ref">true</a> or <a href="#about-booleanconstants" class="ref">false</a>.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-parentslice" class="ref">parent slice</a></li></ul>
		</tt></p>
		<a name="about-childcount"></a>
		<p>
		<tt>
		<b><font color="yellow">child count (handle)</font></b><br>
			Returns the number of children that slice <span class="param">handle</span> has.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-slicechild" class="ref">slice child</a>, </li>
<li><a href="#about-firstchild" class="ref">first child</a></li>
</ul>
		</tt></p>
		<a name="about-slicetofront"></a>
		<p>
		<tt>
		<b><font color="yellow">slice to front (handle)</font></b><br>
			Sort a slice <span class="param">handle</span> so that it is drawn in front of other slices with the same parent. This is done by moving it to the end of its parent's child list. If you use this command inside a loop that iterates through slices using <a href="#about-nextsibling" class="ref">next sibling</a> be careful not to accidentally create an endless loop.<br>
			<pre>
script, simple example, begin
  # As long as you are not looping with the "next sibling" command
  # then "slice to front" is safe and easy to use.
  variable(sl)
  sl := first child(sprite layer)
  slice to front(sl)
end

script, dangerous sorting, begin
  # this is an example of the WRONG way to move all rect slices to the
  # front in a loop. Because moving a slice to the front adds it to the
  # end of the list, the loop will go on forever.
  variable(sl)
  sl := first child(sprite layer)
  while(sl) do, begin
    if(slice is rect(sl)) then, begin
      slice to front(sl)
    end
    sl := next sibling(sl)
  end
end

script, safe sorting, begin
  # This is an example of the right way to move all rect slices to the
  # front in a loop. By remembering which slice was last before the
  # loop starts (or by using "previous sibling") it is safe to move slices
  # to the end of the sibling list.
  # We also ensure the rects stay in the same relative order by writing
  # the loop so that we move the last slice to front if it is a rect.
  variable(sl, last, prev)
  last := last child(sprite layer)
  sl := first child(sprite layer)
  while(sl &amp;&amp; sl &lt;&gt; last) do, begin
    prev := sl
    sl := next sibling(sl)			    
    if(slice is rect(prev)) then(slice to front(prev))
  end
end

script, easier safe sorting, begin
  # If you need to sort slices in a loop, you might find it easier
  # to avoid the "slice to front" command and use "set sort order"
  # and "sort children" instead.
  variable(sl)
  sl := first child(sprite layer)
  while(sl) do, begin
    if(slice is rect(sl)) then, begin
      set sort order(sl, 1)
    end
    sl := next sibling(sl)
  end
  sort children(sprite layer)
end
</pre>
			<br>See also: <ul class="seealso">
<li>
<a href="#about-slicetoback" class="ref">slice to back</a>, </li>
<li><a href="#about-movesliceabove" class="ref">move slice above</a></li>
</ul>
		</tt></p>
		<a name="about-slicetoback"></a>
		<p>
		<tt>
		<b><font color="yellow">slice to back (handle)</font></b><br>
			Sort a slice <span class="param">handle</span> so it will be drawn behind other slices with the same parent. If you use this command inside a loop, be careful not to accidentally create an endless loop. Moving a slice to the back also moves it to the first position of its parent's sibling list.<br>
			<pre>
script, simple example, begin
  # As long as you are not looping with the "next sibling" command
  # then "slice to back" is safe and easy to use.
  variable(sl)
  sl := load hero sprite(0)
  slice to back(sl)
end

script, dangerous sorting, begin
  # This is an example of the WRONG way to move all rect slices to the
  # back in a loop. Because moving a slice to the back moves it to the
  # top of the list, the loop will be restarted each time
  variable(sl)
  sl := first child(sprite layer)
  while(sl) do, begin
    if(slice is rect(sl)) then, begin
      slice to back(sl)
    end
    sl := next sibling(sl)
  end
end

script, safe but incorrect sorting, begin
  # This is an example of a safe way to move all the rect slices to the
  # back. HOWEVER the order in which all the rects will be drawn will
  # be reversed! That might be alright for your need.
  # By moving the slice AFTER using the "next sibling" command we avoid 
  # re-starting the loop.
  variable(sl, moveme)
  sl := first child(sprite layer)
  while(sl) do, begin
    moveme := 0
    if(slice is rect(sl)) then, begin
      moveme := sl
    end
    sl := next sibling(sl)
    if(moveme) then(slice to back(moveme))
  end
end

script, correct sorting, begin
  # This is an example of one right way to move all rect slices to the
  # back with a loop and preservw relative ordering between the rects.
  # Note that we ensure the rects stay in the same relative order by writing
  # the loop so that we also move the 'first' slice to back if it is a rect.
  variable(sl, first, prev)
  first := first child(sprite layer)
  sl := last child(sprite layer)
  while(sl &amp;&amp; sl &lt;&gt; first) do, begin
    prev := sl
    sl := previous sibling(sl)			    
    if(slice is rect(prev)) then(slice to back(prev))
  end
end

script, easier safe sorting, begin
  # If you need to sort slices in a loop, you might find it easier
  # to avoid the "slice to back" command and use "set sort order"
  # and "sort children" instead.
  variable(sl)
  sl := first child(sprite layer)
  while(sl) do, begin
    if(slice is rect(sl)) then, begin
      set sort order(sl, -1)
    end
    sl := next sibling(sl)
  end
  sort children(sprite layer)
end
</pre>
			<br>See also: <ul class="seealso">
<li>
<a href="#about-slicetofront" class="ref">slice to front</a>, </li>
<li><a href="#about-moveslicebelow" class="ref">move slice below</a></li>
</ul>
		</tt></p>
		<a name="about-movesliceabove"></a>
		<p>
		<tt>
		<b><font color="yellow">move slice above (handle, above what handle)</font></b><br>
			Given a slice <span class="param">handle</span>, move it so that it is the next sibling of another slice given by <span class="param">above what handle</span> (changing its parent if necessary). This will cause it to be drawn immediately after that slice.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-moveslicebelow" class="ref">move slice below</a>, </li>
<li>
<a href="#about-slicetofront" class="ref">slice to front</a>, </li>
<li>
<a href="#about-slicetoback" class="ref">slice to back</a>, </li>
<li><a href="#about-nextsibling" class="ref">next sibling</a></li>
</ul>
		</tt></p>
		<a name="about-moveslicebelow"></a>
		<p>
		<tt>
		<b><font color="yellow">move slice below (handle, below what handle)</font></b><br>
			Given a slice <span class="param">handle</span>, move it so that it is the previous sibling of another slice given by <span class="param">below what handle</span> (changing its parent if necessary). This will cause it to be drawn immediately before that slice.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-movesliceabove" class="ref">move slice above</a>, </li>
<li>
<a href="#about-slicetofront" class="ref">slice to front</a>, </li>
<li>
<a href="#about-slicetoback" class="ref">slice to back</a>, </li>
<li><a href="#about-previoussibling" class="ref">previous sibling</a></li>
</ul>
		</tt></p>
		<a name="about-ysortchildren"></a>
		<p>
		<tt>
		<b><font color="yellow">Y sort children (handle)</font></b><br>
			Given a slice <span class="param">handle</span>, sort all of its children according to their Y position. This means that sibling slices lower on the screen will be drawn over siblings higher on the screen.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-sortchildren" class="ref">sort children</a></li></ul>
		</tt></p>
		<a name="about-setsortorder"></a>
		<p>
		<tt>
		<b><font color="yellow">set sort order (handle, order)</font></b><br>
			Assign a sort order value to a slice <span class="param">handle</span>. This can be any arbitrary number that will be used to sort the slice relative to its sibling slices the next time that <a href="#about-sortchildren" class="ref">sort children</a> is called. Give a slice a low number to sort it to the back or a high number to sort it to the front. This means it functions like (or can be used as) a z-depth. If you give two sibling slices the same sort order number they will be sorted to the same depth, and they will remain in their original order in relation to one another.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-getsortorder" class="ref">get sort order</a></li></ul>
		</tt></p>
		<a name="about-getsortorder"></a>
		<p>
		<tt>
		<b><font color="yellow">get sort order (handle)</font></b><br>
			Retrieve the sort order value previously set on a slice <span class="param">handle</span> with <a href="#about-getsortorder" class="ref">get sort order</a>. Note that calling <a href="#about-sortchildren" class="ref">sort children</a> by default resets all the sort order values to zero, unless <a href="#about-booleanconstants" class="ref">false</a> is passed as <span class="param">wipe</span>.<br>
			
			
		</tt></p>
		<a name="about-sortchildren"></a>
		<p>
		<tt>
		<b><font color="yellow">sort children (handle, wipe)</font></b><br>
			Given a slice <span class="param">handle</span>, sort all of its children according to the sort order that you previously set with the <a href="#about-setsortorder" class="ref">set sort order</a> command. If no sort order values have been set then no changes will be made to the order of the slices. <span class="param">wipe</span> is an optional argument, defaulting to <a href="#about-booleanconstants" class="ref">true</a>, which specifies whether to zero out the sort order value for each slice after they have been sorted. This zeroing out behaviour is intended to let you use temporary sort values to perform some sorting operation on sibling slices (see especially the examples to <a href="#about-slicetofront" class="ref">slice to front</a> and <a href="#about-slicetoback" class="ref">slice to back</a>).<br>
			<pre>
plotscript, reverse Y sort, begin
  variable(sl)
  sl := first child(sprite layer)
  while(sl) then, begin
    set sort order(sl, slice y(sl) * -1)
    sl := next sibling(sl)
  end
  sort children(sprite layer)
end
</pre>
			<br>See also: <ul class="seealso">
<li>
<a href="#about-setsortorder" class="ref">set sort order</a>, </li>
<li>
<a href="#about-getsortorder" class="ref">get sort order</a>, </li>
<li><a href="#about-ysortchildren" class="ref">Y sort children</a></li>
</ul>
		</tt></p>
		<a name="about-setsliceextra"></a>
		<p>
		<tt>
		<b><font color="yellow">set slice extra (handle, extra, value)</font></b><br>
			Sets one of three extra data variables that every slice has, on the slice <span class="param">handle</span>. <span class="param">extra</span> is a number from 0 to 2 which indicates which extra data field to write  (you may also use the constants <span class="param">extra 0</span>, <span class="param">extra 1</span>, <span class="param">extra 2</span>). The extra data has no meaning to the slice, it is only for use by scripts.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-getsliceextra" class="ref">get slice extra</a></li></ul>
		</tt></p>
		<a name="about-getsliceextra"></a>
		<p>
		<tt>
		<b><font color="yellow">get slice extra (handle, extra)</font></b><br>
			Retrieve an extra data value previously set on a slice <span class="param">handle</span> with <a href="#about-setsliceextra" class="ref">set slice extra</a>. <span class="param">extra</span> is a number from 0 to 2 which indicates which extra data field to read.<br>
			
			
		</tt></p>
		<a name="about-getrectstyle"></a>
		<p>
		<tt>
		<b><font color="yellow">get rect style (handle)</font></b><br>
			Given a rect slice <span class="param">handle</span>, return the style it is using. This will be a number from 0 to 14 representing a text box style, or a -1 if the rect is not using a standard style.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-setrectstyle" class="ref">set rect style</a></li></ul>
		</tt></p>
		<a name="about-setrectstyle"></a>
		<p>
		<tt>
		<b><font color="yellow">set rect style (handle, style)</font></b><br>
			Given a rect slice <span class="param">handle</span>, change the style it uses. The <span class="param">style</span> should be a number from 0 to 14 representing a text box style.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-getrectstyle" class="ref">get rect style</a></li></ul>
		</tt></p>
		<a name="about-getrectbgcol"></a>
		<p>
		<tt>
		<b><font color="yellow">get rect bgcol (handle)</font></b><br>
			Given a rect slice <span class="param">handle</span>, return the background color it is using. This will be a number from 0 to 255 representing a color from the master palette.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-setrectbgcol" class="ref">set rect bgcol</a>, </li>
<li><a href="#about-getrectfgcol" class="ref">get rect fgcol</a></li>
</ul>
		</tt></p>
		<a name="about-setrectbgcol"></a>
		<p>
		<tt>
		<b><font color="yellow">set rect bgcol (handle, color)</font></b><br>
			Given a rect slice <span class="param">handle</span>, change the background color it uses. The <span class="param">color</span> should be a number from 0 to 255 representing a color from the master palette.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-getrectbgcol" class="ref">get rect bgcol</a>, </li>
<li><a href="#about-setrectfgcol" class="ref">set rect fgcol</a></li>
</ul>
		</tt></p>
		<a name="about-getrectfgcol"></a>
		<p>
		<tt>
		<b><font color="yellow">get rect fgcol (handle)</font></b><br>
			Given a rect slice <span class="param">handle</span>, return the foreground color it uses for its simple border. This only matters when the rect has no graphical border, or when the graphical border allows the simple border to show through. This will be a number from 0 to 255 representing a color from the master palette.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-setrectfgcol" class="ref">set rect fgcol</a>, </li>
<li><a href="#about-getrectbgcol" class="ref">get rect bgcol</a></li>
</ul>
		</tt></p>
		<a name="about-setrectfgcol"></a>
		<p>
		<tt>
		<b><font color="yellow">set rect fgcol (handle, color)</font></b><br>
			Given a rect slice <span class="param">handle</span>, change the foreground color it uses for its simple border. This only matters when the rect has no graphical border, or when the graphical border allows the simple border to show through. The <span class="param">color</span> should be a number from 0 to 255 representing a color from the master palette.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-getrectfgcol" class="ref">get rect fgcol</a>, </li>
<li><a href="#about-setrectbgcol" class="ref">set rect bgcol</a></li>
</ul>
		</tt></p>
		<a name="about-getrectborder"></a>
		<p>
		<tt>
		<b><font color="yellow">get rect border (handle)</font></b><br>
			Given a rect slice <span class="param">handle</span>, return the graphical border it uses. This will be a number from 0 to 14 representing a text box border style, or <span class="param">border:line</span> for the old simple line border only, or <span class="param">border:none</span> for no border at all.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-setrectborder" class="ref">set rect border</a></li></ul>
		</tt></p>
		<a name="about-setrectborder"></a>
		<p>
		<tt>
		<b><font color="yellow">set rect border (handle, border)</font></b><br>
			Given a rect slice <span class="param">handle</span>, change the graphical border it uses. The <span class="param">border</span> should be a number from 0 to 14 representing a text box border style, or <span class="param">border:line</span> for the old simple line border only, or <span class="param">border:none</span> for no border at all.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-getrectborder" class="ref">get rect border</a></li></ul>
		</tt></p>
		<a name="about-getrecttrans"></a>
		<p>
		<tt>
		<b><font color="yellow">get rect trans (handle)</font></b><br>
			Given a rect slice <span class="param">handle</span>, returns one of: the constant <span class="param">trans:fuzzy</span> if it is drawn semi-transparent, <span class="param">trans:hollow</span> if it is fully transparent, or <span class="param">trans:solid</span> (equal to <a href="#about-booleanconstants" class="ref">false</a>) if it is drawn solid.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-setrecttrans" class="ref">set rect trans</a></li></ul>
		</tt></p>
		<a name="about-setrecttrans"></a>
		<p>
		<tt>
		<b><font color="yellow">set rect trans (handle, transparency setting)</font></b><br>
			Given a rect slice <span class="param">handle</span>, change how transparently it is drawn. For <span class="param">transparency setting</span>, pass in one of the constants <span class="param">trans:fuzzy</span> for semi-transparency (checkered), <span class="param">trans:hollow</span> for fully transparent (the border drawn only), or <span class="param">trans:solid</span> (equal to <a href="#about-booleanconstants" class="ref">false</a>) for solid.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-getrecttrans" class="ref">get rect trans</a></li></ul>
		</tt></p>
		<a name="about-createtext"></a>
		<p>
		<tt>
		<b><font color="yellow">create text</font></b><br>
			Creates a new blank text slice and returns a handle to it. A text slice holds a string of text, but it can be positioned and handled just like any other slice. Use the <a href="#about-setslicetext" class="ref">set slice text</a> command to copy a string into the text slice.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-setslicetext" class="ref">set slice text</a></li></ul>
		</tt></p>
		<a name="about-setslicetext"></a>
		<p>
		<tt>
		<b><font color="yellow">set slice text(handle, string id)</font></b><br>
			Copy a string specified by <span class="param">string id</span> into the text slice specified by <span class="param">handle</span>.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-createtext" class="ref">create text</a></li></ul>
		</tt></p>
		<a name="about-gettextcolor"></a>
		<p>
		<tt>
		<b><font color="yellow">get text color(handle)</font></b><br>
			Given a text slice <span class="param">handle</span>, returns the current color of the text.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-settextcolor" class="ref">set text color</a></li></ul>
		</tt></p>
		<a name="about-settextcolor"></a>
		<p>
		<tt>
		<b><font color="yellow">set text color(handle, color)</font></b><br>
			Given a text slice <span class="param">handle</span>, change <span class="param">color</span> used to display the text.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-gettextcolor" class="ref">get text color</a></li></ul>
		</tt></p>
		<a name="about-gettextbg"></a>
		<p>
		<tt>
		<b><font color="yellow">get text bg(handle)</font></b><br>
			Given a text slice <span class="param">handle</span>, returns the current background color of the text. Note that this only matters if the text slice is not displaying an outline.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-gettextcolor" class="ref">get text color</a>, </li>
<li><a href="#about-settextbg" class="ref">set text bg</a></li>
</ul>
		</tt></p>
		<a name="about-settextbg"></a>
		<p>
		<tt>
		<b><font color="yellow">set text bg(handle, color)</font></b><br>
			Given a text slice <span class="param">handle</span>, change the background <span class="param">color</span> used to display the text. This only matters if the text slice is set to not use an outline.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-gettextbg" class="ref">get text bg</a>, </li>
<li><a href="#about-settextcolor" class="ref">set text color</a></li>
</ul>
		</tt></p>
		<a name="about-getoutline"></a>
		<p>
		<tt>
		<b><font color="yellow">get outline(handle)</font></b><br>
			Given a text slice <span class="param">handle</span>, <span class="param">true</span> if the text slice is configured to display an outline, or <span class="param">false</span> if it is configured not to display and outline.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-setoutline" class="ref">set outline</a></li></ul>
		</tt></p>
		<a name="about-setoutline"></a>
		<p>
		<tt>
		<b><font color="yellow">set outline(handle, outline)</font></b><br>
			Given a text slice <span class="param">handle</span>, change whether or not it will be displayed with an outline. If the second argument is omitted or <span class="param">true</span>, change the slice to show an outline, if the second argument is <span class="param">false</span> change the slice to show no outline.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-getoutline" class="ref">get outline</a></li></ul>
		</tt></p>
		<a name="about-getwrap"></a>
		<p>
		<tt>
		<b><font color="yellow">get wrap(handle)</font></b><br>
			Given a text slice <span class="param">handle</span>, <span class="param">true</span> if the text slice is configured to wrap, or <span class="param">false</span> if it is configured not to wrap.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-setwrap" class="ref">set wrap</a></li></ul>
		</tt></p>
		<a name="about-setwrap"></a>
		<p>
		<tt>
		<b><font color="yellow">set wrap(handle, wrap)</font></b><br>
			Given a text slice <span class="param">handle</span>, change whether or not it will wrap. If the second argument is omitted or <span class="param">true</span>, change the slice to wrap-mode, if the second argument is <span class="param">false</span> change the slice into non-wrapping mode.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-getwrap" class="ref">get wrap</a></li></ul>
		</tt></p>
		<a name="about-creategrid"></a>
		<p>
		<tt>
		<b><font color="yellow">create grid (width, height, rows, columns)</font></b><br>
			Creates a new grid slice, and returns an handle to it. Grid slices are special containers that automatically arrange their children into rows and columns. No manual child positioning is required. The first two arguments are the width and height of the whole grid. The next two arguments are the number of rows and columns that should appear in the grid. If rows or columns are left out, the grid with be a boring 1x1.<br>
			
			
		</tt></p>
		<a name="about-sliceisgrid"></a>
		<p>
		<tt>
		<b><font color="yellow">slice is grid (handle)</font></b><br>
			Return true if the <span class="param">handle</span> is a grid slice, or false if it is any other type of slice.<br>
			
			
		</tt></p>
		<a name="about-setgridcolumns"></a>
		<p>
		<tt>
		<b><font color="yellow">set grid columns (handle, columns)</font></b><br>
			Changes the number of columns in a grid slice. Child slices will be automatically repositioned.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-getgridcolumns" class="ref">get grid columns</a>, </li>
<li>
<a href="#about-setgridrows" class="ref">set grid rows</a>, </li>
<li><a href="#about-getgridrows" class="ref">get grid rows</a></li>
</ul>
		</tt></p>
		<a name="about-getgridcolumns"></a>
		<p>
		<tt>
		<b><font color="yellow">get grid columns (handle)</font></b><br>
			Returns the number of columns in a grid slice.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-setgridcolumns" class="ref">set grid columns</a>, </li>
<li>
<a href="#about-setgridrows" class="ref">set grid rows</a>, </li>
<li><a href="#about-getgridrows" class="ref">get grid rows</a></li>
</ul>
		</tt></p>
		<a name="about-setgridrows"></a>
		<p>
		<tt>
		<b><font color="yellow">set grid rows (handle, rows)</font></b><br>
			Changes the number of rows in a grid slice. Child slices will be automatically repositioned.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-setgridcolumns" class="ref">set grid columns</a>, </li>
<li>
<a href="#about-getgridcolumns" class="ref">get grid columns</a>, </li>
<li><a href="#about-getgridrows" class="ref">get grid rows</a></li>
</ul>
		</tt></p>
		<a name="about-getgridrows"></a>
		<p>
		<tt>
		<b><font color="yellow">get grid rows (handle)</font></b><br>
			Returns the number of rows in a grid slice.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-setgridcolumns" class="ref">set grid columns</a>, </li>
<li>
<a href="#about-getgridcolumns" class="ref">get grid columns</a>, </li>
<li><a href="#about-setgridrows" class="ref">set grid rows</a></li>
</ul>
		</tt></p>
		<a name="about-showgrid"></a>
		<p>
		<tt>
		<b><font color="yellow">show grid (handle, shown)</font></b><br>
			Grid slices are normally invisible, but they can optionally display gridlines. This command takes a grid slice <span class="param">handle</span> and a true or false value. This command has no effect on the visibility of the grid's children. Don't confuse this command with <a href="#about-setslicevisible" class="ref">set slice visible</a>.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-gridisshown" class="ref">grid is shown</a></li></ul>
		</tt></p>
		<a name="about-gridisshown"></a>
		<p>
		<tt>
		<b><font color="yellow">grid is shown (handle)</font></b><br>
			This command takes a grid slice <span class="param">handle</span> and returns true if the grid is showing its optional grid lines. If the grid is in its normal invisible state, this command returns false. Don't confuse this command with <a href="#about-getslicevisible" class="ref">get slice visible</a>.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-gridisshown" class="ref">grid is shown</a></li></ul>
		</tt></p>
		<a name="about-slicecollidepoint"></a>
		<p>
		<tt>
		<b><font color="yellow">slice collide point (handle, x, y)</font></b><br>
			Return true if a given <span class="param">x</span> and <span class="param">y</span> coordinate point collides with a slice <span class="param">handle</span>'s screen position. <span class="param">x</span> and <span class="param">y</span> are pixel coordinates relative to the screen, such as the ones returned by <a href="#about-mousepixelx" class="ref">mouse pixel X</a> and <a href="#about-mousepixely" class="ref">mouse pixel Y</a><br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-slicecollide" class="ref">slice collide</a></li></ul>
		</tt></p>
		<a name="about-slicecollide"></a>
		<p>
		<tt>
		<b><font color="yellow">slice collide (handle1, handle2)</font></b><br>
			Given a pair of slice handles, return true if they collide with one another. Parent/child relationships have nothing to do with this test; it does not matter if the slices are related.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-slicecollidepoint" class="ref">slice collide point</a>, </li>
<li><a href="#about-slicecontains" class="ref">slice contains</a></li>
</ul>
		</tt></p>
		<a name="about-slicecontains"></a>
		<p>
		<tt>
		<b><font color="yellow">slice contains (handle1, handle2)</font></b><br>
			Return true if the screen position of slice <span class="param">handle2</span> is completely inside slice <span class="param">handle1</span>. Parent/child relationships have nothing to do with this test; it does not matter if the slices are related.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-slicecollide" class="ref">slice collide</a></li></ul>
		</tt></p>
		<a name="about-sliceatpixel"></a>
		<p>
		<tt>
		<b><font color="yellow">slice at pixel (parent, x, y, number, check descendants)</font></b><br>
			Searches through all the descendants of <span class="param">parent</span> for slices containing the given <span class="param">x</span>, <span class="param">y</span> pixel screen position. To search all your slices, you can normally use <a href="#about-spritelayer" class="ref">sprite layer</a> as <span class="param">parent</span>. <span class="param">number</span> is an optional argument indicating which slice to return if there is more than one at that point; the bottom most one (returned by default) is number 0. slice at pixel returns 0 if you pass too high a <span class="param">number</span>. If you pass <a href="#about-getcount" class="ref">get count</a> as <span class="param">number</span> the number of slices at that pixel is returned instead. <span class="param">check descendants</span> is an optional argument defaulting to true. If false, then only <span class="param">parent</span>'s children will be checked, not all its descendants. This command never returns Special slices, such as the sprite layer slice.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-slicecollidepoint" class="ref">slice collide point</a>, </li>
<li><a href="#about-findcollidingslice" class="ref">find colliding slice</a></li>
</ul>
		</tt></p>
		<a name="about-findcollidingslice"></a>
		<p>
		<tt>
		<b><font color="yellow">find colliding slice (parent, slice, number, check descendants)</font></b><br>
			Searches through all the descendants of <span class="param">parent</span> for slices colliding with the given <span class="param">slice</span> (by screen position). To search all your slices, you can normally use <a href="#about-spritelayer" class="ref">sprite layer</a> as <span class="param">parent</span>. <span class="param">number</span> is an optional argument indicating which slice to return if there is more than one at that point; the bottom most one (returned by default) is number 0. slice at pixel returns 0 if you pass too high a <span class="param">number</span>. If you pass <a href="#about-getcount" class="ref">get count</a> as <span class="param">number</span> the number of slices at that pixel is returned instead. <span class="param">check descendants</span> is an optional argument defaulting to true. If false, then only <span class="param">parent</span>'s children will be checked, not all its descendants. This command never returns Special slices, such as the sprite layer slice, and ignores collisions with the children of <span class="param">slice</span>.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-sliceatpixel" class="ref">slice at pixel</a>, </li>
<li><a href="#about-slicecollide" class="ref">slice collide</a></li>
</ul>
		</tt></p>
		<a name="about-clampslice"></a>
		<p>
		<tt>
		<b><font color="yellow">clamp slice (handle1, handle2)</font></b><br>
			Try to move the slice <span class="param">handle1</span> so that its screen position will be inside the screen position of slice <span class="param">handle2</span>. The size of the slices will not be changed. It does not matter if the slices are related.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-slicecontains" class="ref">slice contains</a></li></ul>
		</tt></p>
		<a name="about-setpadding"></a>
		<p>
		<tt>
		<b><font color="yellow">set padding (handle, pixels)</font></b><br>
			Sets the padding value in pixels for all the edges of a slice <span class="param">handle</span>. This is a positive number to move children attached to the edges towards the center of the slice, or a negative number to move attached children further from the center.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-settoppadding" class="ref">set top padding</a>, </li>
<li>
<a href="#about-setleftpadding" class="ref">set left padding</a>, </li>
<li>
<a href="#about-setrightpadding" class="ref">set right padding</a>, </li>
<li><a href="#about-setbottompadding" class="ref">set bottom padding</a></li>
</ul>
		</tt></p>
		<a name="about-gettoppadding"></a>
		<p>
		<tt>
		<b><font color="yellow">get top padding (handle)</font></b><br>
			Get the padding value in pixels for the top edge of a slice <span class="param">handle</span>. This is a positive number to move children attached to this edge towards the center of the slice, or a negative number to move attached children further from the center.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-settoppadding" class="ref">set top padding</a>, </li>
<li>
<a href="#about-getleftpadding" class="ref">get left padding</a>, </li>
<li>
<a href="#about-getrightpadding" class="ref">get right padding</a>, </li>
<li><a href="#about-getbottompadding" class="ref">get bottom padding</a></li>
</ul>
		</tt></p>
		<a name="about-settoppadding"></a>
		<p>
		<tt>
		<b><font color="yellow">set top padding (handle, pixels)</font></b><br>
			Set the padding value in pixels for the top edge of a slice <span class="param">handle</span>. This is a positive number to move children attached to this edge towards the center of the slice, or a negative number to move attached children further from the center.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-gettoppadding" class="ref">get top padding</a>, </li>
<li>
<a href="#about-setleftpadding" class="ref">set left padding</a>, </li>
<li>
<a href="#about-setrightpadding" class="ref">set right padding</a>, </li>
<li><a href="#about-setbottompadding" class="ref">set bottom padding</a></li>
</ul>
		</tt></p>
		<a name="about-getleftpadding"></a>
		<p>
		<tt>
		<b><font color="yellow">get left padding (handle)</font></b><br>
			Get the padding value in pixels for the left edge of a slice <span class="param">handle</span>. This is a positive number to move children attached to this edge towards the center of the slice, or a negative number to move attached children further from the center.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-setleftpadding" class="ref">set left padding</a>, </li>
<li>
<a href="#about-gettoppadding" class="ref">get top padding</a>, </li>
<li>
<a href="#about-getrightpadding" class="ref">get right padding</a>, </li>
<li><a href="#about-getbottompadding" class="ref">get bottom padding</a></li>
</ul>
		</tt></p>
		<a name="about-setleftpadding"></a>
		<p>
		<tt>
		<b><font color="yellow">set left padding (handle, pixels)</font></b><br>
			Set the padding value in pixels for the left edge of a slice <span class="param">handle</span>. This is a positive number to move children attached to this edge towards the center of the slice, or a negative number to move attached children further from the center.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-getleftpadding" class="ref">get left padding</a>, </li>
<li>
<a href="#about-settoppadding" class="ref">set top padding</a>, </li>
<li>
<a href="#about-setrightpadding" class="ref">set right padding</a>, </li>
<li><a href="#about-setbottompadding" class="ref">set bottom padding</a></li>
</ul>
		</tt></p>
		<a name="about-getrightpadding"></a>
		<p>
		<tt>
		<b><font color="yellow">get right padding (handle)</font></b><br>
			Get the padding value in pixels for the right edge of a slice <span class="param">handle</span>. This is a positive number to move children attached to this edge towards the center of the slice, or a negative number to move attached children further from the center.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-setrightpadding" class="ref">set right padding</a>, </li>
<li>
<a href="#about-gettoppadding" class="ref">get top padding</a>, </li>
<li>
<a href="#about-getleftpadding" class="ref">get left padding</a>, </li>
<li><a href="#about-getbottompadding" class="ref">get bottom padding</a></li>
</ul>
		</tt></p>
		<a name="about-setrightpadding"></a>
		<p>
		<tt>
		<b><font color="yellow">set right padding (handle, pixels)</font></b><br>
			Set the padding value in pixels for the right edge of a slice <span class="param">handle</span>. This is a positive number to move children attached to this edge towards the center of the slice, or a negative number to move attached children further from the center.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-getrightpadding" class="ref">get right padding</a>, </li>
<li>
<a href="#about-settoppadding" class="ref">set top padding</a>, </li>
<li>
<a href="#about-setleftpadding" class="ref">set left padding</a>, </li>
<li><a href="#about-setbottompadding" class="ref">set bottom padding</a></li>
</ul>
		</tt></p>
		<a name="about-getbottompadding"></a>
		<p>
		<tt>
		<b><font color="yellow">get bottom padding (handle)</font></b><br>
			Get the padding value in pixels for the bottom edge of a slice <span class="param">handle</span>. This is a positive number to move children attached to this edge towards the center of the slice, or a negative number to move attached children further from the center.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-setbottompadding" class="ref">set bottom padding</a>, </li>
<li>
<a href="#about-gettoppadding" class="ref">get top padding</a>, </li>
<li>
<a href="#about-getleftpadding" class="ref">get left padding</a>, </li>
<li><a href="#about-getrightpadding" class="ref">get right padding</a></li>
</ul>
		</tt></p>
		<a name="about-setbottompadding"></a>
		<p>
		<tt>
		<b><font color="yellow">set bottom padding (handle, pixels)</font></b><br>
			Set the padding value in pixels for the bottom edge of a slice <span class="param">handle</span>. This is a positive number to move children attached to this edge towards the center of the slice, or a negative number to move attached children further from the center.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-getbottompadding" class="ref">get bottom padding</a>, </li>
<li>
<a href="#about-settoppadding" class="ref">set top padding</a>, </li>
<li>
<a href="#about-setleftpadding" class="ref">set left padding</a>, </li>
<li><a href="#about-setrightpadding" class="ref">set right padding</a></li>
</ul>
		</tt></p>
		<a name="about-fillparent"></a>
		<p>
		<tt>
		<b><font color="yellow">fill parent (handle, true_or_false)</font></b><br>
			Make a slice <span class="param">handle</span> automatically fill its parent. This will change the position and size of the slice so that it completely fills the parent (minus the parent's padding). You can also disable filling with this command by passing <span class="param">false</span> as the second argument, such as <span class="param">fill parent(handle, false)</span>. If a slice is filling its parent, then any commands which modify the width or height of the slice will fail. You should resize the parent instead. This command only works on rects and containers. It will not work on sprites because they cannot change size.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-isfillingparent" class="ref">is filling parent</a></li></ul>
		</tt></p>
		<a name="about-isfillingparent"></a>
		<p>
		<tt>
		<b><font color="yellow">is filling parent (handle)</font></b><br>
			Returns true if a slice <span class="param">handle</span> is set to automatically fill its parent, or false if it is not. This command always returns false for sprite slice handles because sprites cannot be set to fill parent.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-fillparent" class="ref">fill parent</a></li></ul>
		</tt></p>

		<hr>
	
		<a name="Misc%20Functions"></a>

		<font color="#f06060" size="4">Misc Functions</font>
		<p></p>
		
		<a name="about-random"></a>
		<p>
		<tt>
		<b><font color="yellow">random (lownumber, highnumber)</font></b><br>
			Returns a random number in the range of the two numbers. The returned value will be greater than or equal to the first number, and less than or equal to the second number<br>
			
			
		</tt></p>
		<a name="about-seedrandom"></a>
		<p>
		<tt>
		<b><font color="yellow">seed random (new seed)</font></b><br>
			Reseeds the random number generator. If called with no argument, this will reseed the random number generator to a new random sequence. If you pass in a number, the random number generator will be seeded with that number, allowing for repeatable random sequences.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-random" class="ref">random</a></li></ul>
		</tt></p>
		<a name="about-iteminslot"></a>
		<p>
		<tt>
		<b><font color="yellow">item in slot (slot)</font></b><br>
			Return a the item ID number at a specific slot in your inventory. If the inventory slot is empty, it will return -1. Slots are numbered from 0 to <a href="#about-getinventorysize" class="ref">get inventory size</a>-1.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-setiteminslot" class="ref">set item in slot</a>, </li>
<li>
<a href="#about-itemcountinslot" class="ref">item count in slot</a>, </li>
<li>
<a href="#about-setitemcountinslot" class="ref">set item count in slot</a>, </li>
<li><a href="#about-getinventorysize" class="ref">get inventory size</a></li>
</ul>
		</tt></p>
		<a name="about-setiteminslot"></a>
		<p>
		<tt>
		<b><font color="yellow">set item in slot (slot, item)</font></b><br>
			Change the item ID number at a specific slot in your inventory. The <span class="param">slot</span> argument is the position in your inventory screen, and the <span class="param">item</span> argument is the item ID number, or one of the <span class="param">item:name</span> constants defined in your .hsi file. If you want to erase and item slot, use -1 as the item ID<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-iteminslot" class="ref">item in slot</a>, </li>
<li>
<a href="#about-itemcountinslot" class="ref">item count in slot</a>, </li>
<li>
<a href="#about-setitemcountinslot" class="ref">set item count in slot</a>, </li>
<li><a href="#about-getinventorysize" class="ref">get inventory size</a></li>
</ul>
		</tt></p>
		<a name="about-itemcountinslot"></a>
		<p>
		<tt>
		<b><font color="yellow">item count in slot (slot)</font></b><br>
			Return a the count of items at a specific slot in your inventory, or 0 if that slot is empty. Slots are numbered from 0 to <a href="#about-getinventorysize" class="ref">get inventory size</a>-1.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-iteminslot" class="ref">item in slot</a>, </li>
<li>
<a href="#about-setiteminslot" class="ref">set item in slot</a>, </li>
<li>
<a href="#about-setitemcountinslot" class="ref">set item count in slot</a>, </li>
<li><a href="#about-getinventorysize" class="ref">get inventory size</a></li>
</ul>
		</tt></p>
		<a name="about-setitemcountinslot"></a>
		<p>
		<tt>
		<b><font color="yellow">set item count in slot (slot, count)</font></b><br>
			Change the count of items at a specific slot in your inventory. The <span class="param">count</span> argument is the new number of items from 1 to 99, or 0 if you want to delete any items currently in the slot. If the slot is empty, this command will fail.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-iteminslot" class="ref">item in slot</a>, </li>
<li>
<a href="#about-setiteminslot" class="ref">set item in slot</a>, </li>
<li>
<a href="#about-setitemcountinslot" class="ref">set item count in slot</a>, </li>
<li><a href="#about-getinventorysize" class="ref">get inventory size</a></li>
</ul>
		</tt></p>
		<a name="about-inventory"></a>
		<p>
		<tt>
		<b><font color="yellow">inventory (item)</font></b><br>
			Returns a count of how many of the specified item are in your inventory. If you do not have the item, it returns <a href="#about-numericconstants" class="ref">zero</a> or <a href="#about-booleanconstants" class="ref">false</a>. You can refer to the item by number, or you can use the constants defined in your HSI file, which are in the form of item:name<br>
			
			
		</tt></p>
		<a name="about-getinventorysize"></a>
		<p>
		<tt>
		<b><font color="yellow">get inventory size</font></b><br>
			Returns the number of inventory slots.<br>
			
			
		</tt></p>
		<a name="about-setinventorysize"></a>
		<p>
		<tt>
		<b><font color="yellow">set inventory size (new size)</font></b><br>
			Changes the number of inventory slots that are available. Use the constant <span class="param">inv:max</span> to restore the maximum value. The number you give will be rounded up to the nearest multiple of 3.<br>
			
			
		</tt></p>
		<a name="about-leader"></a>
		<p>
		<tt>
		<b><font color="yellow">leader</font></b><br>
			Returns the hero ID number (as given in the Edit Hero Stats menu) of the current caterpillar party leader.<br>
			
			
		</tt></p>
		<a name="about-herox"></a>
		<p>
		<tt>
		<b><font color="yellow">hero X (who)</font></b><br>
			Returns the specified hero's X position in tiles. Note that a hero's tile is the tile its top left corner is on.<br>
			
			
		</tt></p>
		<a name="about-heroy"></a>
		<p>
		<tt>
		<b><font color="yellow">hero Y (who)</font></b><br>
			Returns the specified hero's Y position in tiles. Note that a hero's tile is the tile its top left corner is on.<br>
			
			
		</tt></p>
		<a name="about-npcx"></a>
		<p>
		<tt>
		<b><font color="yellow">NPC X (who)</font></b><br>
			Returns the specified NPC's X position in tiles. Note that an NPC's tile is the tile its top left corner is on.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-npcatspot" class="ref">NPC at spot</a></li></ul>
		</tt></p>
		<a name="about-npcy"></a>
		<p>
		<tt>
		<b><font color="yellow">NPC Y (who)</font></b><br>
			Returns the specified NPC's Y position in tiles. Note that an NPC's tile is the tile its top left corner is on.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-npcatspot" class="ref">NPC at spot</a></li></ul>
		</tt></p>
		<a name="about-herodirection"></a>
		<p>
		<tt>
		<b><font color="yellow">hero direction (who)</font></b><br>
			Returns the specified hero's direction.<br>
			
			
		</tt></p>
		<a name="about-heroframe"></a>
		<p>
		<tt>
		<b><font color="yellow">hero frame (who)</font></b><br>
			Returns the walking frame (0 or 1) of the specified hero.<br>
			
			
		</tt></p>
		<a name="about-getherospeed"></a>
		<p>
		<tt>
		<b><font color="yellow">get hero speed (who)</font></b><br>
			Returns the walking speed of the specified hero, in pixels per tick.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-setherospeed" class="ref">set hero speed</a></li></ul>
		</tt></p>
		<a name="about-npcdirection"></a>
		<p>
		<tt>
		<b><font color="yellow">NPC direction (who)</font></b><br>
			Returns the specified NPC's direction.<br>
			
			
		</tt></p>
		<a name="about-npcframe"></a>
		<p>
		<tt>
		<b><font color="yellow">NPC frame (who)</font></b><br>
			Returns the walking frame (0 or 1) of the specified NPC.<br>
			
			
		</tt></p>
		<a name="about-npcextra"></a>
		<p>
		<tt>
		<b><font color="yellow">NPC extra (who, which)</font></b><br>
			Returns the npc instance-specific extra data field requested in <span class="param">which</span>, a number from 0 to 2. You may use the constants <span class="param">extra 0</span>, <span class="param">extra 1</span> and <span class="param">extra 2</span> to refer to them. If you use an NPC ID for <span class="param">who</span>, the first instance's data will be used.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-setnpcextra" class="ref">set NPC extra</a></li></ul>
		</tt></p>
		<a name="about-setnpcextra"></a>
		<p>
		<tt>
		<b><font color="yellow">set NPC extra (who, which, value)</font></b><br>
			Sets the npc instance-specific extra data field requested in <span class="param">which</span>, a number from 0 to 2. You may use the constants <span class="param">extra 0</span>, <span class="param">extra 1</span> and <span class="param">extra 2</span> to refer to them.  If you use an NPC ID for <span class="param">who</span>, the first instance's data will be used.<div style="background-color:#EFF;" class="note">
<img src="http://gilgamesh.hamsterrepublic.com/wiki/ohrrpgce-images/0/01/Plotnote.png" alt="[Note]" class="icon">Unlike other NPC instance data, the extra data for NPCs on the current map is not saved in save games! However, it is saved in mapstate NPC saves (see <a href="#about-savemapstate" class="ref">save map state</a>)<br clear="all">
</div>
<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-npcextra" class="ref">NPC extra</a></li></ul>
		</tt></p>
		<a name="about-roominactiveparty"></a>
		<p>
		<tt>
		<b><font color="yellow">room in active party</font></b><br>
			A function that returns the number of available spaces in your active party. It will return <a href="#about-numericconstants" class="ref">zero</a> or <a href="#about-booleanconstants" class="ref">false</a> if there is no room.<br>
			
			
		</tt></p>
		<a name="about-currentmap"></a>
		<p>
		<tt>
		<b><font color="yellow">current map</font></b><br>
			Returns the number of the current map.<br>
			
			
		</tt></p>
		<a name="about-mapwidth"></a>
		<p>
		<tt>
		<b><font color="yellow">map width</font></b><br>
			Returns the width of the map in tiles.<br>
			
			
		</tt></p>
		<a name="about-mapheight"></a>
		<p>
		<tt>
		<b><font color="yellow">map height</font></b><br>
			Returns the height of the map in tiles.<br>
			
			
		</tt></p>
		<a name="about-getmaptileset"></a>
		<p>
		<tt>
		<b><font color="yellow">get map tileset</font></b><br>
			Returns the ID number of the default tileset for the map. <a href="#about-loadtileset" class="ref">load tileset</a> does not affect the value returned by this function, but <a href="#about-changetileset" class="ref">change tileset</a> does. Use <a href="#about-layertileset" class="ref">layer tileset</a> instead to find the actual currently in-use tileset(s).<br>
			
			
		</tt></p>
		<a name="about-layertileset"></a>
		<p>
		<tt>
		<b><font color="yellow">layer tileset (layer)</font></b><br>
			Returns the ID number of the tileset that a certain tilemap layer is currently using.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-changetileset" class="ref">change tileset</a>, </li>
<li><a href="#about-getmaptileset" class="ref">get map tileset</a></li>
</ul>
		</tt></p>
		<a name="about-daysofplay"></a>
		<p>
		<tt>
		<b><font color="yellow">days of play</font></b><br>
			Returns the number of days that the game has been played<br>
			
			
		</tt></p>
		<a name="about-setdaysofplay"></a>
		<p>
		<tt>
		<b><font color="yellow">set days of play (days)</font></b><br>
			Sets the number of days that the game has been "played" to <span class="param">days</span>, as long as <span class="param">days</span> is greater than 0. Useful if there are times that shouldn't count towards the play time, or for penalizing bad players &gt;:)<br>
			
			
		</tt></p>
		<a name="about-hoursofplay"></a>
		<p>
		<tt>
		<b><font color="yellow">hours of play</font></b><br>
			Returns the number of hours that the game has been played, 0 to 23<br>
			
			
		</tt></p>
		<a name="about-sethoursofplay"></a>
		<p>
		<tt>
		<b><font color="yellow">set hours of play (hours)</font></b><br>
			Sets the number of hours that the game has been "played" to <span class="param">hours</span>, as long as <span class="param">hours</span> is within the 0-23 range.<br>
			
			
		</tt></p>
		<a name="about-minutesofplay"></a>
		<p>
		<tt>
		<b><font color="yellow">minutes of play</font></b><br>
			Returns the number of minutes that the game has been played, 0 to 59<br>
			
			
		</tt></p>
		<a name="about-setminutesofplay"></a>
		<p>
		<tt>
		<b><font color="yellow">set minutes of play (min)</font></b><br>
			Sets the number of minutes that the game has been "played" to <span class="param">min</span>, as long as <span class="param">min</span> is within the 0-59 range.<br>
			
			
		</tt></p>
		<a name="about-secondsofplay"></a>
		<p>
		<tt>
		<b><font color="yellow">seconds of play</font></b><br>
			Returns the number of seconds that the game has been played, 0 to 59<br>
			
			
		</tt></p>
		<a name="about-setsecondssofplay"></a>
		<p>
		<tt>
		<b><font color="yellow">set seconds of play (sec)</font></b><br>
			Sets the number of seconds that the game has been "played" to <span class="param">sec</span>, as long as <span class="param">sec</span> is within the 0-59 range.<br>
			
			
		</tt></p>
		<a name="about-systemyear"></a>
		<p>
		<tt>
		<b><font color="yellow">system year</font></b><br>
			Returns the current real-world year<br>
			
			
		</tt></p>
		<a name="about-systemmonth"></a>
		<p>
		<tt>
		<b><font color="yellow">system month</font></b><br>
			Returns the current real-world month, 1 to 12<br>
			
			
		</tt></p>
		<a name="about-systemday"></a>
		<p>
		<tt>
		<b><font color="yellow">system day</font></b><br>
			Returns the current real-world day, 1 to 31<br>
			
			
		</tt></p>
		<a name="about-systemhour"></a>
		<p>
		<tt>
		<b><font color="yellow">system hour</font></b><br>
			Returns the current real-world hour, 0 to 23<br>
			
			
		</tt></p>
		<a name="about-systemminute"></a>
		<p>
		<tt>
		<b><font color="yellow">system minute</font></b><br>
			Returns the current real-world minute, 0 to 59<br>
			
			
		</tt></p>
		<a name="about-systemsecond"></a>
		<p>
		<tt>
		<b><font color="yellow">system second</font></b><br>
			Returns the current real-world second, 0 to 59<br>
			
			
		</tt></p>
		<a name="about-keyispressed"></a>
		<p>
		<tt>
		<b><font color="yellow">key is pressed (scancode)</font></b><br>
			Returns <a href="#about-booleanconstants" class="ref">true</a> if the keyboard key with the specified scancode is being pressed (either held down or pressed since last tick), or <a href="#about-booleanconstants" class="ref">false</a> if it is not. The argument is a scancode, NOT the <a href="#about-keyconstants" class="ref">up key</a>, <a href="#about-keyconstants" class="ref">down key</a>, etc used with <a href="#about-waitforkey" class="ref">wait for key</a>. I have provided an extra include file, SCANCODE.HSI that you can use to define friendly names for all the scancodes.<br>
			    Keyboard scan codes:
          <ul>
<li>00</li>
<li>01 ESC</li>
<li>02 1</li>
<li>03 2</li>
<li>04 3</li>
<li>05 4</li>
<li>06 5</li>
<li>07 6</li>
<li>08 7</li>
<li>09 8</li>
<li>10 9</li>
<li>11 0</li>
<li>12 - _</li>
<li>13 = +</li>
<li>14 BACKSPACE</li>
<li>15 TAB</li>
<li>16 Q</li>
<li>17 W</li>
<li>18 E</li>
<li>19 R</li>
<li>20 T</li>
<li>21 Y</li>
<li>22 U</li>
<li>23 I</li>
<li>24 O</li>
<li>25 P</li>
<li>26 [ {</li>
<li>27 ] }</li>
<li>28 ENTER</li>
<li>29 CTRL</li>
<li>30 A</li>
<li>31 S</li>
<li>32 D</li>
<li>33 F</li>
<li>34 G</li>
<li>35 H</li>
<li>36 J</li>
<li>37 K</li>
<li>38 L</li>
<li>39 ; :</li>
<li>40 " '</li>
<li>41 ` ~</li>
<li>42 LEFT SHIFT</li>
<li>43 \ |</li>
<li>44 Z</li>
<li>45 X</li>
<li>46 C</li>
<li>47 V</li>
<li>48 B</li>
<li>49 N</li>
<li>50 M</li>
<li>51 , &lt;</li>
<li>52 . &gt;</li>
<li>53 / ?</li>
<li>54 RIGHT SHIFT</li>
<li>55 PRINT SCREEN *</li>
<li>56 ALT</li>
<li>57 SPACE</li>
<li>58 CAPSLOCK</li>
<li>59 F1</li>
<li>60 F2</li>
<li>61 F3</li>
<li>62 F4</li>
<li>63 F5</li>
<li>64 F6</li>
<li>65 F7</li>
<li>66 F8</li>
<li>67 F9</li>
<li>68 F10</li>
<li>69 NUMLOCK</li>
<li>70 SCROLL LOCK</li>
<li>71 HOME 7</li>
<li>72 UP 8</li>
<li>73 PAGEUP 9</li>
<li>74 KEYPAD -</li>
<li>75 LEFT 4</li>
<li>76 KEYPAD 5</li>
<li>77 RIGHT 6</li>
<li>78 KEYPAD +</li>
<li>79 END 1</li>
<li>80 DOWN 2</li>
<li>81 PAGEDOWN 3</li>
<li>82 INSERT 0</li>
<li>83 DEL .</li>
<li>84</li>
<li>85</li>
<li>86</li>
<li>87 F11</li>
<li>88 F12</li>
<li>89</li>
<li>90</li>
<li>91 L WIN LOGO</li>
<li>92 R WIN LOGO</li>
<li>93 CONTEXT</li>
</ul>
<br>
          Joystick scan codes:
          <ul>
<li>128 BUTTON 1</li>
<li>129 BUTTON 2</li>
<li>130-143 BUTTON 3-16</li>
<li>144 X LEFT</li>
<li>145 X RIGHT</li>
<li>146 Y UP</li>
<li>147 Y DOWN</li>
</ul>
          <div style="background-color:#EFF;" class="note">
<img src="http://gilgamesh.hamsterrepublic.com/wiki/ohrrpgce-images/0/01/Plotnote.png" alt="[Note]" class="icon">You can NOT wait for the player to press a key by continually polling <span class="param">key is pressed</span> unless you stick a <a href="#about-wait" class="ref">wait</a> in your do loop. That's because <span class="param">key is pressed</span> does not return real time data, but the state of the keyboard at the beginning of the current game tick.<br clear="all">
</div>
<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-keyval" class="ref">keyval</a></li></ul>
		</tt></p>
		<a name="about-keyval"></a>
		<p>
		<tt>
		<b><font color="yellow">keyval (scancode)</font></b><br>
			Returns a bitmask for the state of the specified key. The argument is a scancode, see <a href="#about-keyispressed" class="ref">key is pressed</a>. The first (least significant) bit is whether the key was depressed at the beginning of the current tick. The second bit is whether the key was pushed down by the player since the start of the previous tick (or when the key starts to repeatedly trigger after being held down for a while). It can therefore return 0, 1, 2 or 3: <br><br>0 = not pressed<br>1 = key held down since last tick, but is not a new press<br>2 = the player pressed the key and released it, all in the same tick<br>3 = new keypress (or typematic repeat)
            <div style="background-color:#FEE;" class="note">
<img src="http://gilgamesh.hamsterrepublic.com/wiki/ohrrpgce-images/a/ab/Plotdanger.png" alt="[Danger]" class="icon">Just like <a href="#about-keyispressed" class="ref">key is pressed</a>, this command does not return real time data, but the situation at the beginning of the current game tick.<br clear="all">
</div>
            <div style="background-color:#EFF;" class="note">
<img src="http://gilgamesh.hamsterrepublic.com/wiki/ohrrpgce-images/0/01/Plotnote.png" alt="[Note]" class="icon">The joystick scancodes described in <a href="#about-keyispressed" class="ref">key is pressed</a> do not work in this command.<br clear="all">
</div>
<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-keyispressed" class="ref">key is pressed</a></li></ul>
		</tt></p>
		<a name="about-lastascii"></a>
		<p>
		<tt>
		<b><font color="yellow">last ascii</font></b><br>
			Returns the ascii code of any currently pressed key. If more than one key corresponding to an ascii character is being pressed, then only one can be returned.<br>
			
			
		</tt></p>
		<a name="about-joystickbutton"></a>
		<p>
		<tt>
		<b><font color="yellow">joystick button (button,joystick)</font></b><br>
			Returns <a href="#about-booleanconstants" class="ref">true</a> or <a href="#about-booleanconstants" class="ref">false</a> depending on whether button #<span class="param">button</span> on joystick #<span class="param">joystick</span> is pressed. <span class="param">button</span> can be from 1-16 (assuming the joystick has that many buttons), and <span class="param">joystick</span> can be from 0-3. Most of the time, you will want to use joystick #0, so that is what <span class="param">joystick</span> defaults to.<br>
			
			
		</tt></p>
		<a name="about-joystickaxis"></a>
		<p>
		<tt>
		<b><font color="yellow">joystick axis (axis,multiplier,joystick)</font></b><br>
			Returns the position of the joystick along the X or Y axis on joystick #<span class="param">joystick</span>. <span class="param">axis</span> can be one of the constants <a href="#about-xaxis" class="ref">x axis</a> or <a href="#about-yaxis" class="ref">y axis</a>. <span class="param">multiplier</span> is slightly complicated: The position of the joystick is actually a decimal between -1 and 1. Since plotscripting can't handle decimals, this position must be multiplied and rounded off until it is within plotscripting's capabilities. By default, it is 100 (so it will return -100 - 100). <span class="param">joystick</span> can be from 0-3. Most of the time, you will want to use joystick #0, so that is what <span class="param">joystick</span> defaults to.<br>
			
			
		</tt></p>
		<a name="about-heropixelx"></a>
		<p>
		<tt>
		<b><font color="yellow">hero pixel X (who)</font></b><br>
			Returns the hero's X position on the map in pixels. To find the hero's position in tiles, use the <a href="#about-herox" class="ref">hero X</a> function instead.<br>
			
			
		</tt></p>
		<a name="about-heropixely"></a>
		<p>
		<tt>
		<b><font color="yellow">hero pixel Y (who)</font></b><br>
			Returns the hero's Y position on the map in pixels. To find the hero's position in tiles, use the <a href="#about-heroy" class="ref">hero Y</a> function instead.<br>
			
			
		</tt></p>
		<a name="about-npcpixelx"></a>
		<p>
		<tt>
		<b><font color="yellow">NPC pixel X (who)</font></b><br>
			Returns the NPC's X position on the map in pixels. The argument is an <a href="#about-npcreference" class="ref">NPC reference</a> or an NPC ID number. To find the NPC's position in tiles, use the <a href="#about-npcx" class="ref">NPC X</a> function instead.<br>
			
			
		</tt></p>
		<a name="about-npcpixely"></a>
		<p>
		<tt>
		<b><font color="yellow">NPC pixel Y (who)</font></b><br>
			Returns the NPC's Y position on the map in pixels. The argument is an <a href="#about-npcreference" class="ref">NPC reference</a> or an NPC ID number. To find the NPC's position in tiles, use the <a href="#about-npcy" class="ref">NPC Y</a> function instead.<br>
			
			
		</tt></p>
		<a name="about-camerapixelx"></a>
		<p>
		<tt>
		<b><font color="yellow">camera pixel X</font></b><br>
			Returns the X position of the top left corner of the screen in pixels.<br>
			
			
		</tt></p>
		<a name="about-camerapixely"></a>
		<p>
		<tt>
		<b><font color="yellow">camera pixel Y</font></b><br>
			Returns the Y position of the top left corner of the screen in pixels.<br>
			
			
		</tt></p>
		<a name="about-pickhero"></a>
		<p>
		<tt>
		<b><font color="yellow">pick hero</font></b><br>
			Pops up a hero-picker box that lets you choose one of the heroes in your active party. The return value is the position in the party of the hero you picked, or -1 if the player cancelled.<br>
			
			
		</tt></p>
		<a name="about-renamehero"></a>
		<p>
		<tt>
		<b><font color="yellow">rename hero(who)</font></b><br>
			Pops up a name-editing box that allows you to change a hero's name. The argument is the hero's ID number, or name in the format hero:name<br>
			
			
		</tt></p>
		<a name="about-renameherobyslot"></a>
		<p>
		<tt>
		<b><font color="yellow">rename hero by slot(who)</font></b><br>
			Pops up a name-editing box that allows you to change a hero's name. The argument is the hero's position in the party as returned by <a href="#about-findhero" class="ref">find hero</a><br>
			
			
		</tt></p>
		<a name="about-lastsaveslot"></a>
		<p>
		<tt>
		<b><font color="yellow">last save slot</font></b><br>
			Returns the last save slot saved in, or <a href="#about-booleanconstants" class="ref">false</a> if the game has not been saved yet. Save slots are numbered starting at 1.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-saveinslot" class="ref">save in slot</a>, </li>
<li><a href="#about-savemenu" class="ref">save menu</a></li>
</ul>
		</tt></p>
		<a name="about-saveslotused"></a>
		<p>
		<tt>
		<b><font color="yellow">save slot used (slot)</font></b><br>
			Returns whether a game has been saved in the save slot. Use if you, for example, don't want to overwrite a saved game with <a href="#about-saveinslot" class="ref">save in slot</a>.<br>
			
			
		</tt></p>
		<a name="about-herolevelled"></a>
		<p>
		<tt>
		<b><font color="yellow">hero levelled (who)</font></b><br>
			Returns the number of levels the specified hero gained. <span class="param">who</span> is the hero's position in the battle party. If you want to use <span class="param">hero:Name</span> you should use <a href="#about-findhero" class="ref">find hero</a>. This command only applies to the most recent battle or <a href="#about-giveexperience" class="ref">give experience</a>, <a href="#about-setherolevel" class="ref">set hero level</a> or <a href="#about-setexperience" class="ref">set experience</a> command that targetted this hero (or the active battle party if the hero is in it) - levels gained from previous battles or commands are forgotten. If the hero lost levels, the result is negative. In other words, this does not return true or false, but can be be used in an if statement like:<br>
			<pre>give experience (party, 50)
if (herolevelled (find hero (hero: Bob))) then (
  $31="Bob gained "
  append number(31, hero levelled (find hero (hero: Bob)))
  $31+" level(s)!"
  show textbox (233) # ${S31} :show string 31
)</pre>
			
		</tt></p>
		<a name="about-totalexperience"></a>
		<p>
		<tt>
		<b><font color="yellow">total experience (who)</font></b><br>
			Returns a hero's total experience. The argument is the position of the hero you want to check in your party as as returned by <a href="#about-findhero" class="ref">find hero</a>.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-setexperience" class="ref">set experience</a></li></ul>
		</tt></p>
		<a name="about-experiencetonextlevel"></a>
		<p>
		<tt>
		<b><font color="yellow">experience to next level (who)</font></b><br>
			Returns experience required by a hero to reach the next level. The argument is the position of the hero you want to check in your party as as returned by <a href="#about-findhero" class="ref">find hero</a>.<br>
			
			
		</tt></p>
		<a name="about-experiencetolevel"></a>
		<p>
		<tt>
		<b><font color="yellow">experience to level (level)</font></b><br>
			Returns the total experience required to reach a specified level from level 0.<br>
			
			
		</tt></p>
		<a name="about-settimer"></a>
		<p>
		<tt>
		<b><font color="yellow">set timer (id, count, speed, trigger, string, flags)</font></b><br>
			Changes the settings for a given timer, and starts it. <span class="param">id</span> should be one of the 16 timers for you to use, numbered 0 to 15. All other parameters are optional, or you can pass <a href="#about-timer:default" class="ref">timer: default</a> as any of them. This will leave the parameter unchanged (from the last time you set it or from the default initial value), it will NOT cause that timer setting to be reset to the default initial value. <span class="param">Count</span> is the length of the timer. While it's running, the count will go down by one every <span class="param">speed</span> game ticks (frames). I.e., if you set speed to 18, it will count down once every 18 ticks, close to one second. Use a speed of 1 to count down in ticks. Changing the timer's <span class="param">count</span> (as opposed to passing <span class="param">timer:default</span> as the second argument) will cause the timer to restart from the new value.<br>
<span class="param">trigger</span> is what happens when the timer runs out. You can use the constant <a href="#about-timer:gameover" class="ref">timer: game over</a> to indicate that the game should end, or specify a plotscript (in the form "@my script") to have that run. A plotscript will get passed the id of the timer that triggered it as its first argument, if it has one. If the timer runs out during a battle then the effect happens after the battle ends.<br>
You can bind a timer to a string using the <span class="param">string</span> parameter to create a countdown that shows up on screen. Pass it the id of a string, and that string will be updated every time the timer counts down. You are responsible for displaying and positioning the string.<br>
A timer also has a few other options in the form of <span class="param">flags</span>. You can pass any combination of these flags (by <a href="#about-or" class="ref">or</a>ing or <a href="#about-add" class="ref">add</a>ing them together): <ul>
<li>
<a href="#about-timerflag:battle" class="ref">timer flag: battle</a> to have it count down during battles (not including menus which pause the battle)</li>
<li>
<a href="#about-timerflag:menu" class="ref">timer flag: menu</a> to have it count down even while the player is in a menu which pauses the game (e.g. the status menu), the in-battle pause button doesn't count</li>
<li>
<a href="#about-timerflag:critical" class="ref">timer flag: critical</a> to have the timer end a battle or exit a menu if it runs out during it</li>
</ul>
<br><div style="background-color:#EFF;" class="note">
<img src="http://gilgamesh.hamsterrepublic.com/wiki/ohrrpgce-images/0/01/Plotnote.png" alt="[Note]" class="icon">Timers start counting down not from the current game 'tick', but from next one. So if you want to trigger something next tick (eg. run a script every frame) you need to pass <span class="param">count</span> as 0 and <span class="param">speed</span> as 1. A timer count set to 1 would counter-intuitively trigger in 2 ticks time.<br clear="all">
</div>
<div style="background-color:#EFF;" class="note">
<img src="http://gilgamesh.hamsterrepublic.com/wiki/ohrrpgce-images/0/01/Plotnote.png" alt="[Note]" class="icon">Timer settings are not saved in game saves.<br clear="all">
</div>
<br>
			<pre>#this starts a 300 second (5 minute) timer that counts down once every 18 ticks (a second). If
#it runs out during battle, the battle won't end but a game-over will happen afterwards.
set timer (0, 300, 18, timer: game over, 0, timerflag: battle)</pre>
			<br>See also: <ul class="seealso">
<li>
<a href="#about-stoptimer" class="ref">stop timer</a>, </li>
<li>
<a href="#about-readtimer" class="ref">read timer</a>, </li>
<li>
<a href="#about-systemsecond" class="ref">system second</a>, </li>
<li>
<a href="#about-secondsofplay" class="ref">seconds of play</a>, </li>
<li>
<a href="#about-milliseconds" class="ref">milliseconds</a>, </li>
<li><a href="#about-runscriptbyid" class="ref">run script by ID</a></li>
</ul>
		</tt></p>
		<a name="about-stoptimer"></a>
		<p>
		<tt>
		<b><font color="yellow">stop timer (id)</font></b><br>
			Stops a timer by setting its speed to 0. All of its other settings remain the same.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-settimer" class="ref">set timer</a></li></ul>
		</tt></p>
		<a name="about-readtimer"></a>
		<p>
		<tt>
		<b><font color="yellow">read timer (id)</font></b><br>
			Returns the count of a given timer.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-settimer" class="ref">set timer</a></li></ul>
		</tt></p>

		<hr>
	
		<a name="Enemy%20and%20Formation%20Functions"></a>

		<font color="#f06060" size="4">Enemy and Formation Functions</font>
		<p></p>
		
		<a name="about-getenemystat"></a>
		<p>
		<tt>
		<b><font color="yellow">get enemy stat(enemy, stat)</font></b><br>
			Returns the selected stat from the selected enemy. The first argument is the number of the enemy whose stats you want to check. The second argument is the name of the stat that you want to check. The names of the stats are also defined in your HSI file in the form stat:name. <br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-setenemystat" class="ref">set enemy stat</a>, </li>
<li>
<a href="#about-getherostat" class="ref">get hero stat</a>, </li>
<li><a href="#about-setherostat" class="ref">set hero stat</a></li>
</ul>
		</tt></p>
		<a name="about-setenemystat"></a>
		<p>
		<tt>
		<b><font color="yellow">set enemy stat(enemy, stat, value)</font></b><br>
			Sets the selected stat of the selected enemy to the value you supply. The first argument is the number of the enemy whose stats you want to set. The second argument is the name of the stat that you want to set. The names of the stats are also defined in your HSI file in the form stat:name. The third is the new value of the stat.<div style="background-color:#EFF;" class="note">
<img src="http://gilgamesh.hamsterrepublic.com/wiki/ohrrpgce-images/0/01/Plotnote.png" alt="[Note]" class="icon">Enemy stat changes are temporary. They are not saved in the game save.<br clear="all">
</div>
<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-getenemystat" class="ref">get enemy stat</a>, </li>
<li>
<a href="#about-getherostat" class="ref">get hero stat</a>, </li>
<li><a href="#about-setherostat" class="ref">set hero stat</a></li>
</ul>
		</tt></p>
		<a name="about-getenemyname"></a>
		<p>
		<tt>
		<b><font color="yellow">get enemy name (enemyid, stringid)</font></b><br>
			Lets you use the enemy name in a string.  The first argument is the number of the enemy you want to get the name from, second argument is the number of the string that you want to store the name of the enemy.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-setenemyname" class="ref">set enemy name</a></li></ul>
		</tt></p>
		<a name="about-setenemyname"></a>
		<p>
		<tt>
		<b><font color="yellow">set enemy name (enemyid, stringid)</font></b><br>
			Lets you set the enemy name from a string, the string length cannot be more then 16 characters, if it is more then 16 the name will be truncated.  The first argument is the number of the enemy's name you want to change, second argument is the number of the string that you supply the name of the enemy from.<div style="background-color:#EFF;" class="note">
<img src="http://gilgamesh.hamsterrepublic.com/wiki/ohrrpgce-images/0/01/Plotnote.png" alt="[Note]" class="icon">Enemy name changes are temporary. They are not saved in the game save.<br clear="all">
</div>
<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-getenemyname" class="ref">get enemy name</a></li></ul>
		</tt></p>
		<a name="about-getenemyappearance"></a>
		<p>
		<tt>
		<b><font color="yellow">get enemy appearance (enemyid, appearance)</font></b><br>
			Returns data on the appearance of a enemy. Enemyid is the enemy number that you want to return the appearance of, appearance is either picture, palette, or size. You can use the following constants for appearance: <ul>
<li>enemy:picture</li>
<li>enemy:palette</li>
<li>enemy:picturesize</li>
</ul> <br>You can compare the values returned from enemy:picturesize with the constants enemysize:small, enemysize:medium and enemysize:large<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-setenemyappearance" class="ref">set enemy appearance</a></li></ul>
		</tt></p>
		<a name="about-setenemyappearance"></a>
		<p>
		<tt>
		<b><font color="yellow">set enemy appearance (enemyid, appearance,value)</font></b><br>
			Lets you change an enemy's appearance.  Enemyid is the number of the enemy's appearance that you want to change, appearance is one of the constants given in <a href="#about-getenemyappearance" class="ref">get enemy appearance</a>. Value can is the new number that you want to assign, constants enemysize:small, enemysize:medium, or enemysize:large when changing picture size, or palette number when changing palette.<div style="background-color:#EFF;" class="note">
<img src="http://gilgamesh.hamsterrepublic.com/wiki/ohrrpgce-images/0/01/Plotnote.png" alt="[Note]" class="icon">Enemy appearance changes are temporary. They are not saved in the save game.<br clear="all">
</div>
<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-getenemyappearance" class="ref">get enemy appearance</a></li></ul>
		</tt></p>
		<a name="about-readenemydata"></a>
		<p>
		<tt>
		<b><font color="yellow">read enemy data (enemyid, data)</font></b><br>
			Returns the enemy's reward values. Enemyid is the number of enemy, data is a predefined constant defining the data you want returned. Use the following constants:<ul>
<li>enemy:gold</li>
<li>enemy:experience</li>
<li>enemy:item</li>
<li>enemy:itempercent</li>
<li>enemy:rareitem</li>
<li>enemy:rareitempercent</li>
<li>stealability</li>
<li>stealableitem</li>
<li>stealableitemchance</li>
<li>stealablerareitem</li>
<li>stealablerareitemchance</li>
</ul>
<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-writeenemydata" class="ref">write enemy data</a></li></ul>
		</tt></p>
		<a name="about-writeenemydata"></a>
		<p>
		<tt>
		<b><font color="yellow">write enemy data (enemyid, data, value)</font></b><br>
			Lets you set items of an enemy's data. Enemyid is the number of enemy, data is a predefined constant for the data you want to change. Value is the new value given to that setting. Use the same constants as are given at <a href="#about-readenemydata" class="ref">read enemy data</a>.<div style="background-color:#EFF;" class="note">
<img src="http://gilgamesh.hamsterrepublic.com/wiki/ohrrpgce-images/0/01/Plotnote.png" alt="[Note]" class="icon">Enemy data changes are temporary. They are not saved in saved games.<br clear="all">
</div>
<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-readenemydata" class="ref">read enemy data</a></li></ul>
		</tt></p>
		<a name="about-addenemytoformation"></a>
		<p>
		<tt>
		<b><font color="yellow">add enemy to formation (formation, enemy id, x, y, slot)</font></b><br>
			Adds an enemy with given <span class="param">enemy id</span> (use the constants of the form <span class="param">enemy:name</span> in your exported .hsi file) to the specified <span class="param">formation</span>. <span class="param">x</span> (up to 230) and <span class="param">y</span> (up to 199) give the position of the center of the bottom edge of the enemy - approximately where it appears to stand. <span class="param">slot</span> (0 to 7) is an optional argument, if given then the enemy is created in the suggested slot if empty. Otherwise it's put in the first empty slot. The actual slot number used is returned, or -1 if the enemy couldn't be added.<div style="background-color:#EFF;" class="note">
<img src="http://gilgamesh.hamsterrepublic.com/wiki/ohrrpgce-images/0/01/Plotnote.png" alt="[Note]" class="icon">Changes to enemy formations are temporary: they are not saved in save files.<br clear="all">
</div>
<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-deleteenemyfromformation" class="ref">delete enemy from formation</a></li></ul>
		</tt></p>
		<a name="about-deleteenemyfromformation"></a>
		<p>
		<tt>
		<b><font color="yellow">delete enemy from formation (formation, slot)</font></b><br>
			Deletes an enemy in the given <span class="param">slot</span> (as returned by <a href="#about-findenemyinformation" class="ref">find enemy in formation</a> for example) in the <span class="param">formation</span>.<div style="background-color:#EFF;" class="note">
<img src="http://gilgamesh.hamsterrepublic.com/wiki/ohrrpgce-images/0/01/Plotnote.png" alt="[Note]" class="icon">Changes to enemy formations are temporary: they are not saved in save files.<br clear="all">
</div>
<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-addenemytoformation" class="ref">add enemy to formation</a></li></ul>
		</tt></p>
		<a name="about-findenemyinformation"></a>
		<p>
		<tt>
		<b><font color="yellow">find enemy in formation (formation, enemy id, copy number)</font></b><br>
			Searchs for an enemy in a formation, returning the slot number, or -1 if not found. <span class="param">copy number</span> is optional, use 0 or greater specify which enemy to return if there is more than one, or the constant <a href="#about-getcount" class="ref">get count</a>. The first (searching the slots sequentially) enemy copy is number 0. The number of specified enemies in the formation is returned if the constant get count is used. <span class="param">enemy id</span> can be either an enemy id, or the constant <span class="param">any enemy</span>, which searches for any enemy (the first enemy in the formation by default), or the total number of enemies with <a href="#about-getcount" class="ref">get count</a>.<br>
			<pre>plotscript, look at formation, formation, begin
  # In this example, we'll pick a random enemy from a formation, and check if there are any plips.
  # You'll need an enemy named plip to try this out, or change the "enemy:plip" constant below to something else
  variable (number of enemies, random enemy slot)

  # The total number of enemies
  number of enemies := find enemy in formation (formation, any enemy, get count)
  # Pick an enemy at random
  random enemy slot := find enemy in formation (formation, any enemy, random(0, number of enemies -- 1))

  $30 = "There is a "
  # Here we append the enemy's name to string 30
  get enemy name (formation slot enemy (formation, random enemy slot), 30)
  $30 + " in this formation"
  show string (30)

  # Let's check whether there is at least one plip in this formation
  variable (number, plip slot)
  number := find enemy in formation (formation, enemy:plip, get count)
  if (number &gt;&gt; 0) then (
    # We'll put a string onscreen where the plip appears in battle
    $31 = "Plip!"
    plip slot := find enemy in formation (formation, enemy:plip)
    center string at (31, formation slot x (formation, plip slot), formation slot y (formation, plip slot) -- 20)
  )
end
</pre>
			<br>See also: <ul class="seealso">
<li>
<a href="#about-deleteenemyfromformation" class="ref">delete enemy from formation</a>, </li>
<li>
<a href="#about-formationslotenemy" class="ref">formation slot enemy</a>, </li>
<li>
<a href="#about-formationslotx" class="ref">formation slot x</a>, </li>
<li><a href="#about-formationsloty" class="ref">formation slot y</a></li>
</ul>
		</tt></p>
		<a name="about-formationslotenemy"></a>
		<p>
		<tt>
		<b><font color="yellow">formation slot enemy (formation, slot)</font></b><br>
			Returns the ID number of the enemy in the specified formation slot (0 to 7), or -1 if the slot is empty.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-findenemyinformation" class="ref">find enemy in formation</a></li></ul>
		</tt></p>
		<a name="about-formationslotx"></a>
		<p>
		<tt>
		<b><font color="yellow">formation slot x (formation, slot)</font></b><br>
			Returns the x position of the center of the enemy in the specified formation slot (0 to 7). An enemies position is the center of the bottom edge of the enemy - approximately where it appears to stand.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-findenemyinformation" class="ref">find enemy in formation</a></li></ul>
		</tt></p>
		<a name="about-formationsloty"></a>
		<p>
		<tt>
		<b><font color="yellow">formation slot y (formation, slot)</font></b><br>
			Returns the y position of the bottom edge of the enemy sprite in the specified formation slot (0 to 7). An enemies position is the center of the bottom edge of the enemy - approximately where it appears to stand.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-findenemyinformation" class="ref">find enemy in formation</a></li></ul>
		</tt></p>
		<a name="about-setformationbackground"></a>
		<p>
		<tt>
		<b><font color="yellow">set formation background (formation, background, animation frames, animation ticks)</font></b><br>
			Sets the background and the background animation for a <span class="param">formation</span>. The animation arguments do not need to be given, producing a static background. <span class="param">animation frames</span>, optional, is the number of frames (1 to 50) to use for the background animation. 1 is non-animating. <span class="param">animation ticks</span>, also optional, is the number of ticks to display each backdrop for. The engine normally (but not reliably) runs at 18 ticks per second.<div style="background-color:#EFF;" class="note">
<img src="http://gilgamesh.hamsterrepublic.com/wiki/ohrrpgce-images/0/01/Plotnote.png" alt="[Note]" class="icon">Changes to enemy formations are temporary: they are not saved in save files.<br clear="all">
</div>
<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-getformationbackground" class="ref">get formation background</a></li></ul>
		</tt></p>
		<a name="about-getformationbackground"></a>
		<p>
		<tt>
		<b><font color="yellow">get formation background (formation, background)</font></b><br>
			Gets the background used by a <span class="param">formation</span>. If the backdrop is animated, this returns the ID of the first backdrop (the one set in Custom).<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-setformationbackground" class="ref">set formation background</a></li></ul>
		</tt></p>
		<a name="about-setformationsong"></a>
		<p>
		<tt>
		<b><font color="yellow">set formation song (formation, song)</font></b><br>
			Changes an enemy formation to use <span class="param">song</span> as its music. Use the constants of the form <span class="param">song:songname</span> from your exported .hsi file, or the special constants <a href="#about-song:silence" class="ref">song: silence</a> or <a href="#about-song:sameaslastmap" class="ref">song: same as map</a><div style="background-color:#EFF;" class="note">
<img src="http://gilgamesh.hamsterrepublic.com/wiki/ohrrpgce-images/0/01/Plotnote.png" alt="[Note]" class="icon">Changes to enemy formations are temporary: they are not saved in save files.<br clear="all">
</div>
<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-getformationsong" class="ref">get formation song</a></li></ul>
		</tt></p>
		<a name="about-getformationsong"></a>
		<p>
		<tt>
		<b><font color="yellow">get formation song (formation)</font></b><br>
			Returns the song associated with <span class="param">formation</span>. Compare the result with the constants of the form <span class="param">song:songname</span> from your exported .hsi file, or the special constants <a href="#about-song:silence" class="ref">song: silence</a> or <a href="#about-song:sameaslastmap" class="ref">song: same as map</a>.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-setformationsong" class="ref">set formation song</a></li></ul>
		</tt></p>
		<a name="about-lastformation"></a>
		<p>
		<tt>
		<b><font color="yellow">last formation</font></b><br>
			Returns the last formation fought. If the player hasn't fought any formations yet (since starting or loading the game), it returns -1.<br>
			
			
		</tt></p>
		<a name="about-randomformation"></a>
		<p>
		<tt>
		<b><font color="yellow">random formation (formation set)</font></b><br>
			Picks a formation randomly from the given <span class="param">formation set</span> (1 to 255).<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-formationprobability" class="ref">formation probability</a></li></ul>
		</tt></p>
		<a name="about-formationsetfrequency"></a>
		<p>
		<tt>
		<b><font color="yellow">formation set frequency (formation set)</font></b><br>
			Returns the formation frequency (from 0 to 99) of a <span class="param">formation set</span> (1 to 255). Note that the frequency is not actually a probability (as a percentage) of a battle occuring each step, but is roughly the number of battles per 80 steps, spaced semi-randomly.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-randomformation" class="ref">random formation</a></li></ul>
		</tt></p>
		<a name="about-formationprobability"></a>
		<p>
		<tt>
		<b><font color="yellow">formation probability (formation set, formation)</font></b><br>
			Returns the probability of a particular <span class="param">formation</span> in a <span class="param">formation set</span> being fought, as a percentage from 0 to 100. This does take the number of times the formation appears in the formation set into account.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-randomformation" class="ref">random formation</a>, </li>
<li><a href="#about-random" class="ref">random</a></li>
</ul>
		</tt></p>

		<hr>
	
		<a name="Tweaking%20Maps"></a>

		<font color="#f06060" size="4">Tweaking Maps</font>
		<p></p>
		
		<a name="about-readmapblock"></a>
		<p>
		<tt>
		<b><font color="yellow">read map block (x,y,layer)</font></b><br>
			Returns the value of a map tile on the current map at the specified X,Y position. Normal map tiles return values from 0-159, animating maptiles from set 1 return 160-207 and animating maptiles from set 2 return 208-255. The optional layer can be 0, 1, or 2. The bottom layer will be read by default.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-currentdisplaytile" class="ref">current display tile</a></li></ul>
		</tt></p>
		<a name="about-writemapblock"></a>
		<p>
		<tt>
		<b><font color="yellow">write map block (x,y,value,layer)</font></b><br>
			Writes a new tile to the specified X,Y position on the current map. This change will only persist until you leave the map or fight a battle. The optional layer argument can be 0, 1, or 2. The bottom layer will be written to by default<br>
			
			
		</tt></p>
		<a name="about-readpassblock"></a>
		<p>
		<tt>
		<b><font color="yellow">read pass block (x,y)</font></b><br>
			Returns the value of a passability (wallmap) tile on the current map at the specified X,Y position. The return value will be from 0 to 255 and consists of eight flag bits.<br><br>bit 1 = <a href="#about-tileconstants" class="ref">north wall</a><br>bit 2 = <a href="#about-tileconstants" class="ref">east wall</a><br>bit 4 = <a href="#about-tileconstants" class="ref">south wall</a><br>bit 8 = <a href="#about-tileconstants" class="ref">west wall</a><br>bit 16  = <a href="#about-tileconstants" class="ref">vehicle A</a><br>bit 32 = <a href="#about-tileconstants" class="ref">vehicle B</a><br>bit 64 = <a href="#about-tileconstants" class="ref">harm tile</a><br>bit 128 = <a href="#about-tileconstants" class="ref">overhead tile</a><br><br>To check the value of a specific bit, use the <a href="#about-and" class="ref">and</a> operator. For example:  <br>
			<pre>  variable (pass)
  pass := read pass block(hero X(me),hero Y(me))
  if (pass,and,harm tile) then begin
    # this checks if the hero is standing
    # on a harm tile
  end</pre>
			
		</tt></p>
		<a name="about-writepassblock"></a>
		<p>
		<tt>
		<b><font color="yellow">write pass block (x,y,value)</font></b><br>
			Writes a new passability (wallmap) information to the specified X,Y position on the current map. This change will only persist until you leave the map or fight a battle. The value is a number from from 0 to 255 that consists of eight flag bits.<br><br>bit 1 = <a href="#about-tileconstants" class="ref">north wall</a><br>bit 2 = <a href="#about-tileconstants" class="ref">east wall</a><br>bit 4 = <a href="#about-tileconstants" class="ref">south wall</a><br>bit 8 = <a href="#about-tileconstants" class="ref">west wall</a><br>bit 16  = <a href="#about-tileconstants" class="ref">vehicle A</a><br>bit 32 = <a href="#about-tileconstants" class="ref">vehicle B</a><br>bit 64 = <a href="#about-tileconstants" class="ref">harm tile</a><br>bit 128 = <a href="#about-tileconstants" class="ref">overhead tile</a><br><br>You can <a href="#about-add" class="ref">add</a> the constants together. For example:<br>
			<pre>variable (pass)
pass := northwall+southwall+eastwall+westwall
write pass block(15,3,pass)
# this makes the fifteenth tile in the third column
# impassable on all directions</pre>
			
		</tt></p>
		<a name="about-loadtileset"></a>
		<p>
		<tt>
		<b><font color="yellow">load tileset (tileset, layer)</font></b><br>
			Temporarily loads a different default or layer tileset for the currently displaying map.<br>Use <span class="param">load tileset</span> (with no arguments) to restore the old tilesets after using load tileset (this has no effect after <a href="#about-changetileset" class="ref">change tileset</a>).<br>Use <span class="param">load tileset (tileset)</span> to load a new default tileset. <span class="param">tileset</span> is the ID number of the tileset to load. This affects tilesets for all layers that are set to 'Tileset: default'. This effectively changes the map's tileset if you haven't done anything fancy with layer tilesets.<br>Use <span class="param">load tileset (tileset, layer)</span> to load in a new a tileset for a single layer. <span class="param">layer</span> is the layer number (0-2) to target.<div style="background-color:#EFF;" class="note">
<img src="http://gilgamesh.hamsterrepublic.com/wiki/ohrrpgce-images/0/01/Plotnote.png" alt="[Note]" class="icon">This command has a temporary effect: even if the map state is saved, the new tilesets will not persist if you leave the map and come back. <a href="#about-changetileset" class="ref">change tileset</a> is a more powerful command for this.<br clear="all">
</div>
<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-getmaptileset" class="ref">get map tileset</a>, </li>
<li><a href="#about-layertileset" class="ref">layer tileset</a></li>
</ul>
		</tt></p>
		<a name="about-changetileset"></a>
		<p>
		<tt>
		<b><font color="yellow">change tileset (tileset, layer)</font></b><br>
			An alternative to <a href="#about-loadtileset" class="ref">load tileset</a>: Changes and loads in the default or a map layer tileset for the current map. Unlike load tileset, this command's effects last to the next time you come back to this map if you save the map state (in General Map Settings, or mapstate:mapsettings with <a href="#about-savemapstate" class="ref">save map state</a>). To undo the effects, you'll need to use <a href="#about-resetmapstate" class="ref">reset map state</a>. <span class="param">tileset</span> is the ID number of the tileset to load. You can use the constant <span class="param">tileset:default</span> to set a layer to use the default tileset. <span class="param">layer</span> is the layer number (0-2) to change, or the constant <span class="param">tileset:default</span> which changes the default tileset. It defaults to <span class="param">tileset:default</span> if omitted. <span class="param">change tileset</span> with no arguments restores the set tilesets after using load tileset. <br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-getmaptileset" class="ref">get map tileset</a>, </li>
<li><a href="#about-layertileset" class="ref">layer tileset</a></li>
</ul>
		</tt></p>
		<a name="about-currentdisplaytile"></a>
		<p>
		<tt>
		<b><font color="yellow">current display tile (tile number, layer)</font></b><br>
			Returns the tile number from the tileset, in the range 0-159, that a given tile (read with <a href="#about-readmapblock" class="ref">read map block</a>, which returns a value greater than 159 for animated tiles) is currently displayed as, taking the tile animation patterns into account. Because different layers can have different tilesets, you might need to specify the layer the tile is from; otherwise layer 0 is assumed.<br>
			
			
		</tt></p>
		<a name="about-animationstarttile"></a>
		<p>
		<tt>
		<b><font color="yellow">animation start tile (tile number, layer)</font></b><br>
			Returns the tile number on the tileset (in the range 0-159) that this tile is displayed as at the start of its animation pattern (offset 0) if it is animated, else just returns the tile number. The <span class="param">tile number</span> argument is typically returned from <a href="#about-readmapblock" class="ref">read map block</a>. In effect, the result is what the tile number would be if you had not set the tile as animated in the tilemap editor. Because different layers can have different tilesets, you might need to specify the layer the tile is from; otherwise layer 0 is assumed.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-currentdisplaytile" class="ref">current display tile</a></li></ul>
		</tt></p>

		<hr>
	
		<a name="Working%20with%20Tags"></a>

		<font color="#f06060" size="4">Working with Tags</font>
		<p></p>
		
		<a name="about-settag"></a>
		<p>
		<tt>
		<b><font color="yellow">set tag (tag,value)</font></b><br>
			Sets the value of a tag. The available constants are: <a href="#about-booleanconstants" class="ref">off</a>, <a href="#about-booleanconstants" class="ref">on</a>, <a href="#about-booleanconstants" class="ref">true</a>, or <a href="#about-booleanconstants" class="ref">false</a>. You can specify the number of the tag, or you can use the constants in your HSI file. These constants are in the form of tag:name.<br>
			
			
		</tt></p>
		<a name="about-checktag"></a>
		<p>
		<tt>
		<b><font color="yellow">check tag (tag)</font></b><br>
			A function that checks the value of a tag, and returns <a href="#about-booleanconstants" class="ref">true</a> if the tag is turned on, and <a href="#about-booleanconstants" class="ref">false</a> if the tag is turned off. It can be used in <a href="#about-if" class="ref">if</a> and <a href="#about-while" class="ref">while</a> statements. You can specify the number of the tag, or you can use the constants in your HSI file. These constants are in the form of tag:name.<br>
			
			
		</tt></p>

		<hr>
	
		<a name="Working%20with%20Variables"></a>

		<font color="#f06060" size="4">Working with Variables</font>
		<p></p>
		
		<a name="about-setvariable"></a>
		<p>
		<tt>
		<b><font color="yellow">variable := value</font></b><br>
			This command assigns a new value to a variable. If you do not specify the new value, the variable will be reset to zero. This command works exactly the same for global and local variables.<br>You should normally set variables by writing <span class="param">variable := value</span> but for backwards compatability, you can also use the old form <span class="param">set variable(variable, value)</span><br>
			
			
		</tt></p>
		<a name="about-increment"></a>
		<p>
		<tt>
		<b><font color="yellow">increment (variable,amount)</font></b><br>
			This command adds an amount to the current value of a variable. If you do not specify the amount, then the variable will be incremented by one. This command works exactly the same for global and local variables.<br>You can also increment variables by writing variable += amount<br>
			
			
		</tt></p>
		<a name="about-decrement"></a>
		<p>
		<tt>
		<b><font color="yellow">decrement (variable,amount)</font></b><br>
			This command subtracts an amount from the current value of a variable. If you do not specify the amount, then the variable will be decremented by one. This command works exactly the same for global and local variables.<br>You can also decrement variables by writing variable -= amount<br>
			
			
		</tt></p>

		<hr>
	
		<a name="Math,%20Comparison,%20and%20Logic%20Operators"></a>

		<font color="#f06060" size="4">Math, Comparison, and Logic Operators</font>
		<p>Pre-December 1999 versions of HamsterSpeak used a different syntax for math. For more information, see the HamsterSpeak Specification<br></p>
		
		<a name="about-add"></a>
		<p>
		<tt>
		<b><font color="yellow">number + number</font></b><br>
			Adds two values together and returns the result. This can also be written as add(number,number)<br>
			
			
		</tt></p>
		<a name="about-subtract"></a>
		<p>
		<tt>
		<b><font color="yellow">number -- number</font></b><br>
			Subtracts the second number from the first number and returns the result. It is neccisary to use the double minus so that HSPEAK.EXE can tell the difference between subtraction, and a minus sign that indicates a negative number. You can also write subtract(number,number)<br>
			
			
		</tt></p>
		<a name="about-multiply"></a>
		<p>
		<tt>
		<b><font color="yellow">number * number</font></b><br>
			Multiplies two values together and returns the result. This can also be written as multiply(number,number)<br>
			
			
		</tt></p>
		<a name="about-divide"></a>
		<p>
		<tt>
		<b><font color="yellow">number / number</font></b><br>
			Divides the second number into the first number and returns the result. The result is rounded down to an integer. This can also be written as divide(number,number)<br>
			
			
		</tt></p>
		<a name="about-modulus"></a>
		<p>
		<tt>
		<b><font color="yellow">number,mod,number</font></b><br>
			Divides the second number into the first number and returns the remainder. This can also be written as modulus(number,number)<br>
			
			
		</tt></p>
		<a name="about-exponent"></a>
		<p>
		<tt>
		<b><font color="yellow">number ^ power</font></b><br>
			Raises a number to a power and returns the result. Normally you will only be raising things to a power of 2. Raising to very large powers will most certainly produce an overflow error. This can also be written as exponent(number,power)<br>
			
			
		</tt></p>
		<a name="about-equal"></a>
		<p>
		<tt>
		<b><font color="yellow">number == number</font></b><br>
			Checks to see if the two numbers are equal. If they are equal it returns true, otherwise it returns false. This can also be written as equal(number,number)<br>
			
			
		</tt></p>
		<a name="about-notequal"></a>
		<p>
		<tt>
		<b><font color="yellow">number &lt;&gt; number</font></b><br>
			Checks to see if the two numbers are not equal. If they are not equal it returns true. If they are equal it returns false. This can also be written as not equal(number,number)<br>
			
			
		</tt></p>
		<a name="about-lessthan"></a>
		<p>
		<tt>
		<b><font color="yellow">number &lt;&lt; number</font></b><br>
			Checks to see if the first number is less than the second number. If it is, it returns true, otherwise it returns false. This can also be written as less than(number,number)<br>
			
			
		</tt></p>
		<a name="about-greaterthan"></a>
		<p>
		<tt>
		<b><font color="yellow">number &gt;&gt; number</font></b><br>
			Checks to see if the first number is greater than the second number. If it is, it returns true, otherwise it returns false. This can also be written as greater than(number,number)<br>
			
			
		</tt></p>
		<a name="about-lessthanorequalto"></a>
		<p>
		<tt>
		<b><font color="yellow">number &lt;= number</font></b><br>
			Checks to see if the first number is less than or equal to the second number. If it is, it returns true, otherwise it returns false. This can also be written as less than or equal to(number,number)<br>
			
			
		</tt></p>
		<a name="about-greaterthanorequalto"></a>
		<p>
		<tt>
		<b><font color="yellow">number &gt;= number</font></b><br>
			Checks to see if the first number is greater than or equal to the second number. If it is, it returns true, otherwise it returns false. This can also be written as greater than or equal to(number,number)<br>
			
			
		</tt></p>
		<a name="about-and"></a>
		<p>
		<tt>
		<b><font color="yellow">value,and,value</font></b><br>
			Returns the bitwise AND of both values. In other words, for each bit in each value, they are compared to see if they are both "1". If they are, the result bit is set to 1. Otherwise, it's set to 0.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-logicaland" class="ref">&amp;&amp;</a></li></ul>
		</tt></p>
		<a name="about-or"></a>
		<p>
		<tt>
		<b><font color="yellow">value,or,value</font></b><br>
			Returns the bitwise OR of both values. In other words, for each bit in each value, they are compared to see if either bit is "1". If one is, the result bit is set to 1. Otherwise, it's set to 0.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-logicalor" class="ref">||</a></li></ul>
		</tt></p>
		<a name="about-xor"></a>
		<p>
		<tt>
		<b><font color="yellow">value,xor,value</font></b><br>
			Returns the bitwise AND of both values. In other words, for each bit in each value, they are compared to see if either (but not both!) bit is "1". If ONE is, the result bit is set to 1. Otherwise, it's set to 0.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-logicalxor" class="ref">^^</a></li></ul>
		</tt></p>
		<a name="about-logicaland"></a>
		<p>
		<tt>
		<b><font color="yellow">value &amp;&amp; value</font></b><br>
			Returns true if both of the values are true (non-zero). If either of them is false, and returns false. This command uses shortcut evaluation: if the first argument is false, the second argument is never evaluated.<br>
			
			
		</tt></p>
		<a name="about-logicalor"></a>
		<p>
		<tt>
		<b><font color="yellow">value || value</font></b><br>
			Returns true if at least one of the values are true (non-zero). Only if both of them are false does or return false. This command uses shortcut evaluation: if the first argument is true, the second argument is never evaluated.<br>
			
			
		</tt></p>
		<a name="about-logicalxor"></a>
		<p>
		<tt>
		<b><font color="yellow">value ^^ value</font></b><br>
			Returns true if one, but not both of the values are true (non-zero). If both of them are true, or both of them are false, ^^ returns false.<br>
			
			
		</tt></p>
		<a name="about-not"></a>
		<p>
		<tt>
		<b><font color="yellow">not (value)</font></b><br>
			Returns the logical complement/negation of a value. That is, it returns true (1) if the value is false (0), or false (0) if the value is true (non-zero).<br>
			
			
		</tt></p>

		<hr>
	
		<a name="Flow%20Control"></a>

		<font color="#f06060" size="4">Flow Control</font>
		<p></p>
		
		<a name="about-begin"></a>
		<p>
		<tt>
		<b><font color="yellow">begin,other commands,end</font></b><br>
			Begin is a synonym for ( and end is a synonym for ). Parenthesis are normally used for bracketing things that all fit on the same line, and begin/end statements are often used to enclose very long things such as whole scripts or long flow control blocks that take up several lines. For example, the following two blocks of code are identical:<br>
			<pre>if (check tag(2)) then (show text box (5),wait for text box)</pre>
<pre>if (check tag(2)) then
begin
	show text box (5)
	wait for text box
end</pre>
			
		</tt></p>
		<a name="about-end"></a>
		<p>
		<tt>
		
				<b><font color="yellow">end</font></b><br>
				See <a href="#about-begin">begin</a>
			</tt></p>
		<a name="about-if"></a>
		<p>
		<tt>
		<b><font color="yellow">if(condition) then(commands) else(commands)</font></b><br>
			The if statement checks the value of its condition, and if the value is <a href="#about-booleanconstants" class="ref">true</a>, it runs the commands in the then block. If the value is <a href="#about-booleanconstants" class="ref">false</a>, it runs the commands in its else block. The conditional is usually an equality operator such as <a href="#about-equal" class="ref">==</a> or <a href="#about-notequal" class="ref">&lt;&gt;</a>, or it is a <a href="#about-checktag" class="ref">check tag</a> command. The else is optional as long as you have a then, and the then is optional as long as you have an else. There are some examples of if statements in the HamsterSpeak Specification, and in WANDERP.HSS<br>
			
			
		</tt></p>
		<a name="about-then"></a>
		<p>
		<tt>
		
				<b><font color="yellow">then</font></b><br>
				See <a href="#about-if">if</a>
			</tt></p>
		<a name="about-else"></a>
		<p>
		<tt>
		
				<b><font color="yellow">else</font></b><br>
				See <a href="#about-if">if</a>
			</tt></p>
		<a name="about-while"></a>
		<p>
		<tt>
		<b><font color="yellow">while(condition) do(commands)</font></b><br>
			The while command checks the value of its condition, and if the value is <a href="#about-booleanconstants" class="ref">true</a> it runs the commands in the do block. It keeps checking the conditional and runs the do block over and over again until the conditional returns <a href="#about-booleanconstants" class="ref">false</a>. The conditional is usually an equality operator such as <a href="#about-equal" class="ref">==</a> or <a href="#about-notequal" class="ref">&lt;&gt;</a>, or it is a check tag command.<br>
			
			
		</tt></p>
		<a name="about-do"></a>
		<p>
		<tt>
		<b><font color="yellow">do</font></b><br>
			<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-while" class="ref">while</a>, </li>
<li><a href="#about-for" class="ref">for</a></li>
</ul>
		</tt></p>
		<a name="about-for"></a>
		<p>
		<tt>
		<b><font color="yellow">for(counter,start,finish,step) do(commands)</font></b><br>
			The for command runs the commands in the do block a specified number of times. The first argument to for is the counter. It must be a variable. The next two arguments are the starting value and the finishing value. For example, if you use a start value of 1 and a finish value of 10 then the do block will run 10 times. The first time the do block runs, the counter will be 1, then it will be 2, then 3 and so on until it reaches 10, the finish value. The fourth argument of for is optional. It is the step by which the counter will change each loop. If you use a step of 2 then the counter will count 1,3,5,7,9. If you switch the start and finish values and use a step of -1 then the counter will go backwards. If you use 0 as the step, the counter will never change, so the do block will repeat forever. There are examples of for commands in WANDERP.HSS<br>
			
			
		</tt></p>
		<a name="about-return"></a>
		<p>
		<tt>
		<b><font color="yellow">return(value)</font></b><br>
			Sets the value to be returned by the script. This is only useful when the script has been called as a function from another script. It is irrelevant to scripts called directly from your RPG. This command does NOT cause the script to terminate, it just sets the return value. If return is used more than once in the same script, only the last one executed matters<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-exitreturning" class="ref">exit returning</a></li></ul>
		</tt></p>
		<a name="about-exitreturning"></a>
		<p>
		<tt>
		<b><font color="yellow">exit returning(value)</font></b><br>
			Sets the value to be returned by the script, and exits the script. This is only useful when the script has been called as a function from another script.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-return" class="ref">return</a>, </li>
<li><a href="#about-exitscript" class="ref">exit script</a></li>
</ul>
		</tt></p>
		<a name="about-exitscript"></a>
		<p>
		<tt>
		<b><font color="yellow">exit script</font></b><br>
			Causes the script to end immediately<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-exitreturning" class="ref">exit returning</a></li></ul>
		</tt></p>
		<a name="about-break"></a>
		<p>
		<tt>
		<b><font color="yellow">break</font></b><br>
			breaks out of a <a href="#about-for" class="ref">for</a> or <a href="#about-while" class="ref">while</a> command and continue the script after the end of the <a href="#about-do" class="ref">do</a> block<br>
			
			
		</tt></p>
		<a name="about-continue"></a>
		<p>
		<tt>
		<b><font color="yellow">continue</font></b><br>
			When used inside the <a href="#about-do" class="ref">do</a> block of a <a href="#about-for" class="ref">for</a> or <a href="#about-while" class="ref">while</a> command, continue skips the rest of the do block and continues on to the next loop. When used inside a <a href="#about-switch" class="ref">switch</a> statement, continue flows on to the next <a href="#about-case" class="ref">case</a> block<br>
			
			
		</tt></p>
		<a name="about-switch"></a>
		<p>
		<tt>
		<b><font color="yellow">switch(expression)</font></b><br>
			select between a number of <a href="#about-case" class="ref">case</a> statements based on the value of an expression. <pre>switch(v) do, begin
  case(0) do, begin
    do foo
  end
  case(1) do, begin
    do bar
  end
  case(10) do, begin
    do baz
  end
end</pre>
<br>
			
			
		</tt></p>
		<a name="about-case"></a>
		<p>
		<tt>
		<b><font color="yellow">case(value)</font></b><br>
			See <a href="#about-switch" class="ref">switch</a><br>
			
			
		</tt></p>

		<hr>
	
		<a name="Advanced%20Commands"></a>

		<font color="#f06060" size="4">Advanced Commands</font>
		<p></p>
		
		<a name="about-setheropicture"></a>
		<p>
		<tt>
		<b><font color="yellow">set hero picture (who,picture,type)</font></b><br>
			Permanently changes a hero's picture. The first argument is the hero's position in the party. (Use <a href="#about-findhero" class="ref">find hero</a> if you want refer to the hero by name.) The second argument is the index number of the picture to use, and the last argument is a constant <a href="#about-insidebattle" class="ref">inside battle</a> or <a href="#about-outsidebattle" class="ref">outside battle</a>, which determines if you are changing the hero's battle picture or their walkabout picture. If the last argument is left out, <a href="#about-outsidebattle" class="ref">outside battle</a> is assumed.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-resetheropicture" class="ref">reset hero picture</a></li></ul>
		</tt></p>
		<a name="about-setheropalette"></a>
		<p>
		<tt>
		<b><font color="yellow">set hero palette (who,palette,type)</font></b><br>
			Permanently changes a hero's 16-color palette. The first argument is the hero's position in the party. (Use <a href="#about-findhero" class="ref">find hero</a> if you want refer to the hero by name.) The second argument is the index number of the 16-color palette to use, and the last argument is a constant <a href="#about-insidebattle" class="ref">inside battle</a> or <a href="#about-outsidebattle" class="ref">outside battle</a>, which determines if you are changing the hero's battle palette or their walkabout palette. If the last argument is left out, <a href="#about-outsidebattle" class="ref">outside battle</a> is assumed.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-resetheropalette" class="ref">reset hero palette</a></li></ul>
		</tt></p>
		<a name="about-getheropicture"></a>
		<p>
		<tt>
		<b><font color="yellow">get hero picture (who,type)</font></b><br>
			A function that returns the index number of a hero's picture. The first argument is the hero's position in the party as returned by <a href="#about-findhero" class="ref">find hero</a>. The second argument is a constant <a href="#about-insidebattle" class="ref">inside battle</a> or <a href="#about-outsidebattle" class="ref">outside battle</a>, which determines if you are checking the hero's battle picture or their walkabout picture. If the second argument is left out, <a href="#about-outsidebattle" class="ref">outside battle</a> is assumed.<br>
			
			
		</tt></p>
		<a name="about-getheropalette"></a>
		<p>
		<tt>
		<b><font color="yellow">get hero palette (who,type)</font></b><br>
			A function that returns the index number of a hero's 16-color palette. The first argument is the hero's position in the party as returned by <a href="#about-findhero" class="ref">find hero</a>. The second argument is a constant <a href="#about-insidebattle" class="ref">inside battle</a> or <a href="#about-outsidebattle" class="ref">outside battle</a>, which determines if you are checking the hero's battle palette or their walkabout palette. If the second argument is left out, <a href="#about-outsidebattle" class="ref">outside battle</a> is assumed.<br>
			
			
		</tt></p>
		<a name="about-resetheropicture"></a>
		<p>
		<tt>
		<b><font color="yellow">reset hero picture (who,type)</font></b><br>
			Resets a hero's picture that was previously changed with <a href="#about-setheropicture" class="ref">set hero picture</a> back to the default picture. The first argument is the hero's position in the party. (use <a href="#about-findhero" class="ref">find hero</a> if you want refer to the hero by name). The second argument is a constant <a href="#about-insidebattle" class="ref">inside battle</a> or <a href="#about-outsidebattle" class="ref">outside battle</a>, which determines if you are changing the hero's battle picture or their walkabout picture. If the last argument is left out, <a href="#about-outsidebattle" class="ref">outside battle</a> is assumed.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-setheropicture" class="ref">set hero picture</a></li></ul>
		</tt></p>
		<a name="about-resetheropalette"></a>
		<p>
		<tt>
		<b><font color="yellow">reset hero palette (who,type)</font></b><br>
			Resets a hero's palette that was previously changed with <a href="#about-setheropalette" class="ref">set hero palette</a> back to the default palette. The first argument is the hero's position in the party. (Use <a href="#about-findhero" class="ref">find hero</a> if you want refer to the hero by name.) The second argument is a constant <a href="#about-insidebattle" class="ref">inside battle</a> or <a href="#about-outsidebattle" class="ref">outside battle</a>, which determines if you are changing the hero's battle palette or their walkabout palette. If the last argument is left out, <a href="#about-outsidebattle" class="ref">outside battle</a> is assumed.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-setheropicture" class="ref">set hero picture</a></li></ul>
		</tt></p>
		<a name="about-alternpc"></a>
		<p>
		<tt>
		<b><font color="yellow">alter NPC (who,NPCstat,value)</font></b><br>
			Changes the stats of an NPC. Constants for this command have been included in PLOTSCR.HSD. Alter NPC can be used for many purposes.<br>
<ul>
<li>Alter NPC (who,NPCstat:picture,picture number)</li>
<li>Alter NPC (who,NPCstat:palette,palette number)</li>
<li>Alter NPC (who,NPCstat:move type,move type code)<br>Available move types<ul>
<li>NPCmovetype:standstill</li>
<li>NPCmovetype:wander</li>
<li>NPCmovetype:pace</li>
<li>NPCmovetype:rightturns</li>
<li>NPCmovetype:leftturns</li>
<li>NPCmovetype:randomturns</li>
<li>NPCmovetype:chaseyou</li>
<li>NPCmovetype:avoidyou</li>
</ul>
</li>
<li>Alter NPC (who,NPCstat:move speed,speed)</li>
<li>Alter NPC (who,NPCstat:display text,text box number)</li>
<li>Alter NPC (who,NPCstat:when activated,when activated code)<br>Available when activated codes<ul>
<li>NPCwhenactivated:changedirection</li>
<li>NPCwhenactivated:faceplayer</li>
<li>NPCwhenactivated:donotfaceplayer</li>
</ul>
</li>
<li>Alter NPC (who,NPCstat:give item,item number + 1) ... Note that the item number is offset + 1. A zero means no item.</li>
<li>Alter NPC (who,NPCstat:pushability,pushability code)<br>Available pushability codes<ul>
<li>NPCpush:off</li>
<li>NPCpush:full</li>
<li>NPCpush:horizontal</li>
<li>NPCpush:vertical</li>
<li>NPCpush:uponly</li>
<li>NPCpush:rightonly</li>
<li>NPCpush:downonly</li>
<li>NPCpush:leftonly</li>
</ul>
</li>
<li>Alter NPC (who,NPCstat:activation,activation code)<br>Available activation codes<ul>
<li>NPCactivation:use</li>
<li>NPCactivation:touch</li>
<li>NPCactivation:stepon</li>
</ul>
</li>
<li>Alter NPC (who,NPCstat:script,script ID)</li>
<li>Alter NPC (who,NPCstat:script argument,number)</li>
<li>Alter NPC (who,NPCstat:vehicle,vehicle ID+1)</li>
</ul>Normally you would only give an NPC ID number to alter NPC, but if you want to use an <a href="#about-npcreference" class="ref">NPC reference</a> it will still work. Just remember that alter NPC changes every copy of the NPC on the map, not just the specific one you referenced.<br>A good way to make use of Alter NPC is to wrap it in your own script. For example:<br>
			<pre># Example AlterNPC wrapper for changing NPC appearance

plotscript,change NPC,who=0,picture=0,palette=0,begin
  Alter NPC(who,NPCstat:picture,picture)
  Alter NPC(who,NPCstat:palette,palette)
end</pre>
			
		</tt></p>
		<a name="about-readnpc"></a>
		<p>
		<tt>
		<b><font color="yellow">read NPC (who,NPCstat)</font></b><br>
			Returns data such as picture, palette, walking speed, text box, etc. for an NPC. Use the same constants as <a href="#about-alternpc" class="ref">alter NPC</a>. <div style="background-color:#EFF;" class="note">
<img src="http://gilgamesh.hamsterrepublic.com/wiki/ohrrpgce-images/0/01/Plotnote.png" alt="[Note]" class="icon">If you use this command to read the give item number, the result is offset + 1. A zero means no item.<br clear="all">
</div>
<br>
			
			
		</tt></p>
		<a name="about-setdeathscript"></a>
		<p>
		<tt>
		<b><font color="yellow">set death script (id)</font></b><br>
			Changes the script that is run when you die in battle. The argument is the script's ID number, NOT the script's name. Calling set death script with no argument disables the death script.<br>
			
			
		</tt></p>
		<a name="about-getdeathscript"></a>
		<p>
		<tt>
		<b><font color="yellow">get death script</font></b><br>
			Returns the ID number of script that is run when you die in battle.<br>
			
			
		</tt></p>
		<a name="about-setloadscript"></a>
		<p>
		<tt>
		<b><font color="yellow">set load script (id)</font></b><br>
			Changes the script that is run when you load a saved game. The argument is the script's ID number, NOT the script's name. Calling set load script with no argument disables the load script.<br>
			
			
		</tt></p>
		<a name="about-getloadscript"></a>
		<p>
		<tt>
		<b><font color="yellow">get load script</font></b><br>
			Returns the ID number of script that is run when you load a saved game.<br>
			
			
		</tt></p>
		<a name="about-setonkeypressscript"></a>
		<p>
		<tt>
		<b><font color="yellow">set on keypress script (id)</font></b><br>
			Changes the script that is run when you press a key. The argument is the script's name preceded by an @ sign. You can also use the ID number for old-style scripts. Calling set on keypress script with no argument disables the keypress script. The effect goes away if you change maps or fight a battle.<br>
			<pre>set on keypress script(@keyhandlerscript)</pre>
			
		</tt></p>
		<a name="about-getonkeypressscript"></a>
		<p>
		<tt>
		<b><font color="yellow">get on keypress script</font></b><br>
			Returns the ID number of script that is run when you press a key.<br>
			
			
		</tt></p>
		<a name="about-seteachstepscript"></a>
		<p>
		<tt>
		<b><font color="yellow">set each step script (id)</font></b><br>
			Changes the script that is run when you take a step. The argument is the script's ID number, NOT the script's name. Calling set each step script with no argument disables the each step script. The effect goes away if you change maps or fight a battle.<br>
			
			
		</tt></p>
		<a name="about-geteachstepscript"></a>
		<p>
		<tt>
		<b><font color="yellow">get each step script</font></b><br>
			Returns the ID number of script that is run when you take a step.<br>
			
			
		</tt></p>
		<a name="about-setinsteadofbattlescript"></a>
		<p>
		<tt>
		<b><font color="yellow">set instead of battle script (id)</font></b><br>
			Changes the script that is run instead of a battle when one is triggered. The argument is the script's ID number, NOT the script's name. Calling set instead of battle script with no argument disables the instead of battle script. The effect goes away if you change maps or fight a battle.<br>
			
			
		</tt></p>
		<a name="about-getinsteadofbattlescript"></a>
		<p>
		<tt>
		<b><font color="yellow">get instead of battle script</font></b><br>
			Returns the ID number of script that is run instead of battles.<br>
			
			
		</tt></p>
		<a name="about-setharmtiledamage"></a>
		<p>
		<tt>
		<b><font color="yellow">set harm tile damage (amount)</font></b><br>
			Sets the amount of damage taken when you step on a harm tile. The effect goes away if you change maps or fight a battle.<br>
			
			
		</tt></p>
		<a name="about-setharmtileflash"></a>
		<p>
		<tt>
		<b><font color="yellow">set harm tile flash (color)</font></b><br>
			Sets the color (from the master palette) which the screen flashs when you step on a harm tile. Call with no argument to disable the flash. The effect goes away if you change maps or fight a battle.<br>
			
			
		</tt></p>
		<a name="about-setfootoffset"></a>
		<p>
		<tt>
		<b><font color="yellow">set foot offset (offset)</font></b><br>
			Sets the foot offset in pixels, the vertical displacement of npc and hero sprites from the base of the tiles on which they stand. The effect goes away if you change maps or fight a battle.<br>
			
			
		</tt></p>
		<a name="about-getfootoffset"></a>
		<p>
		<tt>
		<b><font color="yellow">get foot offset</font></b><br>
			Returns the map's foot offset.<br>
			
			
		</tt></p>
		<a name="about-drawnpcsaboveheroes"></a>
		<p>
		<tt>
		<b><font color="yellow">draw NPCs above heroes (setting)</font></b><br>
			Sets whether NPCs are drawn above heroes or the default of beneath. The effect goes away if you change maps or fight a battle.<br>
			
			
		</tt></p>
		<a name="about-setmapedgemode"></a>
		<p>
		<tt>
		<b><font color="yellow">set map edge mode (mode, default tile)</font></b><br>
			Sets the behaviour at the edge of the map. Use the constants <a href="#about-crop" class="ref">crop</a>, <a href="#about-wrap" class="ref">wrap</a> and <a href="#about-defaulttile" class="ref">default tile</a>. When the behaviour is default tile, you should give a second argument specifying which tile should be displayed off the boundaries of the map, otherwise ignore the second argument. The effect goes away if you change maps or fight a battle.<br>
			
			
		</tt></p>
		<a name="about-getmapedgemode"></a>
		<p>
		<tt>
		<b><font color="yellow">get map edge mode</font></b><br>
			Returns the map's edge mode. Use the constants <a href="#about-crop" class="ref">crop</a>, <a href="#about-wrap" class="ref">wrap</a> and <a href="#about-defaulttile" class="ref">default tile</a> to compare with the value returned.<br>
			
			
		</tt></p>
		<a name="about-findhero"></a>
		<p>
		<tt>
		<b><font color="yellow">find hero (who)</font></b><br>
			Searches through your (battle) party to see if the specified hero is there, and returns the position where the hero was found, or -1 if the hero was not found. The position in the party is needed by most commands operating on heroes. You can use the names defined in your HSI file in the format hero:name for the ID number of the hero (as it has in the Edit Hero Stats menu). Not only does this tell you if a hero is in your party, but you can also use it to tell whether or not the hero is in your active party. find hero will return 0, 1, 2 or 3 if the hero is in the active party, and 4 or higher if the hero is in the reserve. Note that position in the battle party is not the same as position in the caterpillar: the leader is not necessarily hero 0. The opposite to find hero is <a href="#about-herobyslot" class="ref">hero by slot</a>.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-rankincaterpillar" class="ref">rank in caterpillar</a></li></ul>
		</tt></p>
		<a name="about-herobyslot"></a>
		<p>
		<tt>
		<b><font color="yellow">hero by slot (where)</font></b><br>
			This command is the reverse of <a href="#about-findhero" class="ref">find hero</a>. Given a position in your party, it will tell you which hero is in that slot, or -1 if no hero is in that slot. The number returned can be compared with the names defined in your HSI file in the format hero:name.<br>
			
			
		</tt></p>
		<a name="about-rankincaterpillar"></a>
		<p>
		<tt>
		<b><font color="yellow">rank in caterpillar (who)</font></b><br>
			Searches through your active party to see if the specified hero is there, and returns the position int the walkabout caterpillar where the hero was found, or -1 if the hero was not found. Use the names defined in your HSI file in the format hero:name. This is particularaly useful if you need to use a command like walk hero but you are not sure which position the hero is in.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-findhero" class="ref">find hero</a></li></ul>
		</tt></p>
		<a name="about-herobyrank"></a>
		<p>
		<tt>
		<b><font color="yellow">hero by rank (where)</font></b><br>
			This command is the reverse of <a href="#about-rankincaterpillar" class="ref">rank in caterpillar</a>. Given a position in your walkabout party, it will tell you which hero is in that position, or -1 if no hero is in that position. The number returned can be compared with the names defined in your HSI file in the format hero:name.<br>
			
			
		</tt></p>
		<a name="about-getherostat"></a>
		<p>
		<tt>
		<b><font color="yellow">get hero stat (who,stat,type)</font></b><br>
			A function that returns one of a hero's stats. The first argument is the position of the hero you want to check in your party as as returned by <a href="#about-findhero" class="ref">find hero</a>. The second argument is the name of the stat that you want to check. The names of the stats are also define in your HSI file in the form stat:name. The third argument is either <a href="#about-currentstat" class="ref">current stat</a> or <a href="#about-maximumstat" class="ref">maximum stat</a>. If you leave the last argument blank, <a href="#about-currentstat" class="ref">current stat</a> will be assumed.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-setherostat" class="ref">set hero stat</a>, </li>
<li>
<a href="#about-setenemystat" class="ref">set enemy stat</a>, </li>
<li><a href="#about-getenemystat" class="ref">get enemy stat</a></li>
</ul>
		</tt></p>
		<a name="about-setherostat"></a>
		<p>
		<tt>
		<b><font color="yellow">set hero stat (who,stat,value,type)</font></b><br>
			A command that changes one of a hero's stats. The first argument is the position of the hero you want to change in your party as returned by find hero. The second argument is the name of the stat that you want to change. The names of the stats are also define in your HSI file in the form stat:name. The third argument is the new value of the stat. The last argument is either <a href="#about-currentstat" class="ref">current stat</a> or <a href="#about-maximumstat" class="ref">maximum stat</a>. If you leave the last argument blank, <a href="#about-currentstat" class="ref">current stat</a> will be assumed.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-getherostat" class="ref">get hero stat</a>, </li>
<li>
<a href="#about-setenemystat" class="ref">set enemy stat</a>, </li>
<li><a href="#about-getenemystat" class="ref">get enemy stat</a></li>
</ul>
		</tt></p>
		<a name="about-setcappedherostat"></a>
		<p>
		<tt>
		<b><font color="yellow">set capped hero stat (who,stat,value,type)</font></b><br>
			A command that changes one of a hero's stats. The first argument is the position of the hero you want to change in your party as returned by find hero. The second argument is the name of the stat that you want to change. The names of the stats are also define in your HSI file in the form stat:name. The third argument is the new value of the stat. The last argument is either <a href="#about-currentstat" class="ref">current stat</a> or <a href="#about-maximumstat" class="ref">maximum stat</a>. If you leave the last argument blank, <a href="#about-currentstat" class="ref">current stat</a> will be assumed. Unlike <a href="#about-setherostat" class="ref">set hero stat</a>, this command is not allowed to exceed the stat caps.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-setherostat" class="ref">set hero stat</a>, </li>
<li><a href="#about-getherostatcap" class="ref">get hero stat cap</a></li>
</ul>
		</tt></p>
		<a name="about-getherostatcap"></a>
		<p>
		<tt>
		<b><font color="yellow">get hero stat cap (stat)</font></b><br>
			A function that returns the maximum allowed value for a hero stat. The argument is the stat you want to check, either as a number or using the stat:name constants defined in your HSI file. If the return value is 0 or false there is no stat cap for that stat.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-setcappedherostat" class="ref">set capped hero stat</a></li></ul>
		</tt></p>
		<a name="about-getherolevel"></a>
		<p>
		<tt>
		<b><font color="yellow">get hero level (who)</font></b><br>
			A function that returns a hero's current level. The argument is the position of the hero you want to check in your party as as returned by <a href="#about-findhero" class="ref">find hero</a>. The return value with be your current level, from 0 to 99<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-setherolevel" class="ref">set hero level</a>, </li>
<li><a href="#about-totalexperience" class="ref">total experience</a></li>
</ul>
		</tt></p>
		<a name="about-setherolevel"></a>
		<p>
		<tt>
		<b><font color="yellow">set hero level (who, level, forgetspells)</font></b><br>
			A command that sets a hero's current level. The first argument is the position of the hero you want to change in your party as as returned by <a href="#about-findhero" class="ref">find hero</a>. You can specify any hero in the active or reserve party and any (non-negative) level. Unlike old workarounds, this command teachs the hero any spells they would have learnt by that level and correctly sets the experience to next levelup (experience gained to the current next level is lost). You can also decrease the hero's level, which will cause spells to be forgotten, unless the optional 3rd argument (defaulting to true) is set as false.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-getherolevel" class="ref">get hero level</a>, </li>
<li>
<a href="#about-herolevelled" class="ref">hero levelled</a>, </li>
<li>
<a href="#about-spellslearnt" class="ref">spells learnt</a>, </li>
<li><a href="#about-setexperience" class="ref">set experience</a></li>
</ul>
		</tt></p>
		<a name="about-setexperience"></a>
		<p>
		<tt>
		<b><font color="yellow">set experience (who, experience, allowforget)</font></b><br>
			Sets a hero's total experience and updates their experience level, stats and spell list. The argument is the position of the hero you want to check in your party as as returned by <a href="#about-findhero" class="ref">find hero</a>. To decrease a hero's level without forgetting spells which are learnt at a certain experience level, pass false as the optional third argument.<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-setherolevel" class="ref">set hero level</a>, </li>
<li>
<a href="#about-totalexperience" class="ref">total experience</a>, </li>
<li>
<a href="#about-herolevelled" class="ref">hero levelled</a>, </li>
<li><a href="#about-spellslearnt" class="ref">spells learnt</a></li>
</ul>
		</tt></p>
		<a name="about-getlevelmp"></a>
		<p>
		<tt>
		<b><font color="yellow">get level MP (who, mp level slot)</font></b><br>
			Returns a hero's level MP (FF1-style MP). The argument <span class="param">who</span> is the hero's position in the party, as returned by <a href="#about-findhero" class="ref">find hero</a>. The argument <span class="param">mp level slot</span> is a number from 0 to 7 that represents a row of spells in the hero's spell list.<br>
			
			
		</tt></p>
		<a name="about-setlevelmp"></a>
		<p>
		<tt>
		<b><font color="yellow">set level MP (who, mp level slot, new value)</font></b><br>
			Changes a hero's level MP (FF1-style MP). The argument <span class="param">who</span> is the hero's position in the party, as returned by <a href="#about-findhero" class="ref">find hero</a>. The argument <span class="param">mp level slot</span> is a number from 0 to 7 that represents a row of spells in the hero's spell list. The argument <span class="param">new value</span> is the new number of level MP points. Each point represents one spell from that row.<br>
			
			
		</tt></p>
		<a name="about-readglobal"></a>
		<p>
		<tt>
		<b><font color="yellow">read global (id)</font></b><br>
			A function that returns the value of a global variable using its ID number instead of its name. Why would you want to do a silly thing like that? Because it allows you to simulate simple fake arrays, in the old C-pointer style.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-writeglobal" class="ref">write global</a></li></ul>
		</tt></p>
		<a name="about-writeglobal"></a>
		<p>
		<tt>
		<b><font color="yellow">write global (id,value)</font></b><br>
			A function that writes a value into a global variable using its ID number instead of its name. Why would you want to do a silly thing like that? Because it allows you to simulate simple fake arrays, in the old C-pointer style<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-readglobal" class="ref">read global</a></li></ul>
		</tt></p>
		<a name="about-setbattlewaitmode"></a>
		<p>
		<tt>
		<b><font color="yellow">set battle wait mode (state)</font></b><br>
			Set whether or not battles pause on spell and item menus. If the argument is <a href="#about-booleanconstants" class="ref">off</a> then enemies continue to attack while menus are up, if the argument is <a href="#about-booleanconstants" class="ref">on</a> then enemies wait while menus are up.<br>
			
			
		</tt></p>
		<a name="about-setcaterpillarmode"></a>
		<p>
		<tt>
		<b><font color="yellow">set caterpillar mode (state)</font></b><br>
			Sets whether or not to display the whole party in "caterpillar" style. If the argument is <a href="#about-booleanconstants" class="ref">off</a> then only the leader will be displayed. If the argument is <a href="#about-booleanconstants" class="ref">on</a> then the whole party will be displayed. (do not confuse this with the <a href="#about-suspendcaterpillar" class="ref">suspend caterpillar</a> and <a href="#about-resumecaterpillar" class="ref">resume caterpillar</a> commands, which only apply when caterpillar mode is ON)<br>
			
			
		</tt></p>
		<a name="about-setnohpleveluprestore"></a>
		<p>
		<tt>
		<b><font color="yellow">set no HP level up restore (state)</font></b><br>
			Sets whether or not a hero regains full HP after a levelup. If the argument is <a href="#about-booleanconstants" class="ref">off</a> then HP is restored on a levelup. If the argument is <a href="#about-booleanconstants" class="ref">on</a> then the hero's HP is not restored on a levelup.<br>
			
			
		</tt></p>
		<a name="about-setnompleveluprestore"></a>
		<p>
		<tt>
		<b><font color="yellow">set no MP level up restore (state)</font></b><br>
			Sets whether or not a hero regains full MP after a levelup. If the argument is <a href="#about-booleanconstants" class="ref">off</a> then MP is restored on a levelup. If the argument is <a href="#about-booleanconstants" class="ref">on</a> then the hero's MP is not restored on a levelup.<br>
			
			
		</tt></p>
		<a name="about-setinnnorevivemode"></a>
		<p>
		<tt>
		<b><font color="yellow">set inn no revive mode (state)</font></b><br>
			Sets whether or not inns restore dead heroes to life. If the argument is <a href="#about-booleanconstants" class="ref">off</a> then dead heroes are restored by inns. If the argument is <a href="#about-booleanconstants" class="ref">on</a> then dead heroes remain dead in inns.<br>
			
			
		</tt></p>
		<a name="about-setfullheroswapmode"></a>
		<p>
		<tt>
		<b><font color="yellow">set full hero swap mode (state)</font></b><br>
			Sets whether or not you can swap heroes in and out of your active party from the menu. If the argument is <a href="#about-booleanconstants" class="ref">off</a> then the "Order" menu will be available. If the argument is <a href="#about-booleanconstants" class="ref">on</a> then the "Team" menu will be available.<br>
			
			
		</tt></p>
		<a name="about-hidebattlereadymeter"></a>
		<p>
		<tt>
		<b><font color="yellow">hide battle ready meter (state)</font></b><br>
			Sets whether or not the ready meter appears in battle. If the argument is <a href="#about-booleanconstants" class="ref">off</a> then the ready meter appears. If the argument is <a href="#about-booleanconstants" class="ref">on</a> then the ready meter will be hidden.<br>
			
			
		</tt></p>
		<a name="about-hidebattlehealthmeter"></a>
		<p>
		<tt>
		<b><font color="yellow">hide battle health meter (state)</font></b><br>
			Sets whether or not the health meter appears in battle. If the argument is <a href="#about-booleanconstants" class="ref">off</a> then the health meter appears. If the argument is <a href="#about-booleanconstants" class="ref">on</a> then the health meter will be hidden.<br>
			
			
		</tt></p>
		<a name="about-setdebugkeysdisable"></a>
		<p>
		<tt>
		<b><font color="yellow">set debug keys disable (state)</font></b><br>
			Sets whether or not the debugging keys are allowed. If the argument is <a href="#about-booleanconstants" class="ref">off</a> then debugging keys are allowed. If the argument is <a href="#about-booleanconstants" class="ref">on</a> then debugging keys are disabled.<br>
			
			
		</tt></p>
		<a name="about-setdeadheroesgainexperience"></a>
		<p>
		<tt>
		<b><font color="yellow">set dead heroes gain experience (state)</font></b><br>
			Sets whether or not dead heroes gain experience from battles. If the argument is <a href="#about-booleanconstants" class="ref">off</a> then only living heroes gain experience. If the argument is <a href="#about-booleanconstants" class="ref">on</a> then dead heroes get it too.<br>
			
			
		</tt></p>
		<a name="about-allowminimap"></a>
		<p>
		<tt>
		<b><font color="yellow">allow minimap (setting)</font></b><br>
			Sets whether the Map option appears in the menu. Give no argument or <a href="#about-booleanconstants" class="ref">true</a> to enable, or <a href="#about-booleanconstants" class="ref">false</a> to disable. The effect goes away if you change maps or fight a battle.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-showminimap" class="ref">show mini map</a></li></ul>
		</tt></p>
		<a name="about-allowsaveanywhere"></a>
		<p>
		<tt>
		<b><font color="yellow">allow save anywhere (setting)</font></b><br>
			Sets whether the Save option appears in the menu. Give no argument or <a href="#about-booleanconstants" class="ref">true</a> to enable, or <a href="#about-booleanconstants" class="ref">false</a> to disable. The effect goes away if you change maps or fight a battle.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-savemenu" class="ref">save menu</a></li></ul>
		</tt></p>
		<a name="about-autosave"></a>
		<p>
		<tt>
		<b><font color="yellow">autosave</font></b><br>
			Transparently saves the game to the last save slot used, or if the game has not been saved yet, calls <a href="#about-savemenu" class="ref">save menu</a>. Returns the number of the last save slot, or if the user cancelled the save menu, returns false<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-lastsaveslot" class="ref">last save slot</a></li></ul>
		</tt></p>
		<a name="about-saveinslot"></a>
		<p>
		<tt>
		<b><font color="yellow">save in slot (slot)</font></b><br>
			Saves in the specified save slot (1 to 32, where only 1 to 4 are visible on the save and load menus). If a saved game already exists in the slot, it will be overwritten. If you want to make sure that no save game will be overwritten, use <a href="#about-saveslotused" class="ref">save slot used</a>. To display the save game menu instead, use <a href="#about-savemenu" class="ref">save menu</a>.<br>
			
			
		</tt></p>
		<a name="about-loadfromslot"></a>
		<p>
		<tt>
		<b><font color="yellow">load from slot (slot)</font></b><br>
			Loads a saved game from a save slot (where <span class="param">slot</span> is a slot number from 1 to 32, slots 5-32 are hidden) as if it had been loaded from the load game menu. This command will end the current game if it successfully loads. If the load fails because the slot has never been saved in, the script will continue.<br>
			
			
		</tt></p>
		<a name="about-deletesave"></a>
		<p>
		<tt>
		<b><font color="yellow">delete save (slot)</font></b><br>
			Deletes a saved game in the specified save slot (1 to 32, only 1 to 4 appear on the builtin menus). The save will no longer be visible on the load game menu or loadable with <a href="#about-loadfromslot" class="ref">load from slot</a>. However, <a href="#about-importglobals" class="ref">import globals</a> can still be used to read globals out of the slot.<br>
			
			<br>See also: <ul class="seealso"><li><a href="#about-saveinslot" class="ref">save in slot</a></li></ul>
		</tt></p>
		<a name="about-importglobals"></a>
		<p>
		<tt>
		<b><font color="yellow">import globals (slot, first, last)</font></b><br>
			and<br><span class="param">import globals (slot, id)</span><br>Loads a range of globals from a saved game, overwriting the current globals in that range. <span class="param">slot</span> is the save slot number, from 1 to 32. Note that only slots 1-4 appear on the save/load menus. <span class="param">first</span> and <span class="param">last</span> are the id numbers of the globals at the beginning and end of the range. If you leave out both of <span class="param">first</span> and <span class="param">last</span> all global variables will be imported. <br>To read a single global from a save slot without modifying any of your globals, use the form 'var := import globals (slot, id)'<br>This is NOT the same thing as 'import globals (slot, id, id)', which does modify the global variable.<br>import globals and <a href="#about-exportglobals" class="ref">export globals</a> can be used to save and retrieve info about a saved game without loading it, and also to store variables that any game the player starts can use, like in the following example:<br>
			<pre>global variable (100, game completed)
global variable (101, hours to complete)
global variable (102, minutes to complete)

plotscript, game finished, begin
  game complete := true
  hours to complete := hours of play
  minutes to complete := minutes of play
  export globals (5, 100, 102) #special slot that the player can not load, which we can use for anything
end

plotscript, check game finished, begin
  import globals (5, 100, 102) #copy saved values into globals 100, 101, 102
  if (game completed) then (
    show textbox (105) #"you have previously finished this game in ${V101} hours and ${V102} minutes"
  ) else (
    show textbox (106) #"you have yet to complete the game!"
  )
  wait for textbox
end</pre>
			<br>See also: <ul class="seealso">
<li>
<a href="#about-exportglobals" class="ref">export globals</a>, </li>
<li><a href="#about-readglobal" class="ref">read global</a></li>
</ul>
		</tt></p>
		<a name="about-exportglobals"></a>
		<p>
		<tt>
		<b><font color="yellow">export globals (slot, first, last)</font></b><br>
			Writes a range of globals to a save game slot, overwriting the saved game's globals. <span class="param">slot</span> is the save slot number, from 1 to 32. Note that only slots 1-4 appear on the save/load menus. <span class="param">first</span> and <span class="param">last</span> are the id numbers of the globals at the beginning and end of the range. <span class="param">first</span> defaults to 0, and <span class="param">last</span> defaults to 4095. Therefore, if you pass no range, all the globals will be written.<div style="background-color:#EFF;" class="note">
<img src="http://gilgamesh.hamsterrepublic.com/wiki/ohrrpgce-images/0/01/Plotnote.png" alt="[Note]" class="icon">You can export globals to an empty slot! This doesn't create a visible save game that the player can load, however you will still be able to read them with <a href="#about-importglobals" class="ref">import globals</a>.<br clear="all">
</div>
<div style="background-color:#EFF;" class="note">
<img src="http://gilgamesh.hamsterrepublic.com/wiki/ohrrpgce-images/0/01/Plotnote.png" alt="[Note]" class="icon">Unlike importglobals, 'export globals (slot, first)' does NOT export a single global variable!<br clear="all">
</div>
<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-importglobals" class="ref">import globals</a>, </li>
<li><a href="#about-writeglobal" class="ref">write global</a></li>
</ul>
		</tt></p>
		<a name="about-runscriptbyid"></a>
		<p>
		<tt>
		<b><font color="yellow">run script by ID (id, argument1, argument2, argument3...)</font></b><br>
			The <span class="param">run script by id</span> allows you to run a script using its ID. The advantage of this as opposed to just calling the script directly is that the ID may be stored in a variable, or it could be the function return value of another script. Arguments after the ID will be passed to the script. The script can also return a value as normal. A runtime error is displayed and -1 is returned if the script does not exist. You can pass up to 31 arguments to the script.<div style="background-color:#EFF;" class="note">
<img src="http://gilgamesh.hamsterrepublic.com/wiki/ohrrpgce-images/0/01/Plotnote.png" alt="[Note]" class="icon">No check on the correct number of arguments can be performed, so default arguments are not used.<br clear="all">
</div>
<br>
			<pre>plotscript,scriptcallingtest,begin
  show value (run script by id (@sum, 1, 2, 3))
end

script,sum,a,b,c,begin
  return(a+b+c)
end</pre>
			
		</tt></p>
		<a name="about-getdamagecap"></a>
		<p>
		<tt>
		<b><font color="yellow">get damage cap</font></b><br>
			Returns the current damage cap, or 0 if none<br>
			
			
		</tt></p>
		<a name="about-setdamagecap"></a>
		<p>
		<tt>
		<b><font color="yellow">set damage cap (cap)</font></b><br>
			Sets the current damage cap to <span class="param">cap</span>. Use 0 for no cap.<br>
			
			
		</tt></p>
		<a name="about-trace"></a>
		<p>
		<tt>
		<b><font color="yellow">trace (string)</font></b><br>
			Writes string #<span class="param">string</span> to "G_DEBUG.TXT".<br>
			<pre>variable(i)
i:= random(1,1000)
$1="i = "
append number(1,i) #"i = 1"
trace(1) # writes "TRACE: i = 1" to G_DEBUG.TXT</pre>
			
		</tt></p>
		<a name="about-savemapstate"></a>
		<p>
		<tt>
		<b><font color="yellow">save map state (whichdata, customid)</font></b><br>
			Saves the state of the current map to a temporary file which will be loaded (unless the map is set to ignore that particular data) when you reenter the current map, in the same way as a map set to save (remember) NPC or tile data: the saved state will be used instead of the map data in the RPG file. Both arguments are optional and are only for advanced uses.<br> Map state is not saved in saved games, and the temporary files will be deleted when you load or start a new a game!<br><span class="param">whichdata</span> is an <a href="#about-or" class="ref">or</a>'d combination of the following constants, which specify exactly what you want to save:<br><ul>
<li>mapstate:all = mapstate:mapsettings, or, mapstate:npcs, or, mapstate:tiles</li>
<li>mapstate:npcs = mapstate:npclocations, or, mapstate:npcdefinitions</li>
<li>mapstate:tiles = mapstate:tilemap, or, mapstate:passmap</li>
<li>mapstate:mapsettings</li>
<li>mapstate:npclocations</li>
<li>mapstate:npcdefinitions</li>
<li>mapstate:tilemap</li>
<li>mapstate:passmap</li>
</ul>The default is mapstate:all. <br>If <span class="param">customid</span> is passed, it is used to save the state in a separate state file with an id number of <span class="param">customid</span> which can only be loaded with <a href="#about-loadmapstate" class="ref">load map state</a>. There are 32 available slots for use: 0 - 31.<br>Note that mapstate:mapsettings (also saved by mapstate:all) is special in that if you save it, it will always be loaded when the map is loaded regardless of settings. It saves all the settings found in the General Map Settings menu like the tileset, ambient music, footoffset, map trigger scripts, and so forth.<br>
			<pre>plotscript, generic menu screen, begin
  variable (remember map, remember x, remember y)
  remember map := current map
  remember x := hero x
  remember y := hero y
  # we want NPCs and things to stay in the same place after we come back from the menu
  save map state

  fade screen out
  wait
  teleport to map (map:generic menu)
  fade screen in
  wait

  # menu code here
  #...
  #...

  fade screen out
  wait
  teleport to map (remember map, remember x, remember y)
  # assume the map is set to load state only, the default (otherwise, use load map state)
  fade screen in
  wait

  # we want the map to go back to resetting whenever you enter/exit it (like normal)
  delete map state
end</pre>
			
		</tt></p>
		<a name="about-loadmapstate"></a>
		<p>
		<tt>
		<b><font color="yellow">load map state (whichdata, customid)</font></b><br>
			Load temporary map state data previously saved either by <a href="#about-savemapstate" class="ref">save map state</a> or when leaving a map set to remember state. The two arguments are optional and for advanced use. <span class="param">whichdata</span> is a set of bits in the <a href="#about-savemapstate" class="ref">save map state</a> format to determine what exactly to load. The default is mapstate:all. <span class="param">customid</span> is a number between 0 and 31 of a slot in which a custom save was made. Data from a different map can be loaded, but only tile data from a map of the same size! If you attempt to load state data which has not been saved then it will be loaded from the game files instead, unless you are using <span class="param">customid</span>, in which case nothing will be loaded.<br>
			
			
		</tt></p>
		<a name="about-resetmapstate"></a>
		<p>
		<tt>
		<b><font color="yellow">reset map state (whichdata)</font></b><br>
			Reloads original unaltered map data from the RPG file. <span class="param">whichdata</span> is a set of bits in the <a href="#about-savemapstate" class="ref">save map state</a> format to determine what exactly to load. It is optional and the default is mapstate:all. This does not remove temp state files for the map, so they could still be loaded instead when you next enter the map, use <a href="#about-deletemapstate" class="ref">delete map state</a> to remove them if wanted.<br>
			
			
		</tt></p>
		<a name="about-deletemapstate"></a>
		<p>
		<tt>
		<b><font color="yellow">delete map state (whichdata)</font></b><br>
			Deletes temporary map state files for the current map, so that if the map is set to load NPC or tile data it will load the original data from the game files when it is entered. <span class="param">whichdata</span> is a set of bits in the <a href="#about-savemapstate" class="ref">save map state</a> format to determine what exactly to delete. The default is mapstate:all.<br>
			
			
		</tt></p>
		<a name="about-gettileanimationoffset"></a>
		<p>
		<tt>
		<b><font color="yellow">get tile animation offset (animation pattern, layer)</font></b><br>
			Returns the offset from the starting tile that the <span class="param">animation pattern</span> (either 0 or 1) of the tileset in use by the <span class="param">layer</span> (0 to 2) is currently at. For example, if the pattern has stepped 1 to the right, the offset is 1, if it has moved down 2 and 1 to the left, it is 31 (2 * 16 - 1). Because different layers can have different tilesets, you might need to specify the layer with the tileset to examine; otherwise layer 0 is assumed.<div style="background-color:#EFF;" class="note">
<img src="http://gilgamesh.hamsterrepublic.com/wiki/ohrrpgce-images/0/01/Plotnote.png" alt="[Note]" class="icon">Layers that use the same tileset do NOT have different copies of the tileset. Layers with the same tileset will always have the same tile animation offsets.<br clear="all">
</div>
<br>
			
			<br>See also: <ul class="seealso">
<li>
<a href="#about-readmapblock" class="ref">read map block</a>, </li>
<li><a href="#about-animationstarttile" class="ref">animation start tile</a></li>
</ul>
		</tt></p>
		<a name="about-settileanimationoffset"></a>
		<p>
		<tt>
		<b><font color="yellow">set tile animation offset (animation pattern, offset, layer)</font></b><br>
			Sets the offset from the starting tile that an <span class="param">animation pattern</span> (either 0 or 1) of a tileset in use by a <span class="param">layer</span> (0 to 2) is currently at. If there is a pattern defined, it will continue to step left, right, up and down from the offset you give it, until the end of the animation is reached, when the offset is reset to 0. Because different layers can have different tilesets, you might need to specify the layer with the tileset to examine; otherwise layer 0 is assumed. <div style="background-color:#EFF;" class="note">
<img src="http://gilgamesh.hamsterrepublic.com/wiki/ohrrpgce-images/0/01/Plotnote.png" alt="[Note]" class="icon">Layers that use the same tileset do NOT have different copies of the tileset. Layers with the same tileset will always have the same tile animation offsets, you can not change them independently.<br clear="all">
</div>
<br>
			
			
		</tt></p>
		<a name="about-milliseconds"></a>
		<p>
		<tt>
		<b><font color="yellow">milliseconds</font></b><br>
			Use to measure time intervals accurately. Subtract two values returned by milliseconds at different times to find the number of ms (1000ths of a second) elapsed in between. A single value is useless (the computer's uptime or any random value).<br>
			
			
		</tt></p>

		<hr>
	
		<a name="Predefined%20Constants"></a>

		<font color="#f06060" size="4">Predefined Constants</font>
		<p></p>
		
		<a name="about-numericconstants"></a>
		<p>
		<tt>
		<b><font color="yellow">Numeric Constants</font></b><br>
			PLOTSCR.HSD defines constants for the numbers from 0 to 10. you can use these constants to make your scripts look friendly :)<br>zero, one, two, three, four, five, six, seven, eight, nine, ten<br>
			
			
		</tt></p>
		<a name="about-zero"></a>
		<p>
		<tt>
		
				<b><font color="yellow">zero</font></b><br>
				See <a href="#about-numericconstants">Numeric Constants</a>
			</tt></p>
		<a name="about-one"></a>
		<p>
		<tt>
		
				<b><font color="yellow">one</font></b><br>
				See <a href="#about-numericconstants">Numeric Constants</a>
			</tt></p>
		<a name="about-two"></a>
		<p>
		<tt>
		
				<b><font color="yellow">two</font></b><br>
				See <a href="#about-numericconstants">Numeric Constants</a>
			</tt></p>
		<a name="about-three"></a>
		<p>
		<tt>
		
				<b><font color="yellow">three</font></b><br>
				See <a href="#about-numericconstants">Numeric Constants</a>
			</tt></p>
		<a name="about-four"></a>
		<p>
		<tt>
		
				<b><font color="yellow">four</font></b><br>
				See <a href="#about-numericconstants">Numeric Constants</a>
			</tt></p>
		<a name="about-five"></a>
		<p>
		<tt>
		
				<b><font color="yellow">five</font></b><br>
				See <a href="#about-numericconstants">Numeric Constants</a>
			</tt></p>
		<a name="about-six"></a>
		<p>
		<tt>
		
				<b><font color="yellow">six</font></b><br>
				See <a href="#about-numericconstants">Numeric Constants</a>
			</tt></p>
		<a name="about-seven"></a>
		<p>
		<tt>
		
				<b><font color="yellow">seven</font></b><br>
				See <a href="#about-numericconstants">Numeric Constants</a>
			</tt></p>
		<a name="about-eight"></a>
		<p>
		<tt>
		
				<b><font color="yellow">eight</font></b><br>
				See <a href="#about-numericconstants">Numeric Constants</a>
			</tt></p>
		<a name="about-nine"></a>
		<p>
		<tt>
		
				<b><font color="yellow">nine</font></b><br>
				See <a href="#about-numericconstants">Numeric Constants</a>
			</tt></p>
		<a name="about-ten"></a>
		<p>
		<tt>
		
				<b><font color="yellow">nine</font></b><br>
				See <a href="#about-numericconstants">Numeric Constants</a>
			</tt></p>
		<a name="about-keyconstants"></a>
		<p>
		<tt>
		<b><font color="yellow">Key Constants</font></b><br>
			PLOTSCR.HSD defines constants that correspond to each of the usable keys (or joystick buttons) that the player can press while playing. These are useful with the <a href="#about-waitforkey" class="ref">wait for key</a> command.<br>any key, up key, down key, left key, right key, use key, menu key, cancel key<br>
			
			
		</tt></p>
		<a name="about-anykey"></a>
		<p>
		<tt>
		
				<b><font color="yellow">any key</font></b><br>
				See <a href="#about-keyconstants">Key Constants</a>
			</tt></p>
		<a name="about-upkey"></a>
		<p>
		<tt>
		
				<b><font color="yellow">up key</font></b><br>
				See <a href="#about-keyconstants">Key Constants</a>
			</tt></p>
		<a name="about-downkey"></a>
		<p>
		<tt>
		
				<b><font color="yellow">down key</font></b><br>
				See <a href="#about-keyconstants">Key Constants</a>
			</tt></p>
		<a name="about-leftkey"></a>
		<p>
		<tt>
		
				<b><font color="yellow">left key</font></b><br>
				See <a href="#about-keyconstants">Key Constants</a>
			</tt></p>
		<a name="about-rightkey"></a>
		<p>
		<tt>
		
				<b><font color="yellow">right key</font></b><br>
				See <a href="#about-keyconstants">Key Constants</a>
			</tt></p>
		<a name="about-usekey"></a>
		<p>
		<tt>
		
				<b><font color="yellow">use key</font></b><br>
				See <a href="#about-keyconstants">Key Constants</a>
			</tt></p>
		<a name="about-menukey"></a>
		<p>
		<tt>
		
				<b><font color="yellow">menu key</font></b><br>
				See <a href="#about-keyconstants">Key Constants</a>
			</tt></p>
		<a name="about-cancelkey"></a>
		<p>
		<tt>
		
				<b><font color="yellow">cancel key</font></b><br>
				See <a href="#about-keyconstants">Key Constants</a>
			</tt></p>
		<a name="about-booleanconstants"></a>
		<p>
		<tt>
		<b><font color="yellow">Boolean Constants</font></b><br>
			PLOTSCR.HSD defines constants for true and false, and for ON and OFF. These are useful for checking and setting the values of tags, and in conditional statements.<br>true, false, on, off<br>
			
			
		</tt></p>
		<a name="about-true"></a>
		<p>
		<tt>
		
				<b><font color="yellow">true</font></b><br>
				See <a href="#about-booleanconstants">Boolean Constants</a>
			</tt></p>
		<a name="about-false"></a>
		<p>
		<tt>
		
				<b><font color="yellow">false</font></b><br>
				See <a href="#about-booleanconstants">Boolean Constants</a>
			</tt></p>
		<a name="about-on"></a>
		<p>
		<tt>
		
				<b><font color="yellow">on</font></b><br>
				See <a href="#about-booleanconstants">Boolean Constants</a>
			</tt></p>
		<a name="about-off"></a>
		<p>
		<tt>
		
				<b><font color="yellow">off</font></b><br>
				See <a href="#about-booleanconstants">Boolean Constants</a>
			</tt></p>
		<a name="about-directionconstants"></a>
		<p>
		<tt>
		<b><font color="yellow">Direction Constants</font></b><br>
			PLOTSCR.HSD defines constants for each of the four directions. These constants are useful for commands such as <a href="#about-walkhero" class="ref">walk hero</a> and <a href="#about-walknpc" class="ref">walk NPC</a>, which take a direction as an argument.<br>north, south, east, west, up, down, right, left<br>
			
			
		</tt></p>
		<a name="about-north"></a>
		<p>
		<tt>
		
				<b><font color="yellow">north</font></b><br>
				See <a href="#about-directionconstants">Direction Constants</a>
			</tt></p>
		<a name="about-south"></a>
		<p>
		<tt>
		
				<b><font color="yellow">south</font></b><br>
				See <a href="#about-directionconstants">Direction Constants</a>
			</tt></p>
		<a name="about-east"></a>
		<p>
		<tt>
		
				<b><font color="yellow">east</font></b><br>
				See <a href="#about-directionconstants">Direction Constants</a>
			</tt></p>
		<a name="about-west"></a>
		<p>
		<tt>
		
				<b><font color="yellow">west</font></b><br>
				See <a href="#about-directionconstants">Direction Constants</a>
			</tt></p>
		<a name="about-up"></a>
		<p>
		<tt>
		
				<b><font color="yellow">up</font></b><br>
				See <a href="#about-directionconstants">Direction Constants</a>
			</tt></p>
		<a name="about-down"></a>
		<p>
		<tt>
		
				<b><font color="yellow">down</font></b><br>
				See <a href="#about-directionconstants">Direction Constants</a>
			</tt></p>
		<a name="about-right"></a>
		<p>
		<tt>
		
				<b><font color="yellow">right</font></b><br>
				See <a href="#about-directionconstants">Direction Constants</a>
			</tt></p>
		<a name="about-left"></a>
		<p>
		<tt>
		
				<b><font color="yellow">left</font></b><br>
				See <a href="#about-directionconstants">Direction Constants</a>
			</tt></p>
		<a name="about-me"></a>
		<p>
		<tt>
		<b><font color="yellow">me</font></b><br>
			me is a constant that can be used to refer to the first hero in your party (hero zero) in any command that takes a hero number as an argument.<br>
			
			
		</tt></p>
		<a name="about-none"></a>
		<p>
		<tt>
		<b><font color="yellow">none</font></b><br>
			none is a constant that means the same as zero.<br>
			
			
		</tt></p>
		<a name="about-autonumber"></a>
		<p>
		<tt>
		<b><font color="yellow">autonumber</font></b><br>
			autonumber is a constant that is used as the ID number in old-style <a href="#about-definescript" class="ref">define script</a> commands. This is not needed anymore. Use <a href="#about-script" class="ref">script</a> instead.<br>
			
			
		</tt></p>
		<a name="about-currentstat"></a>
		<p>
		<tt>
		<b><font color="yellow">current stat</font></b><br>
			A constant for use with the <a href="#about-getherostat" class="ref">get hero stat</a> and <a href="#about-setherostat" class="ref">set hero stat</a> commands.<br>
			
			
		</tt></p>
		<a name="about-maximumstat"></a>
		<p>
		<tt>
		<b><font color="yellow">maximum stat</font></b><br>
			A constant for use with the <a href="#about-getherostat" class="ref">get hero stat</a> and <a href="#about-setherostat" class="ref">set hero stat</a> commands.<br>
			
			
		</tt></p>
		<a name="about-insidebattle"></a>
		<p>
		<tt>
		<b><font color="yellow">inside battle</font></b><br>
			A constant used in the <a href="#about-getheropicture" class="ref">get hero picture</a>, <a href="#about-setheropicture" class="ref">set hero picture</a>, <a href="#about-getheropalette" class="ref">get hero palette</a>, <a href="#about-setheropalette" class="ref">set hero palette</a>, <a href="#about-resetheropicture" class="ref">reset hero picture</a> and <a href="#about-resetheropalette" class="ref">reset hero palette</a> commands to represent the battle graphics.<br>
			
			
		</tt></p>
		<a name="about-outsidebattle"></a>
		<p>
		<tt>
		<b><font color="yellow">outside battle</font></b><br>
			A constant used in the <a href="#about-getheropicture" class="ref">get hero picture</a>, <a href="#about-setheropicture" class="ref">set hero picture</a>, <a href="#about-getheropalette" class="ref">get hero palette</a>, <a href="#about-setheropalette" class="ref">set hero palette</a>, <a href="#about-resetheropicture" class="ref">reset hero picture</a> and <a href="#about-resetheropalette" class="ref">reset hero palette</a> commands to represent the walkabout graphics.<br>
			
			
		</tt></p>
		<a name="about-colorconstants"></a>
		<p>
		<tt>
		<b><font color="yellow">Color Constants</font></b><br>
			PLOTSCR.HSD defines constants for each of the three primary colors. These are used in commands like <a href="#about-readcolor" class="ref">read color</a> or <a href="#about-writecolor" class="ref">write color</a><br>color:red, color:green, color:blue<br>
			
			
		</tt></p>
		<a name="about-colorred"></a>
		<p>
		<tt>
		
				<b><font color="yellow">color:red</font></b><br>
				See <a href="#about-colorconstants">Color Constants</a>
			</tt></p>
		<a name="about-colorgreen"></a>
		<p>
		<tt>
		
				<b><font color="yellow">color:green</font></b><br>
				See <a href="#about-colorconstants">Color Constants</a>
			</tt></p>
		<a name="about-colorblue"></a>
		<p>
		<tt>
		
				<b><font color="yellow">color:blue</font></b><br>
				See <a href="#about-colorconstants">Color Constants</a>
			</tt></p>
		<a name="about-mouseconstants"></a>
		<p>
		<tt>
		<b><font color="yellow">Mouse Constants</font></b><br>
			PLOTSCR.HSD defines constants for use with the mouse functions. They're used the <a href="#about-mousebutton" class="ref">mouse button</a> command.<br>left button, right button<br>
			
			
		</tt></p>
		<a name="about-leftbutton"></a>
		<p>
		<tt>
		
				<b><font color="yellow">left button</font></b><br>
				See <a href="#about-mouseconstants">Mouse Constants</a>
			</tt></p>
		<a name="about-rightbutton"></a>
		<p>
		<tt>
		
				<b><font color="yellow">right button</font></b><br>
				See <a href="#about-mouseconstants">Mouse Constants</a>
			</tt></p>
		<a name="about-getcount"></a>
		<p>
		<tt>
		<b><font color="yellow">get count</font></b><br>
			When passed to <a href="#about-npcatpixel" class="ref">NPC at pixel</a>, <a href="#about-npcatspot" class="ref">NPC at spot</a>, <a href="#about-sliceatpixel" class="ref">slice at pixel</a> or <a href="#childsliceatpixel" class="undef">childsliceatpixel</a> they return the number of NPCs or slices at that spot. With <a href="#about-spellslearnt" class="ref">spells learnt</a> returns the number of spells a hero learnt. With <a href="#about-findenemyinformation" class="ref">find enemy in formation</a>, returns the number of enemies, or the number of some kind of enemy in the formation.<br>
			
			
		</tt></p>
		<a name="about-tileconstants"></a>
		<p>
		<tt>
		<b><font color="yellow">Tile Constants</font></b><br>
			PLOTSCR.HSD defines constants for use with functions like <a href="#about-readpassblock" class="ref">read pass block</a> or <a href="#about-writepassblock" class="ref">write pass block</a>.<br>north wall, east wall, south wall, west wall, vehicle A, vehicle B, harm tile, overhead tile<br>
			
			
		</tt></p>
		<a name="about-northwall"></a>
		<p>
		<tt>
		
				<b><font color="yellow">north wall</font></b><br>
				See <a href="#about-tileconstants">Tile Constants</a>
			</tt></p>
		<a name="about-eastwall"></a>
		<p>
		<tt>
		
				<b><font color="yellow">east wall</font></b><br>
				See <a href="#about-tileconstants">Tile Constants</a>
			</tt></p>
		<a name="about-westwall"></a>
		<p>
		<tt>
		
				<b><font color="yellow">west wall</font></b><br>
				See <a href="#about-tileconstants">Tile Constants</a>
			</tt></p>
		<a name="about-southwall"></a>
		<p>
		<tt>
		
				<b><font color="yellow">south wall</font></b><br>
				See <a href="#about-tileconstants">Tile Constants</a>
			</tt></p>
		<a name="about-vehiclea"></a>
		<p>
		<tt>
		
				<b><font color="yellow">vehicle A</font></b><br>
				See <a href="#about-tileconstants">Tile Constants</a>
			</tt></p>
		<a name="about-vehicleb"></a>
		<p>
		<tt>
		
				<b><font color="yellow">vehicle B</font></b><br>
				See <a href="#about-tileconstants">Tile Constants</a>
			</tt></p>
		<a name="about-harmtile"></a>
		<p>
		<tt>
		
				<b><font color="yellow">harm tile</font></b><br>
				See <a href="#about-tileconstants">Tile Constants</a>
			</tt></p>
		<a name="about-overheadtile"></a>
		<p>
		<tt>
		
				<b><font color="yellow">overhead tile</font></b><br>
				See <a href="#about-tileconstants">Tile Constants</a>
			</tt></p>
		<a name="about-crop"></a>
		<p>
		<tt>
		<b><font color="yellow">crop</font></b><br>
			A constant used in <a href="#about-setmapedgemode" class="ref">set map edge mode</a> which makes the edges of the map impassible and prevents the camera from scrolling off them.<br>
			
			
		</tt></p>
		<a name="about-wrap"></a>
		<p>
		<tt>
		<b><font color="yellow">wrap</font></b><br>
			A constant used in <a href="#about-setmapedgemode" class="ref">set map edge mode</a> which lets the player walk over the edge of the map around to the opposite side.<br>
			
			
		</tt></p>
		<a name="about-defaulttile"></a>
		<p>
		<tt>
		<b><font color="yellow">default tile</font></b><br>
			A constant used in <a href="#about-setmapedgemode" class="ref">set map edge mode</a> which makes the edges of the map impassible and displays a specified tile everywhere off the edge of the map.<br>
			
			
		</tt></p>
		<a name="about-party"></a>
		<p>
		<tt>
		<b><font color="yellow">party</font></b><br>
			Pass as first argument to <a href="#about-giveexperience" class="ref">give experience</a> to divide the experience between all the live heroes in the battle (active) party.<br>
			
			
		</tt></p>
		<a name="about-xaxis"></a>
		<p>
		<tt>
		<b><font color="yellow">x axis</font></b><br>
			Pass to <a href="#about-joystickaxis" class="ref">joystick axis</a> to specify the X axis (left and right).<br>
			
			
		</tt></p>
		<a name="about-yaxis"></a>
		<p>
		<tt>
		<b><font color="yellow">y axis</font></b><br>
			Pass to <a href="#about-joystickaxis" class="ref">joystick axis</a> to specify the Y axis (up and down).<br>
			
			
		</tt></p>
		<a name="about-timer:default"></a>
		<p>
		<tt>
		<b><font color="yellow">timer: default</font></b><br>
			Pass to <a href="#about-settimer" class="ref">set timer</a> to leave one of the parameters at its default setting. Valid for any parameter except <span class="param">id</span><br>
			
			
		</tt></p>
		<a name="about-timer:gameover"></a>
		<p>
		<tt>
		<b><font color="yellow">timer: game over</font></b><br>
			Pass to <a href="#about-settimer" class="ref">set timer</a> in the <span class="param">trigger</span> field to have the game end when the timer runs out.<br>
			
			
		</tt></p>
		<a name="about-timerflag:critical"></a>
		<p>
		<tt>
		<b><font color="yellow">timer flag: critical</font></b><br>
			Pass to <a href="#about-settimer" class="ref">set timer</a> in the <span class="param">flags</span> field to indicate that if the timer runs out during a battle, it should end the battle immediately.<br>
			
			
		</tt></p>
		<a name="about-timerflag:battle"></a>
		<p>
		<tt>
		<b><font color="yellow">timer flag: battle</font></b><br>
			Pass to <a href="#about-settimer" class="ref">set timer</a> in the <span class="param">flags</span> field to indicate that the timer should run during battle. Otherwise, the timer will be paused during battle.<br>
			
			
		</tt></p>
		<a name="about-timerflag:menu"></a>
		<p>
		<tt>
		<b><font color="yellow">timer flag: menu</font></b><br>
			Pass to <a href="#about-settimer" class="ref">set timer</a> in the <span class="param">flags</span> field to indicate that the timer should run while the player is in the menu. Otherwise, it will be paused while the player is in the main menu.<br>
			
			
		</tt></p>
		<a name="about-song:silence"></a>
		<p>
		<tt>
		<b><font color="yellow">song: silence</font></b><br>
			Used with <a href="#about-setformationsong" class="ref">set formation song</a> and <a href="#about-getformationsong" class="ref">get formation song</a> to indicate an enemy formation without music. Used by <a href="#about-setambientmusic" class="ref">set ambient music</a> and <a href="#about-getambientmusic" class="ref">get ambient music</a> for a silent map.<br>
			
			
		</tt></p>
		<a name="about-song:sameaslastmap"></a>
		<p>
		<tt>
		<b><font color="yellow">song: same as last map</font></b><br>
			Used with <a href="#about-setformationsong" class="ref">set formation song</a> and <a href="#about-getformationsong" class="ref">get formation song</a> to indicate an enemy formation which uses the same music as the map. Used by <a href="#about-setambientmusic" class="ref">set ambient music</a> and <a href="#about-getambientmusic" class="ref">get ambient music</a> for a map that continues with the last map's music.<br>
			
			
		</tt></p>
		<a name="about-song:sameasmap"></a>
		<p>
		<tt>
		
				<b><font color="yellow">song: same as map</font></b><br>
				See <a href="#about-song:sameaslastmap">song: same as last map</a>
			</tt></p>

		<hr>
	<p>Stats: There are 681 commands in this file, of which 54 are only references to other commands.</p>
<p>This file was generated from an XML file. The contents were painstakingly transcribed by Mike Caron from the original Plotscripting Dictionary, which was created by James Paige.</p>
</body>
</html>
